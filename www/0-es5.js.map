{"version":3,"sources":["webpack:///node_modules/@ionic/core/dist/esm/animation-096c6391.js"],"names":["animationPrefix","processKeyframes","keyframes","forEach","keyframe","key","hasOwnProperty","value","newKey","convertCamelCaseToHypen","str","replace","toLowerCase","getAnimationPrefix","el","undefined","supportsUnprefixed","style","animationName","supportsWebkitPrefix","webkitAnimationName","setStyleProperty","element","propertyName","prefix","startsWith","setProperty","removeStyleProperty","removeProperty","animationEnd","callback","unRegTrans","opts","passive","unregister","onTransitionEnd","ev","target","addEventListener","removeEventListener","generateKeyframeRules","map","offset","frameString","property","push","join","keyframeIds","generateKeyframeName","keyframeRules","index","indexOf","getStyleContainer","rootNode","getRootNode","head","createKeyframeStylesheet","keyframeName","styleContainer","keyframePrefix","existingStylesheet","querySelector","stylesheet","ownerDocument","document","createElement","id","textContent","appendChild","addClassToArray","classes","className","classNameToAppend","Array","isArray","createAnimation","animationId","_delay","_duration","_easing","_iterations","_fill","_direction","_keyframes","beforeAddClasses","beforeRemoveClasses","initialized","parentAnimation","beforeStylesValue","afterAddClasses","afterRemoveClasses","afterStylesValue","numAnimationsRunning","shouldForceLinearEasing","shouldForceSyncPlayback","cssAnimationsTimerFallback","forceDirectionValue","forceDurationValue","forceDelayValue","willComplete","finished","shouldCalculateNumAnimations","ani","onFinishCallbacks","onFinishOneTimeCallbacks","elements","childAnimations","stylesheets","_beforeAddReadFunctions","_beforeAddWriteFunctions","_afterAddReadFunctions","_afterAddWriteFunctions","webAnimations","supportsAnimationEffect","AnimationEffect","window","supportsWebAnimations","Element","prototype","animate","ANIMATION_END_FALLBACK_PADDING_MS","getWebAnimations","destroy","clearStyleSheets","childAnimation","cleanUp","length","clearOnFinish","cleanUpElements","cleanUpStyleSheets","resetFlags","onFinish","callbacks","oneTimeCallback","c","o","animation","cancel","elementsArray","slice","parentNode","removeChild","beforeAddRead","readFn","beforeAddWrite","writeFn","afterAddRead","afterAddWrite","beforeAddClass","beforeRemoveClass","beforeStyles","styles","beforeClearStyles","propertyNames","afterAddClass","afterRemoveClass","afterStyles","afterClearStyles","getFill","getDirection","getEasing","getDuration","getIterations","getDelay","getKeyframes","direction","animationDirection","update","fill","animationFill","delay","animationDelay","easing","animationEasing","duration","animationDuration","iterations","animationIterations","parent","addElement","nodeType","i","console","error","addAnimation","animationToAdd","keyframeValues","beforeAnimation","addClasses","removeClasses","elementClassList","classList","add","remove","afterAnimation","clearCSSAnimationsTimeout","currentStep","onFinishCallback","animationFinish","initializeCSSAnimation","toggleAnimationName","processedKeyframes","iterationsCount","Infinity","toString","initializeWebAnimation","pause","onfinish","initializeAnimation","setAnimationStep","step","Math","min","max","currentTime","effect","getComputedTiming","updateWebAnimation","updateTiming","updateCSSAnimation","deep","progressStart","forceLinearEasing","pauseAnimation","progressStep","progressEnd","playTo","dur","play","onAnimationEndFallback","clearTimeout","playCSSAnimations","isFinite","setTimeout","clearCSSAnimationPlayState","playWebAnimations","resetAnimation","Promise","resolve","sync","stop","from","firstFrame","to","lastFrame","fromTo","fromValue","toValue"],"mappings":"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","file":"0-es5.js","sourcesContent":["import { r as raf } from './helpers-dd7e4b7b.js';\n\nlet animationPrefix;\n/**\n * Web Animations requires hyphenated CSS properties\n * to be written in camelCase when animating\n */\nconst processKeyframes = (keyframes) => {\n  keyframes.forEach(keyframe => {\n    for (const key in keyframe) {\n      if (keyframe.hasOwnProperty(key)) {\n        const value = keyframe[key];\n        if (key === 'easing') {\n          const newKey = 'animation-timing-function';\n          keyframe[newKey] = value;\n          delete keyframe[key];\n        }\n        else {\n          const newKey = convertCamelCaseToHypen(key);\n          if (newKey !== key) {\n            keyframe[newKey] = value;\n            delete keyframe[key];\n          }\n        }\n      }\n    }\n  });\n  return keyframes;\n};\nconst convertCamelCaseToHypen = (str) => {\n  return str.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n};\nconst getAnimationPrefix = (el) => {\n  if (animationPrefix === undefined) {\n    const supportsUnprefixed = el.style.animationName !== undefined;\n    const supportsWebkitPrefix = el.style.webkitAnimationName !== undefined;\n    animationPrefix = (!supportsUnprefixed && supportsWebkitPrefix) ? '-webkit-' : '';\n  }\n  return animationPrefix;\n};\nconst setStyleProperty = (element, propertyName, value) => {\n  const prefix = propertyName.startsWith('animation') ? getAnimationPrefix(element) : '';\n  element.style.setProperty(prefix + propertyName, value);\n};\nconst removeStyleProperty = (element, propertyName) => {\n  const prefix = propertyName.startsWith('animation') ? getAnimationPrefix(element) : '';\n  element.style.removeProperty(prefix + propertyName);\n};\nconst animationEnd = (el, callback) => {\n  let unRegTrans;\n  const opts = { passive: true };\n  const unregister = () => {\n    if (unRegTrans) {\n      unRegTrans();\n    }\n  };\n  const onTransitionEnd = (ev) => {\n    if (el === ev.target) {\n      unregister();\n      callback(ev);\n    }\n  };\n  if (el) {\n    el.addEventListener('webkitAnimationEnd', onTransitionEnd, opts);\n    el.addEventListener('animationend', onTransitionEnd, opts);\n    unRegTrans = () => {\n      el.removeEventListener('webkitAnimationEnd', onTransitionEnd, opts);\n      el.removeEventListener('animationend', onTransitionEnd, opts);\n    };\n  }\n  return unregister;\n};\nconst generateKeyframeRules = (keyframes = []) => {\n  return keyframes.map(keyframe => {\n    const offset = keyframe.offset;\n    const frameString = [];\n    for (const property in keyframe) {\n      if (keyframe.hasOwnProperty(property) && property !== 'offset') {\n        frameString.push(`${property}: ${keyframe[property]};`);\n      }\n    }\n    return `${offset * 100}% { ${frameString.join(' ')} }`;\n  }).join(' ');\n};\nconst keyframeIds = [];\nconst generateKeyframeName = (keyframeRules) => {\n  let index = keyframeIds.indexOf(keyframeRules);\n  if (index < 0) {\n    index = (keyframeIds.push(keyframeRules) - 1);\n  }\n  return `ion-animation-${index}`;\n};\nconst getStyleContainer = (element) => {\n  const rootNode = element.getRootNode();\n  return (rootNode.head || rootNode);\n};\nconst createKeyframeStylesheet = (keyframeName, keyframeRules, element) => {\n  const styleContainer = getStyleContainer(element);\n  const keyframePrefix = getAnimationPrefix(element);\n  const existingStylesheet = styleContainer.querySelector('#' + keyframeName);\n  if (existingStylesheet) {\n    return existingStylesheet;\n  }\n  const stylesheet = (element.ownerDocument || document).createElement('style');\n  stylesheet.id = keyframeName;\n  stylesheet.textContent = `@${keyframePrefix}keyframes ${keyframeName} { ${keyframeRules} } @${keyframePrefix}keyframes ${keyframeName}-alt { ${keyframeRules} }`;\n  styleContainer.appendChild(stylesheet);\n  return stylesheet;\n};\nconst addClassToArray = (classes = [], className) => {\n  if (className !== undefined) {\n    const classNameToAppend = (Array.isArray(className)) ? className : [className];\n    return [...classes, ...classNameToAppend];\n  }\n  return classes;\n};\n\nconst createAnimation = (animationId) => {\n  let _delay;\n  let _duration;\n  let _easing;\n  let _iterations;\n  let _fill;\n  let _direction;\n  let _keyframes = [];\n  let beforeAddClasses = [];\n  let beforeRemoveClasses = [];\n  let initialized = false;\n  let parentAnimation;\n  let beforeStylesValue = {};\n  let afterAddClasses = [];\n  let afterRemoveClasses = [];\n  let afterStylesValue = {};\n  let numAnimationsRunning = 0;\n  let shouldForceLinearEasing = false;\n  let shouldForceSyncPlayback = false;\n  let cssAnimationsTimerFallback;\n  let forceDirectionValue;\n  let forceDurationValue;\n  let forceDelayValue;\n  let willComplete = true;\n  let finished = false;\n  let shouldCalculateNumAnimations = true;\n  let keyframeName;\n  let ani;\n  const id = animationId;\n  const onFinishCallbacks = [];\n  const onFinishOneTimeCallbacks = [];\n  const elements = [];\n  const childAnimations = [];\n  const stylesheets = [];\n  const _beforeAddReadFunctions = [];\n  const _beforeAddWriteFunctions = [];\n  const _afterAddReadFunctions = [];\n  const _afterAddWriteFunctions = [];\n  const webAnimations = [];\n  const supportsAnimationEffect = (typeof AnimationEffect === 'function' || typeof window.AnimationEffect === 'function');\n  const supportsWebAnimations = (typeof Element === 'function') && (typeof Element.prototype.animate === 'function') && supportsAnimationEffect;\n  const ANIMATION_END_FALLBACK_PADDING_MS = 100;\n  const getWebAnimations = () => {\n    return webAnimations;\n  };\n  const destroy = (clearStyleSheets) => {\n    childAnimations.forEach(childAnimation => {\n      childAnimation.destroy(clearStyleSheets);\n    });\n    cleanUp(clearStyleSheets);\n    elements.length = 0;\n    childAnimations.length = 0;\n    _keyframes.length = 0;\n    clearOnFinish();\n    initialized = false;\n    shouldCalculateNumAnimations = true;\n    return ani;\n  };\n  /**\n   * Cancels any Web Animations, removes\n   * any animation properties from the\n   * animation's elements, and removes the\n   * animation's stylesheets from the DOM.\n   */\n  const cleanUp = (clearStyleSheets) => {\n    cleanUpElements();\n    if (clearStyleSheets) {\n      cleanUpStyleSheets();\n    }\n  };\n  const resetFlags = () => {\n    shouldForceLinearEasing = false;\n    shouldForceSyncPlayback = false;\n    shouldCalculateNumAnimations = true;\n    forceDirectionValue = undefined;\n    forceDurationValue = undefined;\n    forceDelayValue = undefined;\n    numAnimationsRunning = 0;\n    finished = false;\n    willComplete = true;\n  };\n  const onFinish = (callback, opts) => {\n    const callbacks = (opts && opts.oneTimeCallback) ? onFinishOneTimeCallbacks : onFinishCallbacks;\n    callbacks.push({ c: callback, o: opts });\n    return ani;\n  };\n  const clearOnFinish = () => {\n    onFinishCallbacks.length = 0;\n    onFinishOneTimeCallbacks.length = 0;\n    return ani;\n  };\n  /**\n   * Cancels any Web Animations and removes\n   * any animation properties from the\n   * the animation's elements.\n   */\n  const cleanUpElements = () => {\n    if (supportsWebAnimations) {\n      webAnimations.forEach(animation => {\n        animation.cancel();\n      });\n      webAnimations.length = 0;\n    }\n    else {\n      const elementsArray = elements.slice();\n      raf(() => {\n        elementsArray.forEach(element => {\n          removeStyleProperty(element, 'animation-name');\n          removeStyleProperty(element, 'animation-duration');\n          removeStyleProperty(element, 'animation-timing-function');\n          removeStyleProperty(element, 'animation-iteration-count');\n          removeStyleProperty(element, 'animation-delay');\n          removeStyleProperty(element, 'animation-play-state');\n          removeStyleProperty(element, 'animation-fill-mode');\n          removeStyleProperty(element, 'animation-direction');\n        });\n      });\n    }\n  };\n  /**\n   * Removes the animation's stylesheets\n   * from the DOM.\n   */\n  const cleanUpStyleSheets = () => {\n    stylesheets.forEach(stylesheet => {\n      /**\n       * When sharing stylesheets, it's possible\n       * for another animation to have already\n       * cleaned up a particular stylesheet\n       */\n      if (stylesheet && stylesheet.parentNode) {\n        stylesheet.parentNode.removeChild(stylesheet);\n      }\n    });\n    stylesheets.length = 0;\n  };\n  const beforeAddRead = (readFn) => {\n    _beforeAddReadFunctions.push(readFn);\n    return ani;\n  };\n  const beforeAddWrite = (writeFn) => {\n    _beforeAddWriteFunctions.push(writeFn);\n    return ani;\n  };\n  const afterAddRead = (readFn) => {\n    _afterAddReadFunctions.push(readFn);\n    return ani;\n  };\n  const afterAddWrite = (writeFn) => {\n    _afterAddWriteFunctions.push(writeFn);\n    return ani;\n  };\n  const beforeAddClass = (className) => {\n    beforeAddClasses = addClassToArray(beforeAddClasses, className);\n    return ani;\n  };\n  const beforeRemoveClass = (className) => {\n    beforeRemoveClasses = addClassToArray(beforeRemoveClasses, className);\n    return ani;\n  };\n  /**\n   * Set CSS inline styles to the animation's\n   * elements before the animation begins.\n   */\n  const beforeStyles = (styles = {}) => {\n    beforeStylesValue = styles;\n    return ani;\n  };\n  /**\n   * Clear CSS inline styles from the animation's\n   * elements before the animation begins.\n   */\n  const beforeClearStyles = (propertyNames = []) => {\n    for (const property of propertyNames) {\n      beforeStylesValue[property] = '';\n    }\n    return ani;\n  };\n  const afterAddClass = (className) => {\n    afterAddClasses = addClassToArray(afterAddClasses, className);\n    return ani;\n  };\n  const afterRemoveClass = (className) => {\n    afterRemoveClasses = addClassToArray(afterRemoveClasses, className);\n    return ani;\n  };\n  const afterStyles = (styles = {}) => {\n    afterStylesValue = styles;\n    return ani;\n  };\n  const afterClearStyles = (propertyNames = []) => {\n    for (const property of propertyNames) {\n      afterStylesValue[property] = '';\n    }\n    return ani;\n  };\n  const getFill = () => {\n    if (_fill !== undefined) {\n      return _fill;\n    }\n    if (parentAnimation) {\n      return parentAnimation.getFill();\n    }\n    return 'both';\n  };\n  const getDirection = () => {\n    if (forceDirectionValue !== undefined) {\n      return forceDirectionValue;\n    }\n    if (_direction !== undefined) {\n      return _direction;\n    }\n    if (parentAnimation) {\n      return parentAnimation.getDirection();\n    }\n    return 'normal';\n  };\n  const getEasing = () => {\n    if (shouldForceLinearEasing) {\n      return 'linear';\n    }\n    if (_easing !== undefined) {\n      return _easing;\n    }\n    if (parentAnimation) {\n      return parentAnimation.getEasing();\n    }\n    return 'linear';\n  };\n  const getDuration = () => {\n    if (shouldForceSyncPlayback) {\n      return 0;\n    }\n    if (forceDurationValue !== undefined) {\n      return forceDurationValue;\n    }\n    if (_duration !== undefined) {\n      return _duration;\n    }\n    if (parentAnimation) {\n      return parentAnimation.getDuration();\n    }\n    return 0;\n  };\n  const getIterations = () => {\n    if (_iterations !== undefined) {\n      return _iterations;\n    }\n    if (parentAnimation) {\n      return parentAnimation.getIterations();\n    }\n    return 1;\n  };\n  const getDelay = () => {\n    if (forceDelayValue !== undefined) {\n      return forceDelayValue;\n    }\n    if (_delay !== undefined) {\n      return _delay;\n    }\n    if (parentAnimation) {\n      return parentAnimation.getDelay();\n    }\n    return 0;\n  };\n  const getKeyframes = () => {\n    return _keyframes;\n  };\n  const direction = (animationDirection) => {\n    _direction = animationDirection;\n    update(true);\n    return ani;\n  };\n  const fill = (animationFill) => {\n    _fill = animationFill;\n    update(true);\n    return ani;\n  };\n  const delay = (animationDelay) => {\n    _delay = animationDelay;\n    update(true);\n    return ani;\n  };\n  const easing = (animationEasing) => {\n    _easing = animationEasing;\n    update(true);\n    return ani;\n  };\n  const duration = (animationDuration) => {\n    /**\n     * CSS Animation Durations of 0ms work fine on Chrome\n     * but do not run on Safari, so force it to 1ms to\n     * get it to run on both platforms.\n     */\n    if (!supportsWebAnimations && animationDuration === 0) {\n      animationDuration = 1;\n    }\n    _duration = animationDuration;\n    update(true);\n    return ani;\n  };\n  const iterations = (animationIterations) => {\n    _iterations = animationIterations;\n    update(true);\n    return ani;\n  };\n  const parent = (animation) => {\n    parentAnimation = animation;\n    return ani;\n  };\n  const addElement = (el) => {\n    if (el != null) {\n      if (el.nodeType === 1) {\n        elements.push(el);\n      }\n      else if (el.length >= 0) {\n        for (let i = 0; i < el.length; i++) {\n          elements.push(el[i]);\n        }\n      }\n      else {\n        console.error('Invalid addElement value');\n      }\n    }\n    return ani;\n  };\n  const addAnimation = (animationToAdd) => {\n    if (animationToAdd != null) {\n      if (Array.isArray(animationToAdd)) {\n        for (const animation of animationToAdd) {\n          animation.parent(ani);\n          childAnimations.push(animation);\n        }\n      }\n      else {\n        animationToAdd.parent(ani);\n        childAnimations.push(animationToAdd);\n      }\n    }\n    return ani;\n  };\n  const keyframes = (keyframeValues) => {\n    _keyframes = keyframeValues;\n    return ani;\n  };\n  /**\n   * Run all \"before\" animation hooks.\n   */\n  const beforeAnimation = () => {\n    // Runs all before read callbacks\n    _beforeAddReadFunctions.forEach(callback => callback());\n    // Runs all before write callbacks\n    _beforeAddWriteFunctions.forEach(callback => callback());\n    // Updates styles and classes before animation runs\n    const addClasses = beforeAddClasses;\n    const removeClasses = beforeRemoveClasses;\n    const styles = beforeStylesValue;\n    elements.forEach(el => {\n      const elementClassList = el.classList;\n      addClasses.forEach(c => elementClassList.add(c));\n      removeClasses.forEach(c => elementClassList.remove(c));\n      for (const property in styles) {\n        if (styles.hasOwnProperty(property)) {\n          setStyleProperty(el, property, styles[property]);\n        }\n      }\n    });\n  };\n  /**\n   * Run all \"after\" animation hooks.\n   */\n  const afterAnimation = () => {\n    clearCSSAnimationsTimeout();\n    // Runs all after read callbacks\n    _afterAddReadFunctions.forEach(callback => callback());\n    // Runs all after write callbacks\n    _afterAddWriteFunctions.forEach(callback => callback());\n    // Updates styles and classes before animation ends\n    const currentStep = willComplete ? 1 : 0;\n    const addClasses = afterAddClasses;\n    const removeClasses = afterRemoveClasses;\n    const styles = afterStylesValue;\n    elements.forEach(el => {\n      const elementClassList = el.classList;\n      addClasses.forEach(c => elementClassList.add(c));\n      removeClasses.forEach(c => elementClassList.remove(c));\n      for (const property in styles) {\n        if (styles.hasOwnProperty(property)) {\n          setStyleProperty(el, property, styles[property]);\n        }\n      }\n    });\n    onFinishCallbacks.forEach(onFinishCallback => {\n      return onFinishCallback.c(currentStep, ani);\n    });\n    onFinishOneTimeCallbacks.forEach(onFinishCallback => {\n      return onFinishCallback.c(currentStep, ani);\n    });\n    onFinishOneTimeCallbacks.length = 0;\n    shouldCalculateNumAnimations = true;\n    if (willComplete) {\n      finished = true;\n    }\n    willComplete = true;\n  };\n  const animationFinish = () => {\n    if (numAnimationsRunning === 0) {\n      return;\n    }\n    numAnimationsRunning--;\n    if (numAnimationsRunning === 0) {\n      afterAnimation();\n      if (parentAnimation) {\n        parentAnimation.animationFinish();\n      }\n    }\n  };\n  const initializeCSSAnimation = (toggleAnimationName = true) => {\n    cleanUpStyleSheets();\n    const processedKeyframes = processKeyframes(_keyframes);\n    elements.forEach(element => {\n      if (processedKeyframes.length > 0) {\n        const keyframeRules = generateKeyframeRules(processedKeyframes);\n        keyframeName = (animationId !== undefined) ? animationId : generateKeyframeName(keyframeRules);\n        const stylesheet = createKeyframeStylesheet(keyframeName, keyframeRules, element);\n        stylesheets.push(stylesheet);\n        setStyleProperty(element, 'animation-duration', `${getDuration()}ms`);\n        setStyleProperty(element, 'animation-timing-function', getEasing());\n        setStyleProperty(element, 'animation-delay', `${getDelay()}ms`);\n        setStyleProperty(element, 'animation-fill-mode', getFill());\n        setStyleProperty(element, 'animation-direction', getDirection());\n        const iterationsCount = (getIterations() === Infinity)\n          ? 'infinite'\n          : getIterations().toString();\n        setStyleProperty(element, 'animation-iteration-count', iterationsCount);\n        setStyleProperty(element, 'animation-play-state', 'paused');\n        if (toggleAnimationName) {\n          setStyleProperty(element, 'animation-name', `${stylesheet.id}-alt`);\n        }\n        raf(() => {\n          setStyleProperty(element, 'animation-name', stylesheet.id || null);\n        });\n      }\n    });\n  };\n  const initializeWebAnimation = () => {\n    elements.forEach(element => {\n      const animation = element.animate(_keyframes, {\n        id,\n        delay: getDelay(),\n        duration: getDuration(),\n        easing: getEasing(),\n        iterations: getIterations(),\n        fill: getFill(),\n        direction: getDirection()\n      });\n      animation.pause();\n      webAnimations.push(animation);\n    });\n    if (webAnimations.length > 0) {\n      webAnimations[0].onfinish = () => {\n        animationFinish();\n      };\n    }\n  };\n  const initializeAnimation = (toggleAnimationName = true) => {\n    beforeAnimation();\n    if (_keyframes.length > 0) {\n      if (supportsWebAnimations) {\n        initializeWebAnimation();\n      }\n      else {\n        initializeCSSAnimation(toggleAnimationName);\n      }\n    }\n    initialized = true;\n  };\n  const setAnimationStep = (step) => {\n    step = Math.min(Math.max(step, 0), 0.9999);\n    if (supportsWebAnimations) {\n      webAnimations.forEach(animation => {\n        animation.currentTime = animation.effect.getComputedTiming().delay + (getDuration() * step);\n        animation.pause();\n      });\n    }\n    else {\n      const animationDuration = `-${getDuration() * step}ms`;\n      elements.forEach(element => {\n        if (_keyframes.length > 0) {\n          setStyleProperty(element, 'animation-delay', animationDuration);\n          setStyleProperty(element, 'animation-play-state', 'paused');\n        }\n      });\n    }\n  };\n  const updateWebAnimation = (step) => {\n    webAnimations.forEach(animation => {\n      animation.effect.updateTiming({\n        delay: getDelay(),\n        duration: getDuration(),\n        easing: getEasing(),\n        iterations: getIterations(),\n        fill: getFill(),\n        direction: getDirection()\n      });\n    });\n    if (step !== undefined) {\n      setAnimationStep(step);\n    }\n  };\n  const updateCSSAnimation = (toggleAnimationName = true, step) => {\n    raf(() => {\n      elements.forEach(element => {\n        setStyleProperty(element, 'animation-name', keyframeName || null);\n        setStyleProperty(element, 'animation-duration', `${getDuration()}ms`);\n        setStyleProperty(element, 'animation-timing-function', getEasing());\n        setStyleProperty(element, 'animation-delay', (step !== undefined) ? `-${step * getDuration()}ms` : `${getDelay()}ms`);\n        setStyleProperty(element, 'animation-fill-mode', getFill() || null);\n        setStyleProperty(element, 'animation-direction', getDirection() || null);\n        const iterationsCount = (getIterations() === Infinity)\n          ? 'infinite'\n          : getIterations().toString();\n        setStyleProperty(element, 'animation-iteration-count', iterationsCount);\n        if (toggleAnimationName) {\n          setStyleProperty(element, 'animation-name', `${keyframeName}-alt`);\n        }\n        raf(() => {\n          setStyleProperty(element, 'animation-name', keyframeName || null);\n        });\n      });\n    });\n  };\n  const update = (deep = false, toggleAnimationName = true, step) => {\n    if (deep) {\n      childAnimations.forEach(animation => {\n        animation.update(deep, toggleAnimationName, step);\n      });\n    }\n    if (supportsWebAnimations) {\n      updateWebAnimation(step);\n    }\n    else {\n      updateCSSAnimation(toggleAnimationName, step);\n    }\n    return ani;\n  };\n  const progressStart = (forceLinearEasing = false, step) => {\n    childAnimations.forEach(animation => {\n      animation.progressStart(forceLinearEasing, step);\n    });\n    pauseAnimation();\n    shouldForceLinearEasing = forceLinearEasing;\n    if (!initialized) {\n      initializeAnimation();\n    }\n    else {\n      update(false, true, step);\n    }\n    return ani;\n  };\n  const progressStep = (step) => {\n    childAnimations.forEach(animation => {\n      animation.progressStep(step);\n    });\n    setAnimationStep(step);\n    return ani;\n  };\n  const progressEnd = (playTo, step, dur) => {\n    shouldForceLinearEasing = false;\n    childAnimations.forEach(animation => {\n      animation.progressEnd(playTo, step, dur);\n    });\n    if (dur !== undefined) {\n      forceDurationValue = dur;\n    }\n    finished = false;\n    // tslint:disable-next-line: strict-boolean-conditions\n    willComplete = true;\n    if (playTo === 0) {\n      forceDirectionValue = (getDirection() === 'reverse') ? 'normal' : 'reverse';\n      if (forceDirectionValue === 'reverse') {\n        willComplete = false;\n      }\n      if (supportsWebAnimations) {\n        update();\n        setAnimationStep(1 - step);\n      }\n      else {\n        forceDelayValue = ((1 - step) * getDuration()) * -1;\n        update(false, false);\n      }\n    }\n    else if (playTo === 1) {\n      if (supportsWebAnimations) {\n        update();\n        setAnimationStep(step);\n      }\n      else {\n        forceDelayValue = (step * getDuration()) * -1;\n        update(false, false);\n      }\n    }\n    if (playTo !== undefined) {\n      onFinish(() => {\n        forceDurationValue = undefined;\n        forceDirectionValue = undefined;\n        forceDelayValue = undefined;\n      }, {\n        oneTimeCallback: true\n      });\n      if (!parentAnimation) {\n        play();\n      }\n    }\n    return ani;\n  };\n  const pauseAnimation = () => {\n    if (initialized) {\n      if (supportsWebAnimations) {\n        webAnimations.forEach(animation => {\n          animation.pause();\n        });\n      }\n      else {\n        elements.forEach(element => {\n          setStyleProperty(element, 'animation-play-state', 'paused');\n        });\n      }\n    }\n  };\n  const pause = () => {\n    childAnimations.forEach(animation => {\n      animation.pause();\n    });\n    pauseAnimation();\n    return ani;\n  };\n  const onAnimationEndFallback = () => {\n    cssAnimationsTimerFallback = undefined;\n    animationFinish();\n  };\n  const clearCSSAnimationsTimeout = () => {\n    if (cssAnimationsTimerFallback) {\n      clearTimeout(cssAnimationsTimerFallback);\n    }\n  };\n  const playCSSAnimations = () => {\n    clearCSSAnimationsTimeout();\n    raf(() => {\n      elements.forEach(element => {\n        if (_keyframes.length > 0) {\n          setStyleProperty(element, 'animation-play-state', 'running');\n        }\n      });\n    });\n    if (_keyframes.length === 0 || elements.length === 0) {\n      animationFinish();\n    }\n    else {\n      /**\n       * This is a catchall in the event that a CSS Animation did not finish.\n       * The Web Animations API has mechanisms in place for preventing this.\n       * CSS Animations will not fire an `animationend` event\n       * for elements with `display: none`. The Web Animations API\n       * accounts for this, but using raw CSS Animations requires\n       * this workaround.\n       */\n      const animationDelay = getDelay() || 0;\n      const animationDuration = getDuration() || 0;\n      const animationIterations = getIterations() || 1;\n      // No need to set a timeout when animation has infinite iterations\n      if (isFinite(animationIterations)) {\n        cssAnimationsTimerFallback = setTimeout(onAnimationEndFallback, animationDelay + (animationDuration * animationIterations) + ANIMATION_END_FALLBACK_PADDING_MS);\n      }\n      animationEnd(elements[0], () => {\n        clearCSSAnimationsTimeout();\n        /**\n         * Ensure that clean up\n         * is always done a frame\n         * before the onFinish handlers\n         * are fired. Otherwise, there\n         * may be flickering if a new\n         * animation is started on the same\n         * element too quickly\n         *\n         * TODO: Is there a cleaner way to do this?\n         */\n        raf(() => {\n          clearCSSAnimationPlayState();\n          raf(animationFinish);\n        });\n      });\n    }\n  };\n  const clearCSSAnimationPlayState = () => {\n    elements.forEach(element => {\n      removeStyleProperty(element, 'animation-duration');\n      removeStyleProperty(element, 'animation-delay');\n      removeStyleProperty(element, 'animation-play-state');\n    });\n  };\n  const playWebAnimations = () => {\n    webAnimations.forEach(animation => {\n      animation.play();\n    });\n    if (_keyframes.length === 0 || elements.length === 0) {\n      animationFinish();\n    }\n  };\n  const resetAnimation = () => {\n    if (supportsWebAnimations) {\n      setAnimationStep(0);\n      updateWebAnimation();\n    }\n    else {\n      updateCSSAnimation();\n    }\n  };\n  const play = (opts) => {\n    return new Promise(resolve => {\n      if (opts && opts.sync) {\n        shouldForceSyncPlayback = true;\n        onFinish(() => shouldForceSyncPlayback = false, { oneTimeCallback: true });\n      }\n      if (!initialized) {\n        initializeAnimation();\n      }\n      if (finished) {\n        resetAnimation();\n        finished = false;\n      }\n      if (shouldCalculateNumAnimations) {\n        numAnimationsRunning = childAnimations.length + 1;\n        shouldCalculateNumAnimations = false;\n      }\n      onFinish(() => resolve(), { oneTimeCallback: true });\n      childAnimations.forEach(animation => {\n        animation.play();\n      });\n      if (supportsWebAnimations) {\n        playWebAnimations();\n      }\n      else {\n        playCSSAnimations();\n      }\n    });\n  };\n  const stop = () => {\n    childAnimations.forEach(animation => {\n      animation.stop();\n    });\n    if (initialized) {\n      cleanUpElements();\n      initialized = false;\n    }\n    resetFlags();\n  };\n  const from = (property, value) => {\n    const firstFrame = _keyframes[0];\n    if (firstFrame !== undefined && (firstFrame.offset === undefined || firstFrame.offset === 0)) {\n      firstFrame[property] = value;\n    }\n    else {\n      _keyframes = [\n        { offset: 0, [property]: value },\n        ..._keyframes\n      ];\n    }\n    return ani;\n  };\n  const to = (property, value) => {\n    const lastFrame = _keyframes[_keyframes.length - 1];\n    if (lastFrame !== undefined && (lastFrame.offset === undefined || lastFrame.offset === 1)) {\n      lastFrame[property] = value;\n    }\n    else {\n      _keyframes = [\n        ..._keyframes,\n        { offset: 1, [property]: value }\n      ];\n    }\n    return ani;\n  };\n  const fromTo = (property, fromValue, toValue) => {\n    return from(property, fromValue).to(property, toValue);\n  };\n  return ani = {\n    parentAnimation,\n    elements,\n    childAnimations,\n    id,\n    animationFinish,\n    from,\n    to,\n    fromTo,\n    parent,\n    play,\n    pause,\n    stop,\n    destroy,\n    keyframes,\n    addAnimation,\n    addElement,\n    update,\n    fill,\n    direction,\n    iterations,\n    duration,\n    easing,\n    delay,\n    getWebAnimations,\n    getKeyframes,\n    getFill,\n    getDirection,\n    getDelay,\n    getIterations,\n    getEasing,\n    getDuration,\n    afterAddRead,\n    afterAddWrite,\n    afterClearStyles,\n    afterStyles,\n    afterRemoveClass,\n    afterAddClass,\n    beforeAddRead,\n    beforeAddWrite,\n    beforeClearStyles,\n    beforeStyles,\n    beforeRemoveClass,\n    beforeAddClass,\n    onFinish,\n    progressStart,\n    progressStep,\n    progressEnd\n  };\n};\n\nexport { createAnimation as c };\n"]}