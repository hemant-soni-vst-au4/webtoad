{"version":3,"sources":["webpack:///src/app/dashboard/user-profile/setting/account/account.module.ts","webpack:///src/app/dashboard/user-profile/setting/account/account.page.scss","webpack:///src/app/dashboard/user-profile/setting/account/account.page.ts","webpack:///src/app/dashboard/user-profile/setting/account/account.page.html"],"names":["routes","path","component","AccountPageModule","imports","forChild","declarations","providers","AccountPage","router","navController","alertController","sharedService","subscriptionService","onBoardingService","gaTrackView","getUserProfile","SUBSCRIPTION_LABELS","Subscription","SubscriptionExpired","Trial","toPromise","profile","data","console","log","currentPackage","subscriptionType","checkIsExpired","fullName","email","subscriptionLabel","navigate","setDirection","getUserSubscription","res","message","selector","template"],"mappings":"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","file":"dashboard-user-profile-setting-account-account-module-es5.js","sourcesContent":["import {OnBoardingService} from './../../../../services/on-boarding.service'\nimport {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {FormsModule} from '@angular/forms'\nimport {Routes, RouterModule} from '@angular/router'\n\nimport {IonicModule} from '@ionic/angular'\n\nimport {AccountPage} from './account.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AccountPage,\n  },\n]\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes)],\n  declarations: [AccountPage],\n  providers: [OnBoardingService],\n})\nexport class AccountPageModule {}\n","export default \"ion-item {\\n  --padding-start: 0px;\\n}\\nion-item ion-label {\\n  font-size: 15px;\\n  color: #707070;\\n}\\nion-item ion-label h3 {\\n  color: #212121;\\n  font-size: 18px;\\n  margin: 10px 0px 5px 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2FjY291bnQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usb0JBQUE7QUFDRjtBQUFFO0VBQ0UsZUFBQTtFQUNBLGNBQUE7QUFFSjtBQURJO0VBQ0UsY0FBQTtFQUNBLGVBQUE7RUFDQSx3QkFBQTtBQUdOIiwiZmlsZSI6ImFjY291bnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWl0ZW0ge1xuICAtLXBhZGRpbmctc3RhcnQ6IDBweDtcbiAgaW9uLWxhYmVsIHtcbiAgICBmb250LXNpemU6IDE1cHg7XG4gICAgY29sb3I6ICM3MDcwNzA7XG4gICAgaDMge1xuICAgICAgY29sb3I6ICMyMTIxMjE7XG4gICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICBtYXJnaW46IDEwcHggMHB4IDVweCAwcHg7XG4gICAgfVxuICB9XG59XG4iXX0= */\";","import {SharedService} from 'src/app/services/shared.service'\nimport {SubscriptionService} from './../../../../services/subscription.service'\nimport {OnBoardingService} from './../../../../services/on-boarding.service'\nimport {NavController, AlertController} from '@ionic/angular'\nimport {Router} from '@angular/router'\nimport {Component, OnInit} from '@angular/core'\n\n@Component({\n  selector: 'app-account',\n  templateUrl: './account.page.html',\n  styleUrls: ['./account.page.scss'],\n})\nexport class AccountPage implements OnInit {\n  profile\n\n  constructor(\n    public router: Router,\n    public navController: NavController,\n    public alertController: AlertController,\n    public sharedService: SharedService,\n    private subscriptionService: SubscriptionService,\n    private onBoardingService: OnBoardingService,\n  ) {\n    this.sharedService.gaTrackView('Settings Account')\n  }\n\n  ngOnInit() {}\n\n  ionViewWillEnter() {\n    this.getUserProfile()\n  }\n\n  async getUserProfile() {\n    const SUBSCRIPTION_LABELS = {\n      Subscription: 'Subscription',\n      SubscriptionExpired: 'Subscription Expired',\n      Trial: 'Free Trial',\n    }\n\n    try {\n      const {data: profile} = await this.onBoardingService.getUserProfile().toPromise()\n      console.log(profile)\n      if (\n        profile.currentPackage === 'Subscription' &&\n        profile.subscriptionType &&\n        (await this.checkIsExpired(profile.subscriptionType))\n      ) {\n        profile.currentPackage = 'SubscriptionExpired'\n      }\n\n      this.profile = {\n        fullName: profile.fullName,\n        email: profile.email,\n        currentPackage: profile.currentPackage,\n        subscriptionLabel: SUBSCRIPTION_LABELS[profile.currentPackage],\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  home() {\n    this.router.navigate(['/dashboard/lessons'])\n    this.navController.setDirection('root')\n  }\n\n  async checkIsExpired(subscriptionType) {\n    try {\n      const res = await this.subscriptionService\n        .getUserSubscription({subscriptionType})\n        .toPromise()\n\n      return res.message === 'Your subscription has been canceled.'\n    } catch (error) {\n      console.log(error)\n    }\n    return false\n  }\n\n  async onSubscription() {\n    const path =\n      this.profile.currentPackage === 'Subscription'\n        ? '/subscription'\n        : '/subscriptionplans'\n    this.navController.setDirection('forward')\n    this.router.navigate([path])\n  }\n\n  back() {\n    this.navController.setDirection('back')\n    this.router.navigate(['/setting'])\n  }\n}\n","export default \"<ion-header mode=\\\"ios\\\">\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-buttons slot=\\\"start\\\" mode=\\\"md\\\">\\n      <ion-button mode=\\\"md\\\" (click)=\\\"back()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"chevron-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button mode=\\\"md\\\" (click)=\\\"home()\\\">\\n        <ion-icon color=\\\"dark\\\" mode=\\\"md\\\" slot=\\\"icon-only\\\" src=\\\"../../../../../assets/images/home.svg\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-grid>\\n    <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n      <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"7\\\" sizeLg=\\\"6\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n        <h1 class=\\\"ion-no-margin\\\"><strong>Account</strong></h1>\\n      </ion-col>\\n    </ion-row>\\n    <ng-container *ngIf=\\\"profile !== undefined; else noProfile\\\">\\n      <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n        <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"7\\\" sizeLg=\\\"6\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n          <ion-item mode=\\\"ios\\\">\\n            <ion-label\\n              >User name\\n              <h3>{{ profile?.fullName | titlecase }}</h3>\\n            </ion-label>\\n            <ion-button\\n              slot=\\\"end\\\"\\n              color=\\\"danger\\\"\\n              mode=\\\"ios\\\"\\n              fill=\\\"clear\\\"\\n              [routerLink]=\\\"['/edit-name']\\\"\\n              routerLinkActive=\\\"router-link-active\\\"\\n              >Edit</ion-button\\n            >\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n        <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"7\\\" sizeLg=\\\"6\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n          <ion-item mode=\\\"ios\\\">\\n            <ion-label\\n              >Email\\n              <h3>{{ profile?.email }}</h3>\\n            </ion-label>\\n            <ion-button\\n              slot=\\\"end\\\"\\n              color=\\\"danger\\\"\\n              mode=\\\"ios\\\"\\n              fill=\\\"clear\\\"\\n              [routerLink]=\\\"['/edit-email']\\\"\\n              routerLinkActive=\\\"router-link-active\\\"\\n              >Edit</ion-button\\n            >\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n        <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"7\\\" sizeLg=\\\"6\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n          <ion-item mode=\\\"ios\\\">\\n            <ion-label>\\n              <h3>Update password</h3>\\n            </ion-label>\\n            <ion-button\\n              slot=\\\"end\\\"\\n              color=\\\"danger\\\"\\n              mode=\\\"ios\\\"\\n              fill=\\\"clear\\\"\\n              [routerLink]=\\\"['/edit-password']\\\"\\n              routerLinkActive=\\\"router-link-active\\\"\\n              >Manage</ion-button\\n            >\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n        <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"7\\\" sizeLg=\\\"6\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n          <ion-item mode=\\\"ios\\\">\\n            <ion-label\\n              >Subscription Status\\n              <h3>{{ profile?.subscriptionLabel }}</h3>\\n            </ion-label>\\n            <ion-button slot=\\\"end\\\" color=\\\"danger\\\" mode=\\\"ios\\\" fill=\\\"clear\\\" (click)=\\\"onSubscription()\\\">Manage</ion-button>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <!-- <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n        <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"7\\\" sizeLg=\\\"6\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n          <ion-item mode=\\\"ios\\\">\\n            <ion-label>\\n              <h3>Delete Account</h3>\\n            </ion-label>\\n            <ion-button slot=\\\"end\\\" color=\\\"danger\\\" mode='ios' fill=\\\"clear\\\" [routerLink]=\\\"['/delete-account']\\\"\\n              routerLinkActive=\\\"router-link-active\\\">Manage</ion-button>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row> -->\\n    </ng-container>\\n    <ng-template #noProfile>\\n      <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\" *ngFor=\\\"let item of [0, 1, 2, 3, 4]\\\">\\n        <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"7\\\" sizeLg=\\\"6\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n          <ion-item mode=\\\"ios\\\">\\n            <ion-label>\\n              <ion-skeleton-text animated style=\\\"width: 40%;\\\"></ion-skeleton-text>\\n              <h3>\\n                <ion-skeleton-text animated style=\\\"width: 70%;\\\"></ion-skeleton-text>\\n              </h3>\\n            </ion-label>\\n            <ion-button slot=\\\"end\\\" color=\\\"danger\\\" mode=\\\"ios\\\" fill=\\\"clear\\\">\\n              <ion-skeleton-text animated style=\\\"width: 20%;\\\"></ion-skeleton-text>\\n            </ion-button>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n    </ng-template>\\n  </ion-grid>\\n</ion-content>\\n\";"]}