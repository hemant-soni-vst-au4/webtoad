{"version":3,"sources":["./src/app/dashboard/user-profile/setting/account/subscription-plans/stripe-payment/add-card/add-card.component.ts","./src/app/pipes/filter-payment-cards-by-date.pipe.ts","./src/app/dashboard/user-profile/setting/account/subscription-plans/stripe-payment/stripe-payment.page.scss","./src/app/dashboard/user-profile/setting/account/subscription-plans/stripe-payment/add-card/add-card.component.html","./src/app/dashboard/user-profile/setting/account/subscription-plans/stripe-payment/stripe-payment.module.ts","./src/app/dashboard/user-profile/setting/account/subscription-plans/stripe-payment/stripe-payment.page.ts","./src/app/dashboard/user-profile/setting/account/subscription-plans/stripe-payment/add-card/add-card.component.scss","./src/app/dashboard/user-profile/setting/account/subscription-plans/stripe-payment/stripe-payment.page.html"],"names":[],"mappings":"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","file":"dashboard-user-profile-setting-account-subscription-plans-stripe-payment-stripe-payment-module-es2015.js","sourcesContent":["import {ModalController, NavParams} from '@ionic/angular'\nimport {SubscriptionService} from './../../../../../../../services/subscription.service'\nimport {OnBoardingService} from './../../../../../../../services/on-boarding.service'\nimport {SharedService} from './../../../../../../../services/shared.service'\nimport {Component, OnInit, isDevMode} from '@angular/core'\nimport {environment} from '../../../../../../../../environments/environment'\ndeclare var Stripe\n@Component({\n  selector: 'app-add-card',\n  templateUrl: './add-card.component.html',\n  styleUrls: ['./add-card.component.scss'],\n})\nexport class AddCardComponent implements OnInit {\n  stripe = Stripe(environment.stripePublicKey)\n  card: any\n  profile\n  stripeCustomerId\n\n  constructor(\n    private sharedService: SharedService,\n    private subscriptionService: SubscriptionService,\n    public modalController: ModalController,\n    private onBoardingService: OnBoardingService,\n    private navParams: NavParams,\n  ) {\n    this.onBoardingService\n      .getUserProfile()\n      .toPromise()\n      .then((res) => {\n        const profile = res.data //this.navParams.get('profile')\n\n        const stripeCustomerId = isDevMode()\n          ? profile.stripeSandBoxCustomerId\n          : profile.stripeLiveCustomerId\n\n        if (stripeCustomerId === undefined) {\n          this.dismiss()\n        }\n        this.stripeCustomerId = stripeCustomerId\n      })\n      .catch((err) => {\n        this.dismiss()\n      })\n  }\n\n  ngOnInit() {\n    this.setupStripe()\n  }\n\n  setupStripe() {\n    const elements = this.stripe.elements()\n    const style = {\n      base: {\n        color: '#32325d',\n        lineHeight: '24px',\n        fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n        fontSmoothing: 'antialiased',\n        fontSize: '16px',\n        '::placeholder': {\n          color: '#aab7c4',\n        },\n      },\n      invalid: {\n        color: '#fa755a',\n        iconColor: '#fa755a',\n      },\n    }\n\n    this.card = elements.create('card', {style, hidePostalCode: true})\n    // console.log( this.card );\n    this.card.mount('#card-element')\n\n    this.card.addEventListener('change', (event) => {\n      const displayError = document.getElementById('card-errors')\n      if (event.error) {\n        displayError.textContent = event.error.message\n      } else {\n        displayError.textContent = ''\n      }\n    })\n\n    const form = document.getElementById('payment-form')\n    form.addEventListener('submit', (event) => {\n      event.preventDefault()\n      // console.log( event );\n      this.sharedService.presentLoader('Please wait...')\n      // console.log( this.card );\n      this.stripe.createSource(this.card).then((result) => {\n        if (result.error) {\n          const errorElement = document.getElementById('card-errors')\n          errorElement.textContent = result.error.message\n          this.sharedService.dismissLoader()\n        } else {\n          this.attachSourceToCustomer(result.source.id)\n        }\n      })\n    })\n  }\n\n  async attachSourceToCustomer(sourceId) {\n    try {\n      const stripeCustomerId = this.stripeCustomerId\n      if (stripeCustomerId === undefined) {\n        return\n      }\n\n      const res = await this.subscriptionService\n        .attachSourceToCustomer({customerId: stripeCustomerId, token: sourceId})\n        .toPromise()\n      this.sharedService.dismissLoader()\n      this.dismiss()\n    } catch (error) {\n      console.log(error)\n      this.sharedService.dismissLoader()\n      this.sharedService.presentToast(error.err?.raw?.message)\n    } finally {\n    }\n  }\n\n  dismiss() {\n    this.modalController.dismiss()\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core'\n\n@Pipe({\n  name: 'filterPaymentCardsByDate',\n})\nexport class FilterPaymentCardsByDatePipe implements PipeTransform {\n  transform(value: Array<any>, args?: any): any {\n    if (value.length) {\n      return value.sort((a, b) => {\n        // Turn your strings into dates, and then subtract them\n        // to get a value that is either negative, positive, or zero.\n        return a.created - b.created\n      })\n    } else {\n      return null\n    }\n  }\n}\n","export default \"ion-list-header {\\n  --background: lightgray;\\n}\\n\\nion-item ion-label span {\\n  font-size: 20px;\\n}\\n\\n#add-card-icon {\\n  font-size: 25px;\\n  margin-right: 5px;\\n  display: inline-flex;\\n  vertical-align: middle;\\n}\\n\\n.warning {\\n  --background: #bad9b5;\\n  font-weight: 600;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3N0cmlwZS1wYXltZW50LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHVCQUFBO0FBQ0Y7O0FBR0k7RUFDRSxlQUFBO0FBQU47O0FBSUE7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtFQUNBLHNCQUFBO0FBREY7O0FBR0E7RUFDRSxxQkFBQTtFQUNBLGdCQUFBO0FBQUYiLCJmaWxlIjoic3RyaXBlLXBheW1lbnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWxpc3QtaGVhZGVyIHtcbiAgLS1iYWNrZ3JvdW5kOiBsaWdodGdyYXk7XG59XG5pb24taXRlbSB7XG4gIGlvbi1sYWJlbCB7XG4gICAgc3BhbiB7XG4gICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgfVxuICB9XG59XG4jYWRkLWNhcmQtaWNvbiB7XG4gIGZvbnQtc2l6ZTogMjVweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xufVxuLndhcm5pbmcge1xuICAtLWJhY2tncm91bmQ6ICNiYWQ5YjU7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG4iXX0= */\";","export default \"<ion-header mode=\\\"ios\\\">\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-title>\\n      Add New Card\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\" mode=\\\"md\\\">\\n      <ion-button mode=\\\"md\\\" (click)=\\\"dismiss()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" mode=\\\"ios\\\" name=\\\"close\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <form action=\\\"/\\\" method=\\\"post\\\" id=\\\"payment-form\\\">\\n    <ion-grid>\\n      <ion-row class=\\\"ion-margin-top ion-margin-bottom ion-align-items-center ion-justify-content-center\\\">\\n        <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"10\\\" sizeLg=\\\"10\\\" sizeXl=\\\"10\\\" class=\\\"ion-align-self-center\\\">\\n          <div class=\\\"form-row\\\">\\n            <div id=\\\"card-element\\\">\\n              <!-- a Stripe Element will be inserted here. -->\\n            </div>\\n            <!-- Used to display Element errors -->\\n            <div class=\\\"c-red\\\" id=\\\"card-errors\\\" role=\\\"alert\\\"></div>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n        <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"8\\\" sizeLg=\\\"6\\\" sizeXl=\\\"6\\\" class=\\\"ion-align-self-center\\\">\\n          <ion-button type=\\\"submit\\\" mode=\\\"ios\\\" color=\\\"danger\\\" fill=\\\"outline\\\" shape=\\\"round\\\" expand=\\\"block\\\"\\n            >Add Card\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\\n\";","import {FilterPaymentCardsByDatePipe} from './../../../../../../pipes/filter-payment-cards-by-date.pipe'\nimport {AddCardComponent} from './add-card/add-card.component'\nimport {SubscriptionService} from './../../../../../../services/subscription.service'\nimport {OnBoardingService} from './../../../../../../services/on-boarding.service'\nimport {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms'\nimport {Routes, RouterModule} from '@angular/router'\n\nimport {IonicModule} from '@ionic/angular'\n\nimport {StripePaymentPage} from './stripe-payment.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StripePaymentPage,\n  },\n]\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n  ],\n  declarations: [StripePaymentPage, AddCardComponent, FilterPaymentCardsByDatePipe],\n  entryComponents: [AddCardComponent],\n  providers: [OnBoardingService, SubscriptionService],\n})\nexport class StripePaymentPageModule {}\n","import {AddCardComponent} from './add-card/add-card.component'\nimport {Router, ActivatedRoute} from '@angular/router'\nimport {NavController, ModalController, LoadingController} from '@ionic/angular'\nimport {SubscriptionService} from './../../../../../../services/subscription.service'\nimport {OnBoardingService} from './../../../../../../services/on-boarding.service'\nimport {SharedService} from './../../../../../../services/shared.service'\nimport {Component, OnInit, isDevMode} from '@angular/core'\nimport {environment} from '../../../../../../../environments/environment'\ndeclare var Stripe\n\n@Component({\n  selector: 'app-stripe-payment',\n  templateUrl: './stripe-payment.page.html',\n  styleUrls: ['./stripe-payment.page.scss'],\n})\nexport class StripePaymentPage implements OnInit {\n  // Add Stripe Public Key\n  stripe = Stripe(environment.stripePublicKey)\n  card: any\n  paymentCards = []\n  customerDetails: any = undefined\n  profile: any\n  isDevelopmentMode = false\n  isProcessing = false\n  productId: any\n\n  constructor(\n    public sharedService: SharedService,\n    private onBoardingService: OnBoardingService,\n    public navController: NavController,\n    private router: Router,\n    private route: ActivatedRoute,\n    public modalController: ModalController,\n    public loadingController: LoadingController,\n    private subscriptionService: SubscriptionService,\n  ) {}\n\n  ngOnInit() {\n    if (isDevMode()) {\n      this.isDevelopmentMode = true\n    } else {\n      this.isDevelopmentMode = false\n    }\n    console.log('this.isDevelopmentMode', this.isDevelopmentMode)\n\n    this.route.params.subscribe(\n      (params) => {\n        if (params.productId) {\n          this.productId = params.productId\n        }\n      },\n      (error) => {\n        console.log(error)\n      },\n    )\n    this.getCustomer()\n  }\n  async getProfile() {\n    try {\n      const res = await this.onBoardingService.getUserProfile(true).toPromise()\n      return res.data\n    } catch {}\n  }\n\n  async getCustomer() {\n    try {\n      this.sharedService.presentLoader('Please wait...')\n\n      const profile = await this.getProfile()\n\n      if (profile) {\n        this.profile = profile\n        const stripeCustomerId = this.isDevelopmentMode\n          ? profile.stripeSandBoxCustomerId\n          : profile.stripeLiveCustomerId\n\n        if (!stripeCustomerId) {\n          await this.createCustomer(profile.email)\n        } else {\n          await this.getCustomerDetails(stripeCustomerId)\n        }\n      }\n    } catch (error) {\n      this.sharedService.dismissLoader()\n      console.log(error)\n    }\n  }\n\n  async createCustomer(email) {\n    console.log('createCustomer', email)\n\n    try {\n      const res = await this.subscriptionService.createStripeCustomer({email}).toPromise()\n\n      this.setStripeCustomerId(res.data.id)\n    } catch (error) {\n      console.log(error)\n      this.sharedService.presentToast(error)\n    } finally {\n      this.sharedService.dismissLoader()\n    }\n  }\n\n  async setStripeCustomerId(stripeCustomerId) {\n    try {\n      const data = {\n        customerId: stripeCustomerId,\n        type: this.isDevelopmentMode ? 'sandbox' : 'production',\n      }\n\n      await this.subscriptionService.setStripeCustomerId(data).toPromise()\n      const profile = await this.getProfile()\n      this.profile = profile\n    } catch (error) {\n      console.log(error)\n      this.sharedService.presentToast(error)\n    } finally {\n      this.sharedService.dismissLoader()\n    }\n  }\n\n  async getAllPaymentMethods() {\n    try {\n      const profile = await this.getProfile()\n      const stripeCustomerId = this.isDevelopmentMode\n        ? profile.stripeSandBoxCustomerId\n        : profile.stripeLiveCustomerId\n\n      const data = {\n        type: 'card',\n        customerId: stripeCustomerId,\n      }\n\n      const res = await this.subscriptionService\n        .getCustomerAllPaymentMethods(data)\n        .toPromise()\n\n      console.log('getAllPaymentMethods', res)\n      if (res.data.data.length) {\n        this.paymentCards = res.data.data\n\n        console.log('getCustomerDetails')\n        const customerDetails = await this.subscriptionService\n          .getCustomerDetails(stripeCustomerId)\n          .toPromise()\n        console.log({customerDetails})\n        this.customerDetails = customerDetails.data\n\n        this.paymentCards.map((card: any) => {\n          if (card.id === this.customerDetails.default_source) {\n            card.default = true\n          } else {\n            card.default = false\n          }\n        })\n      }\n    } catch (error) {\n      console.log(error)\n    } finally {\n      this.sharedService.dismissLoader()\n    }\n  }\n\n  async getCustomerDetails(customerId) {\n    try {\n      const res = await this.subscriptionService\n        .getCustomerDetails(customerId)\n        .toPromise()\n\n      this.customerDetails = res.data\n      this.getAllPaymentMethods()\n    } catch (error) {\n      console.log(error)\n    } finally {\n      this.sharedService.dismissLoader()\n    }\n  }\n\n  async onAddCard() {\n    const modal = await this.modalController.create({\n      component: AddCardComponent,\n      componentProps: {profile: this.profile},\n      mode: 'md',\n    })\n    await modal.present()\n    await modal\n      .onDidDismiss()\n      .then(() => {\n        this.getAllPaymentMethods()\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n\n  async onProcessedToPayUsingStripe() {\n    if (this.customerDetails.default_source === null || this.productId === undefined) {\n      this.sharedService.presentToast('Please enter card details')\n      return\n    }\n\n    try {\n      const data = {\n        planId: this.productId,\n        default_source: this.customerDetails.default_source,\n        customerId: this.customerDetails.id,\n        noCoupon: true,\n      }\n      this.isProcessing = true\n      this.sharedService.presentLoader('Please wait...')\n\n      this.subscriptionService.processedToPayUsingStripe(data).subscribe(\n        (res) => {\n          this.setUserSubscription(res.data)\n        },\n        (error) => {\n          console.log(error)\n          this.sharedService.dismissLoader()\n          this.isProcessing = true\n          this.sharedService.presentToast(error.err.rawType)\n        },\n      )\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  back() {\n    this.navController.setDirection('back')\n    this.router.navigate(['/subscriptionplans'])\n  }\n\n  setUserSubscription(data) {\n    const userSubscription = {\n      type: 'Stripe',\n      orderId: data.id,\n      packageName: 'com.summer.startenglishnow',\n      userSubscriptionStartDate: data.current_period_start * 1000,\n      userSubscriptionEndDate: data.current_period_end * 1000,\n      productId: data.plan.id,\n      productType: this.productId,\n    }\n\n    try {\n      this.subscriptionService.setUserSubscription(userSubscription).subscribe(\n        (res) => {\n          this.sharedService.presentToast(res.message)\n          this.sharedService.dismissLoader()\n          this.navController.setDirection('root')\n          this.getProfile().then(() => {\n            this.router.navigate(['/dashboard/lessons'])\n          })\n        },\n        (error) => {\n          console.log(error)\n          this.sharedService.dismissLoader()\n        },\n      )\n    } catch (error) {\n      this.sharedService.dismissLoader()\n      console.log(error)\n    }\n  }\n\n  onSetDefaultCard(paymentCard) {\n    this.customerDetails.default_source = paymentCard.id\n    this.paymentCards.forEach((card) => {\n      card.default = card.id === this.customerDetails.default_source\n    })\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZGQtY2FyZC5jb21wb25lbnQuc2NzcyJ9 */\";","export default \"<ion-header mode=\\\"ios\\\">\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-buttons slot=\\\"start\\\" mode=\\\"md\\\">\\n      <ion-button mode=\\\"md\\\" (click)=\\\"back()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"chevron-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid class=\\\"ion-no-padding\\\">\\n    <ion-row *ngIf=\\\"isProcessing\\\" class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n      <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"6\\\" sizeLg=\\\"4\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n        <ion-card mode=\\\"ios\\\" class=\\\"ion-no-margin ion-margin-top warning\\\">\\n          <ion-card-content>\\n            Your order Is being processed. Please DO NOT close the page or click the back or refresh buttons.\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n      <ion-col\\n        sizeXs=\\\"12\\\"\\n        sizeSm=\\\"12\\\"\\n        sizeMd=\\\"6\\\"\\n        sizeLg=\\\"4\\\"\\n        sizeXl=\\\"4\\\"\\n        class=\\\"ion-no-padding ion-padding ion-align-self-center\\\"\\n      >\\n        <h1 class=\\\"ion-no-margin\\\">Payment options</h1>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n      <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"6\\\" sizeLg=\\\"4\\\" sizeXl=\\\"4\\\" class=\\\"ion-no-padding ion-align-self-center\\\">\\n        <ion-list mode=\\\"md\\\" class=\\\"ion-no-padding\\\">\\n          <ion-list-header mode=\\\"md\\\">\\n            <ion-label>Credit / Debit Cards</ion-label>\\n          </ion-list-header>\\n          <ion-item\\n            mode=\\\"md\\\"\\n            *ngFor=\\\"let paymentCard of paymentCards | filterPaymentCardsByDate\\\"\\n            (click)=\\\"onSetDefaultCard(paymentCard)\\\"\\n          >\\n            <ion-label> <span>xxxx-xxxx-xxxx-</span>{{ paymentCard.card.last4 }} </ion-label>\\n            <ion-icon\\n              *ngIf=\\\"paymentCard.default\\\"\\n              mode=\\\"ios\\\"\\n              color=\\\"success\\\"\\n              name=\\\"checkmark-circle\\\"\\n              size=\\\"large\\\"\\n              slot=\\\"end\\\"\\n            ></ion-icon>\\n          </ion-item>\\n        </ion-list>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n      <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"6\\\" sizeLg=\\\"4\\\" sizeXl=\\\"4\\\" class=\\\"ion-padding-start ion-align-self-center\\\">\\n        <p (click)=\\\"onAddCard()\\\" class=\\\"pointer\\\">\\n          <ion-icon id=\\\"add-card-icon\\\" name=\\\"add-circle-outline\\\"></ion-icon> ADD NEW CARD\\n        </p>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n<ion-footer>\\n  <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n    <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"6\\\" sizeLg=\\\"4\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n      <ion-button\\n        mode=\\\"ios\\\"\\n        [disabled]=\\\"customerDetails === undefined\\\"\\n        (click)=\\\"onProcessedToPayUsingStripe()\\\"\\n        color=\\\"danger\\\"\\n        shape=\\\"round\\\"\\n        expand=\\\"block\\\"\\n        >Process To Pay\\n      </ion-button>\\n    </ion-col>\\n  </ion-row>\\n</ion-footer>\\n\";"],"sourceRoot":"webpack:///"}