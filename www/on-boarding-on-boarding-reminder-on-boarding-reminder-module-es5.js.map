{"version":3,"sources":["webpack:///src/app/on-boarding/on-boarding-reminder/on-boarding-reminder.module.ts","webpack:///src/app/on-boarding/on-boarding-reminder/on-boarding-reminder.page.ts","webpack:///src/app/on-boarding/on-boarding-reminder/on-boarding-reminder.page.scss","webpack:///src/app/on-boarding/on-boarding-reminder/on-boarding-reminder.page.html"],"names":["routes","path","component","OnBoardingReminderPageModule","imports","forChild","declarations","providers","LocalNotifications","OnBoardingReminderPage","datePicker","sharedService","router","platform","navController","isStart","isDesktop","ready","then","is","gaTrackView","error","console","log","requestPermission","show","date","Date","mode","androidTheme","ANDROID_THEMES","THEME_DEVICE_DEFAULT_LIGHT","setNativeStorage","getTime","setReminderTime","reminderTime","reminder","event","detail","checked","removeNativeStorage","undefined","cancel","notifications","id","setReminder","time","schedule","title","body","repeats","every","on","hour","getHours","minute","getMinutes","sound","attachments","actionTypeId","extra","notifs","setTimeout","setDirection","navigate","selector","template"],"mappings":"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","file":"on-boarding-on-boarding-reminder-on-boarding-reminder-module-es5.js","sourcesContent":["import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {FormsModule} from '@angular/forms'\nimport {Routes, RouterModule} from '@angular/router'\n\nimport {IonicModule} from '@ionic/angular'\n\nimport {OnBoardingReminderPage} from './on-boarding-reminder.page'\nimport {DatePicker} from '@ionic-native/date-picker/ngx'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OnBoardingReminderPage,\n  },\n]\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes)],\n  declarations: [OnBoardingReminderPage],\n  providers: [DatePicker],\n})\nexport class OnBoardingReminderPageModule {}\n","import {NavController, Platform} from '@ionic/angular'\nimport {Router} from '@angular/router'\nimport {SharedService} from './../../services/shared.service'\nimport {Component, OnInit} from '@angular/core'\nimport {DatePicker} from '@ionic-native/date-picker/ngx'\nimport {Plugins} from '@capacitor/core'\nconst {LocalNotifications} = Plugins\n\n@Component({\n  selector: 'app-on-boarding-reminder',\n  templateUrl: './on-boarding-reminder.page.html',\n  styleUrls: ['./on-boarding-reminder.page.scss'],\n})\nexport class OnBoardingReminderPage implements OnInit {\n  reminder: boolean\n  reminderTime\n  isStart = false\n  isDesktop = false\n\n  constructor(\n    private datePicker: DatePicker,\n    public sharedService: SharedService,\n    public router: Router,\n    public platform: Platform,\n    public navController: NavController,\n  ) {\n    this.platform\n      .ready()\n      .then(() => {\n        if (this.platform.is('android') || this.platform.is('ios')) {\n          this.isDesktop = false\n        } else {\n          this.isDesktop = true\n        }\n\n        this.sharedService.gaTrackView('On-Boarding Set Reminder Screen')\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n\n  ngOnInit() {}\n\n  ionViewWillEnter() {\n    LocalNotifications.requestPermission()\n  }\n\n  async setReminder() {\n    try {\n      const date = await this.datePicker.show({\n        date: new Date(),\n        mode: 'time',\n        androidTheme: this.datePicker.ANDROID_THEMES.THEME_DEVICE_DEFAULT_LIGHT,\n      })\n\n      this.sharedService.setNativeStorage('reminder', date.getTime())\n\n      await this.setReminderTime(date)\n      this.reminderTime = date.getTime()\n      this.reminder = true\n    } catch (err) {\n      console.log('Error occurred while getting date: ', err)\n    }\n  }\n\n  onChangeReminder(event) {\n    console.log(event)\n    if (event.detail.checked === false) {\n      this.sharedService.removeNativeStorage('reminder')\n      this.reminder = false\n      this.reminderTime = undefined\n      LocalNotifications.cancel({notifications: [{id: '42'}]})\n    } else if (event.detail.checked) {\n      this.setReminder()\n    } else {\n      this.sharedService.removeNativeStorage('reminder')\n      this.reminderTime = undefined\n      LocalNotifications.cancel({notifications: [{id: '42'}]})\n    }\n  }\n\n  async setReminderTime(date) {\n    const time = new Date(date.getTime())\n    const notifs = await LocalNotifications.schedule({\n      notifications: [\n        {\n          id: 42,\n          title: 'SpeakyPeaky',\n          body: '20 mins a day = big gains in 3 months',\n          schedule: {\n            repeats: true,\n            every: 'day',\n            on: {\n              hour: time.getHours(),\n              minute: time.getMinutes(),\n            },\n          },\n          sound: null,\n          attachments: null,\n          actionTypeId: '',\n          extra: null,\n        },\n      ],\n    })\n  }\n\n  goToDashboard() {\n    this.isStart = true\n\n    this.sharedService.setNativeStorage('isOnBoarding', true)\n\n    setTimeout(() => {\n      this.navController.setDirection('root')\n      this.router.navigate(['/dashboard'])\n    }, 5000)\n  }\n}\n","export default \"ion-toggle {\\n  --background-checked: var(--color-orange);\\n}\\n\\na,\\nimg {\\n  display: block;\\n}\\n\\nimg {\\n  margin: 0 auto;\\n}\\n\\nh4 {\\n  font-weight: 400;\\n}\\n\\n.on-boarding-text {\\n  line-height: 1.4;\\n  font-weight: 600;\\n  font-size: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL29uLWJvYXJkaW5nLXJlbWluZGVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHlDQUFBO0FBQ0Y7O0FBQ0E7O0VBRUUsY0FBQTtBQUVGOztBQUFBO0VBQ0UsY0FBQTtBQUdGOztBQURBO0VBQ0UsZ0JBQUE7QUFJRjs7QUFGQTtFQUNFLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0FBS0YiLCJmaWxlIjoib24tYm9hcmRpbmctcmVtaW5kZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXRvZ2dsZSB7XG4gIC0tYmFja2dyb3VuZC1jaGVja2VkOiB2YXIoLS1jb2xvci1vcmFuZ2UpO1xufVxuYSxcbmltZyB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuaW1nIHtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5oNCB7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG59XG4ub24tYm9hcmRpbmctdGV4dCB7XG4gIGxpbmUtaGVpZ2h0OiAxLjQ7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGZvbnQtc2l6ZTogMjBweDtcbn1cbiJdfQ== */\";","export default \"<ion-content>\\n  <ion-grid class=\\\"h-100\\\">\\n    <ion-row class=\\\"h-100 ion-align-items-center\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-align-self-center\\\" *ngIf=\\\"isStart === false; else notStarted\\\">\\n        <ion-row *ngIf=\\\"reminderTime === undefined; else gotReminder\\\"\\n          class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n          <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeLg=\\\"4\\\" sizeMd=\\\"6\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n            <h3 class=\\\"ion-text-center ion-margin-bottom\\\">\\n              3 ) Would you like to receive a reminder?\\n            </h3>\\n            <p class=\\\"ion-text-center ion-margin-bottom\\\">\\n              It's most effective <br />\\n              if you make it your habit\\n            </p>\\n          </ion-col>\\n        </ion-row>\\n        <ng-template #gotReminder>\\n          <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n            <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeLg=\\\"4\\\" sizeMd=\\\"6\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n              <h3 class=\\\"ion-text-center ion-margin-bottom\\\">\\n                We will send you a nudge <br />\\n                at\\n                <ion-text class=\\\"c-orange\\\">\\n                  {{ reminderTime | date: 'shortTime' }}\\n                </ion-text>\\n                everyday\\n              </h3>\\n            </ion-col>\\n          </ion-row>\\n        </ng-template>\\n        <ion-row *ngIf=\\\"reminderTime === undefined\\\" class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n          <ion-col sizeXs=\\\"10\\\" sizeSm=\\\"10\\\" sizeMd=\\\"6\\\" sizeLg=\\\"4\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n            <ion-item lines=\\\"none\\\">\\n              <ion-label color=\\\"danger\\\">Yes, set a reminder. <br />\\n                <ion-text color=\\\"medium\\\">(Push notification)</ion-text>\\n              </ion-label>\\n              <ion-toggle mode=\\\"ios\\\" checked=\\\"false\\\" (ionChange)=\\\"onChangeReminder($event)\\\"></ion-toggle>\\n            </ion-item>\\n\\n          </ion-col>\\n        </ion-row>\\n        <ion-row *ngIf=\\\"reminderTime !== undefined\\\" class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n          <ion-col sizeXs=\\\"3\\\" sizeSm=\\\"3\\\" sizeMd=\\\"6\\\" sizeLg=\\\"4\\\" sizeXl=\\\"4\\\" class=\\\"ion-text-center ion-align-self-center\\\">\\n            <ion-item lines=\\\"none\\\">\\n              <ion-toggle mode=\\\"ios\\\" checked=\\\"true\\\" (ionChange)=\\\"onChangeReminder($event)\\\"></ion-toggle>\\n            </ion-item>\\n            <a class=\\\"c-orange ion-margin-top\\\" (click)=\\\"setReminder()\\\">Edit</a>\\n\\n          </ion-col>\\n        </ion-row>\\n        <!-- <ion-row *ngIf=\\\"reminderTime !== undefined\\\" class=\\\"mt-45 ion-align-items-center ion-justify-content-center\\\">\\n          <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"6\\\" sizeLg=\\\"4\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n            <p class=\\\"ion-text-center c-orange\\\">\\n              If you can’t fly, then run, if you can’t run, then walk, if you can’t walk, then crawl, but whatever you\\n              do you have to keep moving forward. - Martin Luther King, Jr.\\n            </p>\\n          </ion-col>\\n        </ion-row> -->\\n        <ion-row class=\\\"mt-45 ion-align-items-center ion-justify-content-center\\\">\\n          <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeLg=\\\"4\\\" sizeMd=\\\"6\\\" sizeXl=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n            <ion-button mode=\\\"ios\\\" color=\\\"danger\\\" shape=\\\"round\\\" expand=\\\"block\\\" (click)=\\\"goToDashboard()\\\">\\n              OKAY, NEXT QUESTION</ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </ion-col>\\n      <ng-template #notStarted>\\n        <ion-col size=\\\"12\\\" class=\\\"ion-align-self-center\\\">\\n          <ion-row class=\\\"ion-justify-content-center ion-margin-bottom\\\">\\n            <ion-col sizeXs=\\\"7\\\" sizeSm=\\\"7\\\" sizeLg=\\\"2\\\" sizeXl=\\\"2\\\" sizeMd=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n              <img src=\\\"../../../assets/images/loading.gif\\\" width=\\\"75%\\\" />\\n            </ion-col>\\n          </ion-row>\\n          <ion-row class=\\\"ion-justify-content-center\\\">\\n            <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeLg=\\\"4\\\" sizeXl=\\\"4\\\" sizeMd=\\\"6\\\"\\n              class=\\\"ion-text-center ion-align-self-center\\\">\\n              <h1 class=\\\"on-boarding-text\\\">\\n                Just a moment... <br />while we’re developing<br />\\n                your personalized lessons\\n              </h1>\\n            </ion-col>\\n          </ion-row>\\n        </ion-col>\\n      </ng-template>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\";"]}