{"version":3,"sources":["webpack:///node_modules/lodash/_listCacheHas.js","webpack:///node_modules/lodash/property.js","webpack:///src/reactapp/pages/lessonSteps/StepNavMenu.tsx","webpack:///node_modules/lodash/isSymbol.js","webpack:///node_modules/lodash/isArguments.js","webpack:///node_modules/lodash/_stackSet.js","webpack:///node_modules/lodash/_unicodeToArray.js","webpack:///node_modules/lodash/_createCaseFirst.js","webpack:///node_modules/lodash/stubArray.js","webpack:///node_modules/lodash/_SetCache.js","webpack:///node_modules/yup/es/ValidationError.js","webpack:///node_modules/lodash/_coreJsData.js","webpack:///node_modules/lodash/_setCacheHas.js","webpack:///src/reactapp/pages/lessonSteps/step4Practice/RecordButton.tsx","webpack:///node_modules/lodash/_toSource.js","webpack:///node_modules/youtube-player/dist/YouTubePlayer.js","webpack:///node_modules/lodash/_basePropertyOf.js","webpack:///node_modules/yup/es/object.js","webpack:///node_modules/lodash/_basePropertyDeep.js","webpack:///node_modules/lodash/memoize.js","webpack:///node_modules/youtube-player/dist/FunctionStateMap.js","webpack:///node_modules/lodash/_Hash.js","webpack:///node_modules/lodash/_hasPath.js","webpack:///node_modules/lodash/_castPath.js","webpack:///node_modules/@ionic-native/android-permissions/ngx/index.js","webpack:///node_modules/yup/es/util/runTests.js","webpack:///node_modules/react-router-dom/esm/react-router-dom.js","webpack:///src/reactapp/pages/lessonSteps/step4Practice/useRecordAndroid.tsx","webpack:///node_modules/yup/es/string.js","webpack:///node_modules/react-error-boundary/dist/react-error-boundary.umd.js","webpack:///node_modules/lodash/capitalize.js","webpack:///node_modules/lodash/words.js","webpack:///node_modules/lodash/_isPrototype.js","webpack:///node_modules/yup/es/number.js","webpack:///node_modules/lodash/_baseProperty.js","webpack:///node_modules/lodash/_stackClear.js","webpack:///src/reactapp/pages/lessonSteps/NextButton.tsx","webpack:///node_modules/lodash/snakeCase.js","webpack:///node_modules/lodash/keys.js","webpack:///node_modules/react-router/node_modules/isarray/index.js","webpack:///node_modules/lodash/_mapToArray.js","webpack:///node_modules/react-router/node_modules/path-to-regexp/index.js","webpack:///src/reactapp/pages/nativeStorage.tsx","webpack:///node_modules/lodash/_toKey.js","webpack:///node_modules/lodash/_unicodeWords.js","webpack:///node_modules/lodash/_isKey.js","webpack:///node_modules/yup/es/util/createValidation.js","webpack:///node_modules/lodash/_baseKeys.js","webpack:///node_modules/lodash/_getRawTag.js","webpack:///node_modules/lodash/stubFalse.js","webpack:///src/reactapp/pages/lessonSteps/step4Practice/useRecordRtc.tsx","webpack:///node_modules/lodash/_arrayPush.js","webpack:///node_modules/lodash/_isStrictComparable.js","webpack:///src/reactapp/pages/lessonSteps/LessonStepsPage.tsx","webpack:///node_modules/yup/es/schema.js","webpack:///node_modules/lodash/_getNative.js","webpack:///node_modules/youtube-player/dist/index.js","webpack:///node_modules/lodash/isBuffer.js","webpack:///node_modules/lodash/_isMasked.js","webpack:///node_modules/yup/es/util/sortByKeyOrder.js","webpack:///src/reactapp/pages/lessonSteps/useLessonStore.tsx","webpack:///node_modules/lodash/_stringToArray.js","webpack:///node_modules/lodash/_isKeyable.js","webpack:///node_modules/lodash/isObjectLike.js","webpack:///node_modules/ms/index.js","webpack:///src/reactapp/pages/lessonSteps/step4Practice/IosRecordingView.tsx","webpack:///node_modules/nanoclone/src/index.js","webpack:///src/reactapp/pages/lessonSteps/step4Practice/RecordingView.tsx","webpack:///node_modules/lodash/_baseMatchesProperty.js","webpack:///node_modules/lodash/_stringToPath.js","webpack:///node_modules/lodash/isObject.js","webpack:///node_modules/lodash/_mapCacheSet.js","webpack:///node_modules/lodash/_equalByTag.js","webpack:///node_modules/lodash/_Promise.js","webpack:///node_modules/lodash/_hashDelete.js","webpack:///node_modules/lodash/_memoizeCapped.js","webpack:///node_modules/yup/es/array.js","webpack:///node_modules/yup/es/util/isSchema.js","webpack:///node_modules/lodash/_matchesStrictComparable.js","webpack:///node_modules/lodash/_baseForOwn.js","webpack:///node_modules/lodash/_Uint8Array.js","webpack:///node_modules/lodash/_mapCacheGet.js","webpack:///node_modules/lodash/_hashSet.js","webpack:///node_modules/lodash/_baseIsArguments.js","webpack:///node_modules/lodash/_baseHasIn.js","webpack:///node_modules/yup/es/util/printValue.js","webpack:///node_modules/lodash/_listCacheClear.js","webpack:///src/reactapp/pages/lessonSteps/step4Practice/ScriptView.tsx","webpack:///node_modules/lodash/_objectToString.js","webpack:///node_modules/lodash/_baseSlice.js","webpack:///node_modules/lodash/_root.js","webpack:///src/reactapp/pages/lessonSteps/ReviewScript.tsx","webpack:///node_modules/lodash/_stackDelete.js","webpack:///node_modules/lodash/_arrayFilter.js","webpack:///node_modules/history/esm/history.js","webpack:///node_modules/sister/src/sister.js","webpack:///node_modules/youtube-player/dist/loadYouTubeIframeApi.js","webpack:///node_modules/lodash/isArrayLike.js","webpack:///node_modules/fast-array-diff/dist/diff/lcs.js","webpack:///node_modules/load-script/index.js","webpack:///node_modules/lodash/_getSymbols.js","webpack:///src/reactapp/pages/lessonSteps/LessonStepsPage.scss","webpack:///node_modules/lodash/_baseIsNative.js","webpack:///node_modules/debug/src/browser.js","webpack:///node_modules/lodash/_getValue.js","webpack:///src/reactapp/pages/lessonSteps/LessonStepHeader.tsx","webpack:///node_modules/lodash/_baseGetTag.js","webpack:///node_modules/lodash/_defineProperty.js","webpack:///src/reactapp/pages/lessonSteps/step4Practice/PracticeContext.tsx","webpack:///node_modules/lodash/_getMatchData.js","webpack:///node_modules/lodash/has.js","webpack:///src/reactapp/pages/lessonSteps/LessonStepListen.tsx","webpack:///node_modules/lodash/_WeakMap.js","webpack:///node_modules/yup/es/locale.js","webpack:///node_modules/yup/es/util/isodate.js","webpack:///node_modules/lodash/_getMapData.js","webpack:///node_modules/lodash/_arraySome.js","webpack:///node_modules/lodash/_getTag.js","webpack:///node_modules/lodash/mapKeys.js","webpack:///node_modules/lodash/_hashClear.js","webpack:///src/reactapp/pages/lessonSteps/step4Practice/AndroidRecordingView.tsx","webpack:///node_modules/lodash/deburr.js","webpack:///node_modules/react-router/esm/react-router.js","webpack:///node_modules/yup/es/index.js","webpack:///node_modules/lodash/_baseTimes.js","webpack:///node_modules/lodash/_nativeKeys.js","webpack:///node_modules/lodash/_stackHas.js","webpack:///src/reactapp/pages/lessonSteps/LessonPlayer.tsx","webpack:///node_modules/lodash/_freeGlobal.js","webpack:///node_modules/react-highlight-words/dist/main.js","webpack:///src/reactapp/pages/diffScript.ts","webpack:///node_modules/lodash/_ListCache.js","webpack:///node_modules/lodash/_nativeCreate.js","webpack:///node_modules/lodash/isArray.js","webpack:///node_modules/lodash/_listCacheSet.js","webpack:///node_modules/lodash/_baseMatches.js","webpack:///node_modules/lodash/_baseGet.js","webpack:///node_modules/property-expr/index.js","webpack:///src/app/_helpers/IonicGestureConfig.ts","webpack:///node_modules/fast-deep-equal/index.js","webpack:///node_modules/yup/es/mixed.js","webpack:///node_modules/lodash/_listCacheDelete.js","webpack:///node_modules/lodash/_arrayReduce.js","webpack:///src/app/dashboard/lessons/lesson-details/lesson-steps/lesson-steps.module.ts","webpack:///node_modules/lodash/_arrayLikeKeys.js","webpack:///node_modules/lodash/_asciiToArray.js","webpack:///node_modules/react-fast-compare/index.js","webpack:///node_modules/lodash/isTypedArray.js","webpack:///node_modules/yup/es/util/toArray.js","webpack:///node_modules/lodash/_baseFor.js","webpack:///node_modules/lodash/_baseIsTypedArray.js","webpack:///node_modules/lodash/_asciiWords.js","webpack:///node_modules/lodash/toString.js","webpack:///node_modules/lodash/_MapCache.js","webpack:///node_modules/lodash/_baseIsEqualDeep.js","webpack:///node_modules/lodash/_arrayMap.js","webpack:///node_modules/lodash/_Map.js","webpack:///node_modules/lodash/_hashHas.js","webpack:///node_modules/lodash/_mapCacheClear.js","webpack:///node_modules/lodash/_baseGetAllKeys.js","webpack:///src/reactapp/pages/lessonSteps/lessonHooks.ts","webpack:///node_modules/yup/es/util/ReferenceSet.js","webpack:///node_modules/lodash/_Stack.js","webpack:///node_modules/lodash/_hasUnicodeWord.js","webpack:///src/reactapp/pages/lessonSteps/LessonStepReListen.tsx","webpack:///node_modules/lodash/_setCacheAdd.js","webpack:///node_modules/lodash/_stackGet.js","webpack:///node_modules/lodash/upperFirst.js","webpack:///src/app/dashboard/lessons/lesson-details/lesson-steps/lesson-steps.page.tsx","webpack:///node_modules/yup/es/util/reach.js","webpack:///node_modules/lodash/hasIn.js","webpack:///node_modules/lodash/_baseAssignValue.js","webpack:///node_modules/@ionic-native/diagnostic/ngx/index.js","webpack:///node_modules/yup/es/util/sortFields.js","webpack:///node_modules/lodash/_mapCacheDelete.js","webpack:///node_modules/lodash/_overArg.js","webpack:///node_modules/resolve-pathname/esm/resolve-pathname.js","webpack:///node_modules/yup/es/Reference.js","webpack:///src/reactapp/pages/lessonSteps/ActionBar.tsx","webpack:///node_modules/lodash/isFunction.js","webpack:///src/reactapp/pages/lessonSteps/LessonStepReview.tsx","webpack:///node_modules/lodash/eq.js","webpack:///node_modules/lodash/_baseIsMatch.js","webpack:///node_modules/debug/src/debug.js","webpack:///node_modules/lodash/_baseHas.js","webpack:///node_modules/lodash/_createBaseFor.js","webpack:///node_modules/lodash/_nodeUtil.js","webpack:///node_modules/lodash/get.js","webpack:///node_modules/yup/es/Lazy.js","webpack:///node_modules/lodash/_Symbol.js","webpack:///node_modules/lodash/mapValues.js","webpack:///node_modules/use-text-selection/dist/index.js","webpack:///node_modules/lodash/_equalArrays.js","webpack:///node_modules/lodash/_mapCacheHas.js","webpack:///node_modules/react-youtube/dist/index.esm.js","webpack:///src/reactapp/pages/lessonSteps/LessonStepDictation.tsx","webpack:///node_modules/lodash/_deburrLetter.js","webpack:///node_modules/lodash/_getAllKeys.js","webpack:///src/reactapp/pages/lessonSteps/SceneNavMenu.tsx","webpack:///node_modules/recordrtc/RecordRTC.js","webpack:///node_modules/yup/es/Condition.js","webpack:///node_modules/lodash/_hasUnicode.js","webpack:///node_modules/toposort/index.js","webpack:///node_modules/lodash/_setToArray.js","webpack:///node_modules/youtube-player/dist/eventNames.js","webpack:///node_modules/lodash/_baseUnary.js","webpack:///node_modules/lodash/_equalObjects.js","webpack:///node_modules/lodash/_createCompounder.js","webpack:///node_modules/lodash/isLength.js","webpack:///node_modules/youtube-player/dist/functionNames.js","webpack:///node_modules/@ionic-native/file/ngx/index.js","webpack:///node_modules/mini-create-react-context/dist/esm/index.js","webpack:///node_modules/lodash/_listCacheGet.js","webpack:///node_modules/lodash/_DataView.js","webpack:///node_modules/yup/es/boolean.js","webpack:///node_modules/lodash/camelCase.js","webpack:///node_modules/youtube-player/dist/constants/PlayerStates.js","webpack:///node_modules/lodash/_hashGet.js","webpack:///src/reactapp/pages/lessonSteps/step4Practice/RecordView.tsx","webpack:///node_modules/lodash/_baseIteratee.js","webpack:///node_modules/yup/es/setLocale.js","webpack:///src/reactapp/pages/lessonSteps/step4Practice/useRecordIos.tsx","webpack:///node_modules/lodash/_baseIsEqual.js","webpack:///node_modules/lodash/_isIndex.js","webpack:///node_modules/lodash/_castSlice.js","webpack:///node_modules/lodash/_cacheHas.js","webpack:///node_modules/value-equal/esm/value-equal.js","webpack:///src/reactapp/pages/lessonSteps/step4Practice/LessonStepPractice.tsx","webpack:///node_modules/lodash/_assocIndexOf.js","webpack:///node_modules/lodash/_Set.js","webpack:///node_modules/yup/es/util/isAbsent.js","webpack:///src/reactapp/pages/lessonSteps/step4Practice/useSpeechToText.tsx","webpack:///node_modules/yup/es/date.js","webpack:///node_modules/lodash/identity.js","webpack:///src/reactapp/language/translation.en.ts","webpack:///node_modules/lodash/_baseToString.js"],"names":["assocIndexOf","listCacheHas","key","__data__","module","exports","baseProperty","basePropertyDeep","isKey","toKey","property","path","stepOpts","step","label","Menus","onDissmis","moveStep","state","handleStepChange","newStep","map","opt","lines","onClick","className","StepNavMenu","dissmis","presentMenu","e","cssClass","mode","event","nativeEvent","icon","baseGetTag","isObjectLike","symbolTag","isSymbol","value","baseIsArguments","objectProto","Object","prototype","hasOwnProperty","propertyIsEnumerable","isArguments","arguments","call","ListCache","Map","MapCache","LARGE_ARRAY_SIZE","stackSet","data","pairs","length","push","size","set","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","rsZWJ","reOptMod","rsOptVar","rsOptJoin","join","rsSeq","rsSymbol","reUnicode","RegExp","unicodeToArray","string","match","castSlice","hasUnicode","stringToArray","toString","createCaseFirst","methodName","strSymbols","undefined","chr","charAt","trailing","slice","stubArray","setCacheAdd","setCacheHas","SetCache","values","index","add","has","_extends","assign","target","i","source","apply","strReg","ValidationError","errorOrErrors","field","type","name","errors","inner","forEach","err","isError","concat","message","Error","captureStackTrace","params","replace","_","root","coreJsData","RecordButton","status","onRecordStart","onRecordStop","id","style","height","src","funcProto","Function","funcToString","toSource","func","defineProperty","_debug","_debug2","_interopRequireDefault","_functionNames","_functionNames2","_eventNames","_eventNames2","_FunctionStateMap","_FunctionStateMap2","obj","__esModule","debug","YouTubePlayer","proxyEvents","emitter","events","_loop","eventName","onEventName","toUpperCase","trigger","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","next","done","promisifyPlayer","playerAPIReady","strictState","functions","_loop2","functionName","_len","args","Array","_key","then","player","stateInfo","playerState","getPlayerState","stateChangeRequired","isArray","acceptableStates","indexOf","Promise","resolve","onPlayerStateChange","playerStateAfterChange","timeout","setTimeout","removeEventListener","clearTimeout","addEventListener","_len2","_key2","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","basePropertyOf","object","isObject","unknown","ctx","known","keys","fields","filter","defaultSort","ObjectSchema","spec","create","_sortErrors","_nodes","_excludedEdges","withMutation","transform","coerce","JSON","parse","isType","shape","_value","options","_options$stripUnknown","getDefault","_typeCheck","strip","stripUnknown","noUnknown","props","v","intermediateValue","innerOptions","parent","__validating","isChanged","prop","exists","fieldValue","inputValue","context","fieldSpec","strict","cast","opts","callback","sync","from","originalValue","abortEarly","recursive","schema","tests","cb","validate","endEarly","sort","nextFields","entries","schemaOrRef","dft","getDefaultFromShape","additions","excludes","clone","first","second","picked","to","alias","fromGetter","newObj","noAllow","test","exclusive","unknownKeys","createError","allow","fn","transformKeys","base","describe","baseGet","FUNC_ERROR_TEXT","memoize","resolver","TypeError","memoized","cache","get","result","Cache","_PlayerStates","_PlayerStates2","pauseVideo","ENDED","PAUSED","playVideo","PLAYING","seekTo","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","clear","entry","castPath","isIndex","isLength","hasPath","hasFunc","stringToPath","AndroidPermissions","_super","_this","PERMISSION","ACCESS_CHECKIN_PROPERTIES","ACCESS_COARSE_LOCATION","ACCESS_FINE_LOCATION","ACCESS_LOCATION_EXTRA_COMMANDS","ACCESS_MOCK_LOCATION","ACCESS_NETWORK_STATE","ACCESS_SURFACE_FLINGER","ACCESS_WIFI_STATE","ACCOUNT_MANAGER","ADD_VOICEMAIL","AUTHENTICATE_ACCOUNTS","BATTERY_STATS","BIND_ACCESSIBILITY_SERVICE","BIND_APPWIDGET","BIND_CARRIER_MESSAGING_SERVICE","BIND_DEVICE_ADMIN","BIND_DREAM_SERVICE","BIND_INPUT_METHOD","BIND_NFC_SERVICE","BIND_NOTIFICATION_LISTENER_SERVICE","BIND_PRINT_SERVICE","BIND_REMOTEVIEWS","BIND_TEXT_SERVICE","BIND_TV_INPUT","BIND_VOICE_INTERACTION","BIND_VPN_SERVICE","BIND_WALLPAPER","BLUETOOTH","BLUETOOTH_ADMIN","BLUETOOTH_PRIVILEGED","BODY_SENSORS","BRICK","BROADCAST_PACKAGE_REMOVED","BROADCAST_SMS","BROADCAST_STICKY","BROADCAST_WAP_PUSH","CALL_PHONE","CALL_PRIVILEGED","CAMERA","CAPTURE_AUDIO_OUTPUT","CAPTURE_SECURE_VIDEO_OUTPUT","CAPTURE_VIDEO_OUTPUT","CHANGE_COMPONENT_ENABLED_STATE","CHANGE_CONFIGURATION","CHANGE_NETWORK_STATE","CHANGE_WIFI_MULTICAST_STATE","CHANGE_WIFI_STATE","CLEAR_APP_CACHE","CLEAR_APP_USER_DATA","CONTROL_LOCATION_UPDATES","DELETE_CACHE_FILES","DELETE_PACKAGES","DEVICE_POWER","DIAGNOSTIC","DISABLE_KEYGUARD","DUMP","EXPAND_STATUS_BAR","FACTORY_TEST","FLASHLIGHT","FORCE_BACK","GET_ACCOUNTS","GET_PACKAGE_SIZE","GET_TASKS","GET_TOP_ACTIVITY_INFO","GLOBAL_SEARCH","HARDWARE_TEST","INJECT_EVENTS","INSTALL_LOCATION_PROVIDER","INSTALL_PACKAGES","INSTALL_SHORTCUT","INTERNAL_SYSTEM_WINDOW","INTERNET","KILL_BACKGROUND_PROCESSES","LOCATION_HARDWARE","MANAGE_ACCOUNTS","MANAGE_APP_TOKENS","MANAGE_DOCUMENTS","MASTER_CLEAR","MEDIA_CONTENT_CONTROL","MODIFY_AUDIO_SETTINGS","MODIFY_PHONE_STATE","MOUNT_FORMAT_FILESYSTEMS","MOUNT_UNMOUNT_FILESYSTEMS","NFC","PERSISTENT_ACTIVITY","PROCESS_OUTGOING_CALLS","READ_CALENDAR","READ_CALL_LOG","READ_CONTACTS","READ_EXTERNAL_STORAGE","READ_FRAME_BUFFER","READ_HISTORY_BOOKMARKS","READ_INPUT_STATE","READ_LOGS","READ_PHONE_STATE","READ_PROFILE","READ_SMS","READ_SOCIAL_STREAM","READ_SYNC_SETTINGS","READ_SYNC_STATS","READ_USER_DICTIONARY","READ_VOICEMAIL","REBOOT","RECEIVE_BOOT_COMPLETED","RECEIVE_MMS","RECEIVE_SMS","RECEIVE_WAP_PUSH","RECORD_AUDIO","REORDER_TASKS","RESTART_PACKAGES","SEND_RESPOND_VIA_MESSAGE","SEND_SMS","SET_ACTIVITY_WATCHER","SET_ALARM","SET_ALWAYS_FINISH","SET_ANIMATION_SCALE","SET_DEBUG_APP","SET_ORIENTATION","SET_POINTER_SPEED","SET_PREFERRED_APPLICATIONS","SET_PROCESS_LIMIT","SET_TIME","SET_TIME_ZONE","SET_WALLPAPER","SET_WALLPAPER_HINTS","SIGNAL_PERSISTENT_PROCESSES","STATUS_BAR","SUBSCRIBED_FEEDS_READ","SUBSCRIBED_FEEDS_WRITE","SYSTEM_ALERT_WINDOW","TRANSMIT_IR","UNINSTALL_SHORTCUT","UPDATE_DEVICE_STATS","USE_CREDENTIALS","USE_SIP","VIBRATE","WAKE_LOCK","WRITE_APN_SETTINGS","WRITE_CALENDAR","WRITE_CALL_LOG","WRITE_CONTACTS","WRITE_EXTERNAL_STORAGE","WRITE_GSERVICES","WRITE_HISTORY_BOOKMARKS","WRITE_PROFILE","WRITE_SECURE_SETTINGS","WRITE_SETTINGS","WRITE_SMS","WRITE_SOCIAL_STREAM","WRITE_SYNC_SETTINGS","WRITE_USER_DICTIONARY","WRITE_VOICEMAIL","checkPermission","permission","requestPermission","requestPermissions","permissions","hasPermission","pluginName","plugin","pluginRef","repo","platforms","decorators","once","fired","runTests","count","nestedErrors","finishTestRun","BrowserRouter","_React$Component","history","_proto","render","createElement","children","Component","propTypes","basename","node","forceRefresh","bool","getUserConfirmation","keyLength","number","componentDidMount","HashRouter","hashType","oneOf","resolveToLocation","currentLocation","normalizeToLocation","forwardRefShim","C","forwardRef","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","LinkAnchor","_ref","forwardedRef","innerRef","navigate","_onClick","rest","ex","preventDefault","defaultPrevented","button","ref","displayName","Link","_ref2","_ref2$component","component","Consumer","location","href","createHref","method","toType","oneOfType","refType","current","any","isRequired","forwardRefShim$1","forwardRef$1","joinClassnames","classnames","NavLink","_ref$ariaCurrent","ariaCurrent","_ref$activeClassName","activeClassName","activeStyle","classNameProp","exact","isActiveProp","isActive","locationProp","sensitive","styleProp","toLocation","pathname","escapedPath","ariaCurrentType","Filesystem","androidSampleRate","useRecordAndroid","onStop","useState","setStatus","fileName","setFileName","audioFile","setAudioFile","stopRecording","stopRecord","release","file","readFile","externalDataDirectory","console","log","audioAsBase64","audioUrl","sampleRate","startRecording","media","Date","filePath","startRecord","setRecordSTT","sceneIdx","arrIdx","oldVar","lessonId","rs","newRs","record","stt","setRecord","r","URL","revokeObjectURL","rEmail","rUrl","rUUID","isTrimmed","trim","objStringTag","StringSchema","strValue","String","valueOf","min","max","regex","excludeEmptyString","matches","search","email","url","uuid","val","lowercase","toLowerCase","uppercase","global","factory","React","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","constructor","changedArray","a","b","some","item","is","initialState","error","ErrorBoundary","_args","updatedWithError","resetErrorBoundary","_this$props","onReset","reset","getDerivedStateFromError","setState","componentDidCatch","info","_this$props$onError","_this$props2","onError","componentDidUpdate","prevProps","resetKeys","_this$props$onResetKe","_this$props3","onResetKeysChange","_this$props4","fallbackRender","FallbackComponent","fallback","_props","isValidElement","withErrorBoundary","errorBoundaryProps","Wrapped","useErrorHandler","givenError","_React$useState","setError","upperFirst","capitalize","asciiWords","hasUnicodeWord","unicodeWords","words","pattern","guard","isPrototype","Ctor","proto","isNaN","NumberSchema","parsed","NaN","parseFloat","Number","less","lessThan","more","moreThan","msg","positive","negative","integer","isInteger","_method","avail","truncate","Math","stackClear","NextButton","color","fill","expand","createCompounder","snakeCase","word","arrayLikeKeys","baseKeys","isArrayLike","arr","mapToArray","isarray","pathToRegexp","compile","tokensToFunction","tokensToRegExp","PATH_REGEXP","str","tokens","defaultDelimiter","delimiter","res","exec","m","escaped","offset","prefix","capture","group","modifier","asterisk","partial","repeat","optional","escapeGroup","escapeString","substr","encodeURIComponentPretty","encodeURI","c","charCodeAt","encodeAsterisk","flags","encode","pretty","encodeURIComponent","token","segment","stringify","j","attachKeys","re","regexpToRegexp","groups","arrayToRegexp","parts","regexp","stringToRegexp","end","route","endsWithDelimiter","Storage","setNativeStorage","getNativeStorage","ret","removeNativeStorage","remove","INFINITY","rsDingbatRange","rsLowerRange","rsMathOpRange","rsNonCharRange","rsPunctuationRange","rsSpaceRange","rsUpperRange","rsBreakRange","rsApos","rsBreak","rsDigits","rsDingbat","rsLower","rsMisc","rsUpper","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","rsOrdLower","rsOrdUpper","rsEmoji","reUnicodeWord","reIsDeepProp","reIsPlainProp","_objectWithoutPropertiesLoose","excluded","sourceKeys","createValidation","config","isRef","getValue","overrides","nextParams","formatError","validOrError","OPTIONS","nativeKeys","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","tag","unmasked","stubFalse","getAudioContext","AudioContext","window","webkitAudioContext","RECORD_TIMEOUT_MS","useRecordRtc","mediaBlobUrl","setMediaBlobUrl","recorder","setRecorder","ytPlayer","getBlob","blob","getInternalRecorder","getDataURL","createObjectURL","navigator","mediaDevices","getUserMedia","audio","stream","mimeType","recorderType","numberOfAudioChannels","useEffect","arrayPush","array","isStrictComparable","Keyboard","Device","lessonParamsSchema","subLessonId","required","isDraft","lessonSteps","_id","ReportIssueModal","isOpen","onDismiss","sharedService","lesson","setValue","presentToast","onCompleted","reportLessonIssue","reportIssue","handleSave","getDeviceInfo","userPlatform","manufacturer","platform","model","osVersion","appVersion","report","scene","lessonName","variables","onWillDismiss","rows","placeholder","onIonChange","detail","LessonStepPage","ionContentRef","footerRef","showReportModal","setShowReportModal","setScrollTop","stop","Footer","myPortal","setMyPortal","portal","createPortal","handleReportIssue","scrollEvents","onIonScroll","scrollTop","sizeXs","sizeSm","sizeMd","sizeLg","sizeXl","youtubeId","onClickReportIssue","ErrorFallback","role","LessonStepsPage","loading","init","setLesson","lessonRes","skip","blobUrlToBase64","reject","fetch","reader","FileReader","onloadend","readAsDataURL","useLessonNav","setStep","setScene","restoreLeftData","leftOf","BaseSchema","deps","conditions","_whitelist","_blacklist","exclusiveTests","transforms","typeError","notType","nullable","presence","_mutate","getPrototypeOf","_typeError","_whitelistError","_blacklistError","meta","before","combined","mergedSpec","merge","reduce","condition","resolvedSchema","_cast","assert","formattedValue","formattedResult","_type","rawValue","_options","initialTests","maybeCb","_validate","validateSync","defaultValue","_getDefault","def","isStrict","defined","s","_isPresent","isNullable","isExclusive","dep","isSibling","enums","valids","toArray","notOneOf","invalids","description","n","idx","list","findIndex","__isYupSchema__","parentPath","notRequired","baseIsNative","getNative","_typeof","_sister","_sister2","_loadYouTubeIframeApi","_loadYouTubeIframeApi2","_YouTubePlayer","_YouTubePlayer2","youtubeIframeAPI","maybeElementId","document","getElementById","YT","Player","on","playerApi","off","freeExports","nodeType","freeModule","moduleExports","Buffer","nativeIsBuffer","isBuffer","maskSrcKey","uid","IE_PROTO","isMasked","Infinity","ii","_err$path","sortByKeyOrder","SceneChangeOverlay","scnenNo","scenesLength","textAlign","fontWeight","textShadow","fontSize","opacity","StepMap","Listen","Dictation","Review","Practice","getLeftData","getState","lessonID","version","scenes","start","selectedLessonScene","selectedLessonStep","useLessonStore","setLoading","studyRecords","left","dictationText","moveNext","setOverlay","nextSceneIdx","isPlaying","moveScene","setDictationText","text","overlay","setPlayer","setPlayerState","play","prevStart","prevEnd","getCurrentTime","seek","floor","rewind","sec","cur","subscribe","newState","asciiToArray","isKeyable","h","d","y","fmtLong","fmtShort","ms","round","plural","ceil","IosRecordingView","setIsPlaying","setIsRecording","audioMedia","setAudioMedia","audioPlaying","setAudioPaying","diagnostic","useMemo","present","handleAudioPlay","handleAudioStop","tempDirectory","onStatusUpdate","MEDIA_STOPPED","handleRecordStart","getMicrophoneAuthorizationStatus","requestMicrophoneAuthorization","reqStatus","handleRecordStop","records","onPlay","Set","baseClone","circulars","clones","cloneNode","getTime","RecordingView","audioRef","useRef","practiceState","audioEl","pause","currentTime","hidden","onPlaying","onPause","onEnded","paused","baseIsEqual","hasIn","matchesStrictComparable","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","baseMatchesProperty","srcValue","objValue","memoizeCapped","rePropName","reEscapeChar","quote","subString","getMapData","mapCacheSet","Uint8Array","eq","equalArrays","setToArray","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","arrayBufferTag","dataViewTag","symbolProto","symbolValueOf","equalByTag","other","bitmask","customizer","equalFunc","stack","byteLength","byteOffset","buffer","convert","isPartial","stacked","MAX_MEMOIZE_SIZE","ArraySchema","innerType","_opts","castArray","castElement","_options$abortEarly","_options$recursive","original","rejector","baseFor","baseForOwn","iteratee","mapCacheGet","nativeCreate","HASH_UNDEFINED","argsTag","baseHasIn","errorToString","regExpToString","symbolToString","SYMBOL_REGEXP","printNumber","isNegativeZero","printSimpleValue","quoteStrings","typeOf","toISOString","printValue","listCacheClear","ScriptView","showScript","setShowScript","script","langs","En","txt","objectToString","baseSlice","freeGlobal","freeSelf","self","NO_TRANSLATION_TEXT","profile","showTranslation","setShowTranslation","showInfo","setShowInfo","langKey","nativeLanguage","languageKey","translation","tip","alignItems","flex","ScriptBox","phrases","mt","onDidDismiss","langKeyMap","Ko","Sp","Vi","Po","WordDialog","onSaveClick","saveDisabled","speak","top","disabled","PhraseMeaning","phraseWord","setNote","saveLoading","engMean","meanings","find","lang","meaning","myMean","wordData","kor","noun","verb","adv","adj","WordMeaning","notFound","setNotFound","dictionary","korean","adverb","adjective","clientRect","textContent","isCollapsed","dicWord","setDicWord","selection","setSelection","setPhraseWord","scriptRect","getClientRects","x","width","rect","right","bottom","position","marginTop","userSelect","highlightClassName","searchWords","autoEscape","textToHighlight","highlightTag","highlightIndex","display","bg","zIndex","stackDelete","arrayFilter","predicate","resIndex","addLeadingSlash","stripLeadingSlash","hasBasename","stripBasename","stripTrailingSlash","parsePath","hash","hashIndex","searchIndex","createPath","createLocation","decodeURI","URIError","locationsAreEqual","createTransitionManager","prompt","setPrompt","nextPrompt","confirmTransitionTo","action","listeners","appendListener","listener","notifyListeners","canUseDOM","getConfirmation","confirm","supportsHistory","ua","userAgent","supportsPopStateOnHashChange","supportsGoWithoutReloadUsingHash","isExtraneousPopstateEvent","PopStateEvent","HashChangeEvent","getHistoryState","createBrowserHistory","globalHistory","canUseHistory","needsHashChangeListener","_props$forceRefresh","_props$getUserConfirm","_props$keyLength","getDOMLocation","historyState","_window$location","createKey","random","transitionManager","nextState","handlePopState","handlePop","handleHashChange","forceNextPop","ok","revertPop","fromLocation","toIndex","allKeys","fromIndex","delta","go","initialLocation","pushState","prevIndex","nextKeys","replaceState","goBack","goForward","listenerCount","checkDOMListeners","isBlocked","block","unblock","listen","unlisten","HashChangeEvent$1","HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","stripHash","getHashPath","substring","pushHashPath","replaceHashPath","createHashHistory","canGoWithoutReload","_props$hashType","_HashPathCoders$hashT","ignorePath","locationsAreEqual$$1","encodedPath","prevLocation","allPaths","lastIndexOf","baseTag","querySelector","getAttribute","hashChanged","nextPaths","clamp","lowerBound","upperBound","createMemoryHistory","_props$initialEntries","initialEntries","_props$initialIndex","initialIndex","nextIndex","nextEntries","splice","canGo","Sister","sister","handler","unshift","_loadScript","_loadScript2","iframeAPIReady","protocol","previous","onYouTubeIframeAPIReady","isFunction","lcs","compareFunc","M","N","MAX","k","Direct","getSolution","aStart","aEnd","bStart","bEnd","startDirect","endDirect","elementsChanged","_a","_b","_c","_d","removeFirst","horizontal","vertical","addFirst","HALF","now","segments","direct","none","preview","_loop_1","currentPoints","diagonal","bestValue","best","now2","preview2","_loop_2","dSum","bestSubSequence","all","load","head","getElementsByTagName","charset","async","attrs","setAttributes","onend","stdOnEnd","ieOnEnd","onload","appendChild","attr","setAttribute","onerror","onreadystatechange","readyState","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","reRegExpChar","reIsHostCtor","reIsNative","formatArgs","save","useColors","storage","chrome","local","localstorage","colors","process","documentElement","WebkitAppearance","firebug","exception","table","parseInt","$1","formatters","namespace","humanize","diff","lastC","namespaces","removeItem","env","DEBUG","enable","localStorage","stepTitles","LessonStepHeader","navController","slot","buttons","blah","pop","navigateBack","navigateRoot","nullTag","undefinedTag","PracticeContext","isRecording","usePracticeContext","getMatchData","baseHas","LessonStepListen","setSceneIdx","isEnd","setIsEnd","itv","setInterval","clearInterval","lastIdx","onPlayClick","WeakMap","mixed","isCast","date","boolean","isValue","isoReg","parseIsoDate","numericKeys","minutesOffset","timestamp","struct","UTC","arraySome","DataView","objectTag","promiseTag","weakMapTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","ctorString","baseAssignValue","baseIteratee","mapKeys","checkMicrophonePermission","androidPermissions","results","hasPermissions","reqPerms","hasPerm","perm","reqRes","AndroidRecordingView","deburrLetter","reLatin","reComboMark","deburr","createNamedContext","historyContext","createNamedContext$1","Router","computeRootMatch","isExact","_isMounted","_pendingLocation","staticContext","componentWillUnmount","Provider","MemoryRouter","Lifecycle","onMount","onUpdate","onUnmount","Prompt","_ref$when","when","messageType","cacheLimit","cacheCount","compilePath","generator","generatePath","Redirect","computedMatch","_ref$push","cache$1","cacheLimit$1","cacheCount$1","compilePath$1","cacheKey","pathCache","matchPath","_options$exact","_options$strict","_options$sensitive","paths","matched","_compilePath","memo","isEmptyChildren","Children","evalChildrenDev","Route","context$1","propName","arrayOf","addBasename","createURL","staticHandler","noop","StaticRouter","handlePush","navigateTo","handleReplace","handleListen","handleBlock","_this$props$basename","_this$props$context","_this$props2$basename","_this$props2$context","_this$props2$location","Switch","element","child","cloneElement","withRouter","wrappedComponentRef","remainingProps","WrappedComponent","useContext","useHistory","useLocation","useParams","useRouteMatch","buildNames","cjs","esm","umd","initialBuildName","secondaryBuildName","addMethod","schemaType","baseTimes","overArg","stackHas","playRates","LessonPlayer","playerRef","showAlert","setShowAlert","playedSeconds","setPlayedSeconds","handleUnstarted","handleProgress","videoId","playerVars","showinfo","disablekb","controls","cc_load_policy","playsinline","autoplay","origin","onReady","onStateChange","PlaybackMenu","header","playbackRate","getPlaybackRate","handlePlaybackRateChange","setPlaybackRate","modules","installedModules","__webpack_require__","moduleId","loaded","_Highlighter","_Highlighter2","Highlighter","_objectWithoutProperties","_highlightWordsCore","_propTypes","_propTypes2","_react","_memoizeOne","_memoizeOne2","activeIndex","findChunks","highlightStyle","sanitize","instanceOf","unhighlightClassName","unhighlightStyle","_ref$activeIndex","_ref$caseSensitive","caseSensitive","_ref$highlightClassName","_ref$highlightStyle","_ref$highlightTag","_ref$unhighlightClassName","chunks","findAll","HighlightTag","highlightClassNames","highlightStyles","lowercaseProps","mapped","memoizedLowercaseProps","chunk","highlight","highlightClass","_utils","enumerable","combineChunks","fillInChunks","_ref$findChunks","defaultFindChunks","chunksToHighlight","totalLength","processedChunks","nextChunk","prevChunk","endIndex","_ref3","_ref3$sanitize","identity","searchWord","escapeRegExpFn","lastIndex","_ref4","allChunks","append","NODE_ENV","REACT_ELEMENT_TYPE","$$typeof","throwOnDirectAccess","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","len","run","nextTick","Item","title","browser","argv","versions","addListener","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","emptyFunction","invariant","warning","ReactPropTypesSecret","checkPropTypes","ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","iteratorFn","ANONYMOUS","ReactPropTypes","createPrimitiveTypeChecker","createAnyTypeChecker","createArrayOfTypeChecker","createElementTypeChecker","createInstanceTypeChecker","createNodeChecker","objectOf","createObjectOfTypeChecker","createEnumTypeChecker","createUnionTypeChecker","createShapeTypeChecker","createStrictShapeTypeChecker","PropTypeError","createChainableTypeChecker","manualPropTypeCallCache","manualPropTypeWarningCount","checkType","componentName","propFullName","secret","chainedCheckType","bind","expectedType","propValue","propType","getPropType","preciseType","getPreciseType","thatReturnsNull","typeChecker","expectedClass","expectedClassName","actualClassName","getClassName","expectedValues","valuesString","arrayOfTypeCheckers","checker","getPostfixForTypeWarning","isNode","shapeTypes","every","PropTypes","makeEmptyFunction","arg","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsThis","thatReturnsArgument","validateFormat","format","f","argIndex","framesToPop","printWarning","propIsEnumerable","toObject","shouldUseNative","test1","getOwnPropertyNames","test2","fromCharCode","order2","test3","split","letter","symbols","loggedTypeFailures","typeSpecs","getStack","typeSpecName","shim","getShim","simpleIsEqual","resultFn","isEqual","lastThis","lastArgs","lastResult","calledOnce","isNewArgEqualToLast","newArg","newArgs","diffArr","ia","ib","oldArr","oldStart","oldEnd","newArr","newStart","newEnd","added","removed","replaceApostrophe","normalizeWord","w","compareWord","wa","wb","diffText","oldString","newString","listCacheDelete","listCacheGet","listCacheSet","baseIsMatch","baseMatches","matchData","maxSize","_maxSize","_size","_values","SPLIT_REGEX","DIGIT_REGEX","LEAD_DIGIT_REGEX","SPEC_CHAR_REGEX","CLEAN_QUOTES_REGEX","MAX_CACHE_SIZE","setCache","getCache","normalizePath","setter","part","getter","safe","isQuoted","thisArg","iter","isBracket","shouldBeQuoted","hasLeadingNumber","hasSpecialChars","IonicGestureConfig","mc","Hammer","cssProps","equal","Mixed","arrayProto","arrayReduce","accumulator","initAccum","routes","LessonStepsPageModule","declarations","imports","forChild","providers","provide","useClass","schemas","isTypedArray","inherited","isArr","isArg","isBuff","skipIndexes","hasElementType","Element","hasMap","hasSet","hasArrayBuffer","isView","it","warn","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","createBaseFor","arrayTag","funcTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","reAsciiWord","baseToString","mapCacheClear","mapCacheDelete","mapCacheHas","Stack","equalObjects","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","arrayMap","baseGetAllKeys","keysFunc","symbolsFunc","GET_DICTATION","useCurrentLesson","fetchPolicy","ReferenceSet","refs","newItems","removeItems","stackGet","reHasUnicodeWord","LessonStepReListen","setSegment","setLessonCompleted","isCompleted","stopVideo","defaults","LessonStepsApp","containerElementName","router","alertController","isLoaded","dictationPlayCount","reviewingPlayCount","practicePlayCount","gaTrackView","changes","containerRef","nativeElement","showAlertAndExit","setDirection","alert","selector","template","encapsulation","None","getIn","lastPart","lastPartDebug","_part","reach","Diagnostic","locationAuthorizationMode","ALWAYS","WHEN_IN_USE","permissionGroups","CALENDAR","CONTACTS","LOCATION","MICROPHONE","PHONE","SENSORS","SMS","STORAGE","locationMode","HIGH_ACCURACY","DEVICE_ONLY","BATTERY_SAVING","LOCATION_OFF","bluetoothState","UNKNOWN","RESETTING","UNSUPPORTED","UNAUTHORIZED","POWERED_OFF","POWERED_ON","POWERING_OFF","POWERING_ON","isLocationAvailable","isWifiAvailable","isCameraAvailable","externalStorage","isBluetoothAvailable","switchToLocationSettings","switchToMobileDataSettings","switchToBluetoothSettings","switchToWifiSettings","isWifiEnabled","setWifiState","setBluetoothState","isLocationEnabled","isLocationAuthorized","getLocationAuthorizationStatus","requestLocationAuthorization","isCameraPresent","isCameraAuthorized","getCameraAuthorizationStatus","requestCameraAuthorization","isMicrophoneAuthorized","isContactsAuthorized","getContactsAuthorizationStatus","requestContactsAuthorization","isCalendarAuthorized","getCalendarAuthorizationStatus","requestCalendarAuthorization","switchToSettings","getBluetoothState","registerBluetoothStateChangeHandler","registerLocationStateChangeHandler","isGpsLocationAvailable","isGpsLocationEnabled","isNetworkLocationAvailable","isNetworkLocationEnabled","getLocationMode","getPermissionAuthorizationStatus","getPermissionsAuthorizationStatus","requestRuntimePermission","requestRuntimePermissions","isRequestingPermission","registerPermissionRequestCompleteHandler","isBluetoothEnabled","hasBluetoothSupport","hasBluetoothLESupport","hasBluetoothLEPeripheralSupport","isExternalStorageAuthorized","getExternalStorageAuthorizationStatus","requestExternalStorageAuthorization","getExternalSdCardDetails","switchToWirelessSettings","switchToNFCSettings","isNFCPresent","isNFCEnabled","isNFCAvailable","registerNFCStateChangeHandler","isDataRoamingEnabled","isADBModeEnabled","isDeviceRooted","isCameraRollAuthorized","getCameraRollAuthorizationStatus","requestCameraRollAuthorization","isRemoteNotificationsEnabled","isRegisteredForRemoteNotifications","getRemoteNotificationsAuthorizationStatus","requestRemoteNotificationsAuthorization","types","omitRegistration","getRemoteNotificationTypes","isRemindersAuthorized","getRemindersAuthorizationStatus","requestRemindersAuthorization","isBackgroundRefreshAuthorized","getBackgroundRefreshStatus","requestBluetoothAuthorization","isMotionAvailable","isMotionRequestOutcomeAvailable","requestMotionAuthorization","getMotionAuthorizationStatus","getLocationAccuracyAuthorization","requestTemporaryFullAccuracyAuthorization","purpose","registerLocationAccuracyAuthorizationChangeHandler","configurable","sortFields","edges","nodes","addNode","depPath","reverse","isAbsolute","spliceOne","resolvePathname","toParts","fromParts","isToAbs","isFromAbs","mustEndAbs","hasTrailingSlash","last","up","prefixes","Reference","isContext","__isYupRef","ActionBar","playedRate","isPlay","asyncTag","genTag","proxyTag","useHelpReviewGuide","popover","LessonStepReview","setCount","showHelpGuide","counts","num","DiffView","dictation","textDecoration","noCustomizer","createDebug","disable","enabled","names","skips","prevTime","selectColor","abs","curr","prev","formatter","logFn","fromRight","iterable","freeProcess","require","builder","Lazy","_resolve","validateAt","validateSyncAt","isValid","isValidSync","mapValues","__assign","t","useTextSelection","react_1","roundValues","_rect","_i","shallowDiff","setRect","setIsCollapsed","setText","useCallback","newRect","getSelection","rangeCount","range","getRangeAt","contains","commonAncestorContainer","contents","cloneContents","rects","el","getBoundingClientRect","toJSON","oldRect","collapsed","useLayoutEffect","cacheHas","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","_classCallCheck","instance","Constructor","_defineProperties","descriptor","writable","_createClass","protoProps","staticProps","_inherits","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","ownKeys","enumerableOnly","sym","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","shouldUpdateVideo","prevVars","vars","filterResetOptions","shouldResetPlayer","shouldUpdatePlayer","YouTube","PlayerState","onEnd","onPlaybackRateChange","onPlaybackQualityChange","playerOpts","internalPlayer","container","onPlayerReady","onPlayerError","onPlayerPlaybackRateChange","onPlayerPlaybackQualityChange","destroy","createPlayer","getIframe","iframe","removeAttribute","startSeconds","endSeconds","loadVideoById","cueVideoById","updatePlayer","resetPlayer","updateVideo","containerClassName","refContainer","UNSTARTED","BUFFERING","CUED","defaultProps","useHelpDictationGuide","PlayCounts","DictationTextarea","handleFocus","show","setDictatonValue","old","onIonFocus","onIonBlur","LessonStepDictation","isSaving","setIsSaving","focusRef","focus","deburredLetters","getAllKeys","handleSceneChange","newScene","SceneNavMenu","RecordRTC","mediaStream","RecordRTCConfiguration","config2","disableLogs","mediaRecorder","clearRecordedData","recordingDuration","handleRecordingDuration","initRecorder","initCallback","Recorder","GetRecorderType","warningLog","resumeRecording","_callback","__blob","bytesToSize","autoWriteToDisk","dataURL","parameter","DiskStorage","Store","pauseRecording","resume","_blob","postMessage","FileReaderSync","_mediaRecorder","Worker","mozGetUserMedia","webWorker","processInWebWorker","onmessage","_function","Blob","worker","counter","onRecordingStopped","onStateChanged","WARNING","returnObject","setRecordingDuration","toURL","invokeSaveAsDialog","getFromDisk","setAdvertisementArray","arrayOfWebPImages","advertisement","duration","image","bufferSize","disableLogsCache","AudioContextConstructor","close","Fetch","writeToDisk","video","gif","audioDataURL","videoDataURL","gifDataURL","audioBlob","videoBlob","gifBlob","WhammyRecorder","CanvasRecorder","WebAssemblyRecorder","GifRecorder","StereoAudioRecorder","MediaStreamRecorder","getTracks","MediaRecorder","bitsPerSecond","isChrome","isEdge","isOpera","ReadableStream","isMediaRecorderCompatible","isTypeSupported","MultiStreamRecorder","isSafari","MRecordRTC","addStream","_mediaStream","mediaType","audioRecorder","timeSlice","onTimeStamp","newStream","videoTrack","isFirefox","MediaStream","addTrack","videoRecorder","canvas","frameInterval","workerPath","webAssemblyPath","frameRate","bitrate","isSingleRecorder","gifRecorder","quality","blobURL","output","_audioDataURL","_videoDataURL","callback00","webkitURL","browserFakeUserAgent","that","captureStream","mozCaptureStream","getContext","drawImage","toDataURL","HTMLVideoElement","screen","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","lastTime","currTime","timeToCall","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","mozAudioContext","webkitGetUserMedia","msSaveBlob","msSaveOrOpenBlob","opera","isElectron","webkitMediaStream","track","bytes","sizes","pow","toPrecision","fileExtension","splitted","fileFullName","hyperlink","download","body","click","dispatchEvent","MouseEvent","view","bubbles","cancelable","electron","kind","setSrcObject","srcObject","mozSrcObject","getSeekableBlob","inputBlob","EBML","Reader","decoder","Decoder","tools","fileReader","ebmlElms","decode","read","refinedMetadataBuf","makeMetadataSeekable","metadatas","cues","metadataSize","newBlob","readAsArrayBuffer","nVer","nAgt","fullVersion","majorVersion","nameOffset","verOffset","ix","arrayOfBlobs","getArrayOfBlobs","timestamps","allStates","recorderHints","canRecordMimeType","ondataavailable","updateTimeStamp","getNativeBlob","getMimeType","recordingCallback","onstart","onpause","onresume","onstop","looper","manuallyStopped","timeslice","secondObject","clearRecordedDataCB","isMediaStreamActive","active","ended","getAllStates","checkForInactiveTracks","leftchannel","rightchannel","recording","recordingLength","jsAudioNode","desiredSampRate","leftChannel","resetVariables","isAudioProcessStarted","isPaused","mergeLeftRightBuffers","mergeAudioBuffers","leftBuffers","rightBuffers","internalInterleavedLength","mergeBuffers","interpolateArray","newSampleRate","oldSampleRate","fitCount","newData","springFactor","tmp","toFixed","after","atPoint","linearInterpolate","channelBuffer","rLength","Float64Array","lng","interleave","rightChannel","inputIndex","writeUTFBytes","setUint8","interleaved","interleavedLength","resultingBufferLength","setUint32","setUint16","volume","setInt16","noWorker","workerURL","terminate","audioInput","createMediaStreamSource","legalBufferValues","createJavaScriptNode","createScriptProcessor","connect","intervalsBasedBuffers","onaudioprocess","disconnect","onAudioProcessDataAvailable","onAudioProcessStarted","inputBuffer","getChannelData","chLeft","Float32Array","chRight","createMediaStreamDestination","destination","htmlElement","html2canvas","isCanvasSupportsStreamCapturing","_isChrome","webkitRTCPeerConnection","chromeVersion","matchArray","useWhammyRecorder","globalCanvas","mediaStreamRecorder","HTMLCanvasElement","CanvasRenderingContext2D","canvasMediaStream","webkitCaptureStream","mdStream","whammy","frames","drawCanvasFrame","getWebPImages","nodeName","framesLength","frame","framesRemaining","onEncodingCallback","webp","isPausedRecording","cloneCanvas","newCanvas","grabMouse","showMousePointer","onrendered","Whammy","Video","onloadedmetadata","muted","drawFrames","isStopDrawing","asyncLoop","loop","functionToLoop","dropBlackFrames","_frames","_framesToCheck","_pixTolerance","_frameTolerance","localCanvas","context2d","resultFrames","checkUntilNotBlack","endCheckFrame","sampleColor","g","maxColorDifference","sqrt","pixTolerance","frameTolerance","doNotCheckNext","matchPixCount","endPixCheck","maxPixCount","finishImage","Image","imageData","getImageData","pix","currentColor","colorDifference","WhammyVideo","whammyInWebWorker","ArrayToWebM","checkFrames","clusterMaxDuration","doubleToString","frameNumber","clusterTimecode","clusterFrames","clusterDuration","clusterCounter","cluster","getClusterData","generateEBML","makeSimpleBlock","discardable","invisible","keyframe","lacing","trackNum","timecode","numToBuffer","strToBuffer","bitsToBuffer","bits","pad","json","ebml","zeroes","sizeToString","padded","toBinStrOld","out","parseWebP","riff","VP8","RIFF","WEBP","frameStart","getStrLength","unpadded","parseRIFF","webm","atob","indexedDB","open","dbVersion","dbName","db","request","createObjectStore","dataBase","dataStoreName","putInDB","transaction","objectStore","put","getFromStore","portionName","onsuccess","setVersion","onupgradeneeded","GIFEncoder","isHTMLObject","isLoadedMetaData","offsetWidth","offsetHeight","gifEncoder","setRepeat","setDelay","setQuality","onGifRecordingStarted","startTime","drawVideoFrame","time","clearedRecordedData","lastAnimationFrame","lastFrameTime","onGifPreview","addFrame","endTime","bin","playsInline","MultiStreamsMixer","arrayOfMediaStreams","elementClass","videos","isStopDrawingFrames","useGainNode","startDrawingFrames","drawVideosToCanvas","videosLength","fullcanvas","remaining","onRender","getMixedStream","mixedVideoStream","getMixedVideoStream","mixedAudioStream","getMixedAudioStream","resetVideoStreams","capturedStream","videoStream","audioContext","audioSources","gainNode","createGain","gain","audioTracksLength","audioSource","audioDestination","getVideo","appendStreams","streams","releaseStreams","clearRect","mixer","getAllVideoTracks","previewStream","tracks","addStreams","getMixer","RecordRTCPromisesHandler","recordRTC","WritableStream","realtime","createBufferURL","finished","cameraStream","controller","cvs","onplaying","frameTimeout","cameraTimer","onVideoProcessStarted","_controlledReadableStream","enqueue","arrayBuffer","timebaseDen","pipeTo","write","arrayOfBuffers","Condition","otherwise","check","branch","reHasUnicode","toposort","uniqueNodes","cursor","sorted","visited","outgoingEdges","makeOutgoingEdges","nodesHash","makeNodesHash","edge","visit","predecessors","nodeRep","outgoing","objProps","objLength","othProps","objStacked","skipCtor","objCtor","othCtor","reApos","MAX_SAFE_INTEGER","File","cordovaFileError","getFreeDiskSpace","cordova","checkDir","FileError","fullPath","resolveDirectoryUrl","createDir","dirName","fse","getDirectory","removeDir","de","moveDir","newPath","newDirName","srcde","destenation","move","copyDir","deste","copy","listDir","createReader","readEntries","removeRecursively","rimraf","checkFile","resolveLocalFilesystemUrl","isFile","createFile","getFile","removeFile","fe","writeFile","getFileOpts","directoryEntry","fileEntry","writeFileEntry","createWriter","writer","writeExistingFile","readAsText","readAsBinaryString","moveFile","newFileName","srcfe","copyFile","fillErrorMessage","code","fileUrl","resolveLocalFileSystemURL","xc","directoryUrl","isDirectory","directoryName","readAs","success","fileRemoved","srce","destdir","newName","moveTo","copyTo","dr","gu","writeFileInChunks","onwriteend","evt","BLOCK_SIZE","writtenSize","writeNextChunk","onwrite","MAX_SIGNED_31_BIT_INT","commonjsGlobal","globalThis","getUniqueId","objectIs","createEventEmitter","handlers","newValue","changedBits","onlyChild","createReactContext","calculateChangedBits","_Provider$childContex","_Consumer$contextType","contextProp","_Component","getChildContext","componentWillReceiveProps","nextProps","oldValue","childContextTypes","_Component2","_this2","observedBits","_proto2","contextTypes","createContext","BooleanSchema","Boolean","camelCase","VIDEO_CUED","RecordResultItem","percent","confidence","transcript","RecordView","setLocale","custom","iosSampleRate","useRecordIos","reIsUint","valueEqual","aValue","bValue","getPlatform","usePracticeState","LessonStepPractice","G_SPEECH_KEY","fetchSpeechToText","audioBase64","encoding","sampleRateHertz","languageCode","enableWordTimeOffsets","audio_channel_count","headers","content","alternatives","alt","useSpeechToText","invalidDate","isDate","DateSchema","param","limit","prepareParam","INVALID_DATE","MSG_FOLLOWED","MSG_ACCOUNT_CREATED","MSG_OTP_SENT","MSG_PASSWORD_RESET","MSG_RECOVER_ACCOUNT","MSG_RECOVER_ACCOUNT_SUCCESS","MSG_PROFILE_UPDATED","ERR_USER_NOT_FOUND","ERR_PASSWORD_NOT_MATCHED","ERR_VALID_EMAIL","ERR_VALID_NAME","ERR_VALID_PHONE_NUMBER","ERR_INTERNAL_SERVER","ERR_USER_ALREADY_EXIST","ERR_USER_ALREADY_EXIST_RECOVER","ERR_GENRIC_OTP_EXPIRE","ERR_RECOVEREMAIL_SAME","ERR_UNAUTH","ERR_USER_BLOCKED","ERR_USER_WITHDRAWN","ERR_TOKEN_EXP","ERR_FB_ACCESS_TOKEN_EXP","ERR_GOOGLE_ACCESS_TOKEN_EXP","ERR_KAKAO_ACCESS_TOKEN_EXP","ERR_PASSWORD_IS_NOT_MATCHED","DATA_FOUND","NOT_FOUND","MSG_LEVEL_UPDATED","MSG_PASSWORD_SENT","EMAIL_NOT_FOUND","TRY_AGAIN","ALREADY_COMPLETED","VERIFICATION_MAIL_SEND","NOT_SENDMAIL","LOGIN_SUCCESS","INVALID_CREDENTIAL","WRONG_CODE","UPDATE_SUCCESSFULLY","DELETE_SUCCESSFULLY","ADD_SUCCESSFULLY","UPDATE_LESSON_COUNT","NOTE_SAVE","ALREADY_NOTE_SAVE","SUBSCRIPTION_LESSON_COUNT","NOT_VALID_EMAIL","ERR_PASSWORD","ERR_NEW_PASSWORD","ERR_CONFIRM_PASSWORD","ERR_CURRENT_PASSWORD_NOT_MATCHED","ERR_INVALID_CURRENT_PASSWORD","MSG_CHANGED_PASSWORD","NO_LESSON_FOUND","ADMIN_EMAIL_ALREADY_REGISTERED","NOT_LIKED_OWN_COMMENT","NOT_DISLIKED_OWN_COMMENT","SUBSCRIPTION_FALSE","SAVE_SUBSCRIPTION","ALREADY_SAVE","PLEASE_DO_SUBSCRIPTION","COMMENT_LIKED_SUCCESS","COMMENT_DISLIKED_SUCCESS","COMMENT_REPLY_SUCCESS","ALREADY_LIKE","ALREADY_DISLIKE","REQUEST_SENT_SUCCESSFULLY","ADMIN_VERIFICATION_EMAIL_SENT","ADMIN_ALREADY_EXISTS","ADMIN_ACCOUNT_NOT_VERIFIED_YET","ADMIN_UNAUTH","ADMIN_UPDATE_SUCCESSFULLY","ADMIN_ADD_SUCCESSFULLY","ADMIN_DELETE_SUCCESSFULLY","PLZ_CONTACT_TO_ADMIN","PLEASE_BUY_EXTRA_LESSONS","CONTACT_US_REQUEST_SENT_SUCCESSFULLY","SUBSCRIPTION_SUCCESS","VERIFICATION_EMAIL_SENT","ERR_USER_NOT_VERIFIED_EMAIL","ERR_LESSON_DELETED_BY_ADMIN","ERR_USER_NOT_VERIFIED_EMAIL_TRY_PURCHASE","ERR_LESSONS_NOT_FOUND","LESSON_SAVED","ERROR_SAVED_LESSON_NOT_FOUND","SAVED_LESSON_REMOVED","USER_CREATED","USER_DATA","PRODUCTS_DATA","PAYMENT_METHOD_ADDED","PAYMENT_METHOD_ADDED_TO_CUSTOMER","PAYMENT_METHOD_REMOVED_FROM_CUSTOMER","PAYMENT_METHODS","SUBSCRIPTION_ADDED","SUBSCRIPTION_DATA","LESSON_IS_ALREADY_EXIST_IN_SAVED_LESSON","ALL_COUPONS","COUPON_DETAILS"],"mappings":"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CR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQyuB,cAAI,EAAE,IA/RS;;AAiSf;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQmhD,oBAAU,EAAE,CA5SG;;AA8Sf;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQhxD,oBAAU,EAAE,CAzTG;;AA2Tf;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQgkB,gBAAM,EAAE,IAvUO;;AAyUf;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQ5f,eAAK,EAAE,iBAAW;AACd,gBAAIyiB,IAAI,CAACnrC,KAAL,KAAe,WAAf,IAA8B,CAACsyB,MAAM,CAACigD,WAA1C,EAAuD;AACnDruD,qBAAO,CAACs2C,IAAR,CAAa,0BAAb;AACH;;AAED,gBAAIgY,aAAa,IAAI,OAAOA,aAAa,CAACC,iBAArB,KAA2C,UAAhE,EAA4E;AACxED,2BAAa,CAACC,iBAAd;AACH;;AACDD,yBAAa,GAAG,IAAhB;AACA5pD,oBAAQ,CAAC,UAAD,CAAR;AACAuiB,gBAAI,CAAChX,IAAL,GAAY,IAAZ;AACH,WA7Vc;;AA+Vf;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQugD,wBAAc,EAAE,wBAAS10E,KAAT,EAAgB;AAC5B,gBAAI,CAACsyB,MAAM,CAACigD,WAAZ,EAAyB;AACrBruD,qBAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCnkB,KAAvC;AACH;AACJ,WA9Wc;;AAgXf;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQA,eAAK,EAAE,UA/XQ;;AAiYf;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACQ2gC,kBAAQ,EAAE,oBAAW;AACjB,mBAAOwK,IAAI,CAACnrC,KAAZ;AACH,WA3Yc;;AA6Yf;AACR;AACA;AACA;AACA;AACA;AACA;AACQ8vE,iBAAO,EAA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","file":"dashboard-lessons-lesson-details-lesson-steps-lesson-steps-module-es5.js","sourcesContent":["var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","import * as React from 'react'\nimport {IonIcon, IonItem, IonLabel, useIonPopover} from '@ionic/react'\nimport {caretDown} from 'ionicons/icons'\nimport {useLessonStore} from './useLessonStore'\nimport clsx from 'clsx'\n\nconst stepOpts = [\n  {step: 1, label: '1 Listen'},\n  {step: 2, label: '2 Dictation'},\n  {step: 3, label: '3 Review'},\n  {step: 4, label: '4 Pracitce'},\n]\n\nfunction Menus({onDissmis, step}) {\n  const moveStep = useLessonStore((state) => state.moveStep)\n  function handleStepChange(newStep: number) {\n    moveStep(newStep)\n    onDissmis()\n  }\n\n  return (\n    <>\n      {stepOpts.map((opt) => (\n        <IonItem key={opt.step} lines=\"none\" onClick={() => handleStepChange(opt.step)}>\n          <IonLabel className={clsx(step === opt.step && 'c-red')}>{opt.label}</IonLabel>\n        </IonItem>\n      ))}\n    </>\n  )\n}\n\nexport function StepNavMenu() {\n  const step = useLessonStore((state) => state.step)\n  const [presentMenu, dissmis] = useIonPopover(Menus, {\n    step,\n    onDissmis: () => dissmis(),\n  })\n\n  if (step < 2 || step > 4) {\n    return null\n  }\n\n  return (\n    <div\n      onClick={(e) => {\n        presentMenu({\n          cssClass: 'lessonStepsPopover',\n          mode: 'md',\n          event: e.nativeEvent,\n        })\n      }}\n    >\n      <IonIcon className=\"steps-scenes-icon\" icon={caretDown}></IonIcon> Steps\n    </div>\n  )\n}\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nmodule.exports = unicodeToArray;\n","var castSlice = require('./_castSlice'),\n    hasUnicode = require('./_hasUnicode'),\n    stringToArray = require('./_stringToArray'),\n    toString = require('./toString');\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = hasUnicode(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\nmodule.exports = createCaseFirst;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport printValue from './util/printValue';\nimport toArray from './util/toArray';\nlet strReg = /\\$\\{\\s*(\\w+)\\s*\\}/g;\nexport default class ValidationError extends Error {\n  static formatError(message, params) {\n    const path = params.label || params.path || 'this';\n    if (path !== params.path) params = _extends({}, params, {\n      path\n    });\n    if (typeof message === 'string') return message.replace(strReg, (_, key) => printValue(params[key]));\n    if (typeof message === 'function') return message(params);\n    return message;\n  }\n\n  static isError(err) {\n    return err && err.name === 'ValidationError';\n  }\n\n  constructor(errorOrErrors, value, field, type) {\n    super();\n    this.name = 'ValidationError';\n    this.value = value;\n    this.path = field;\n    this.type = type;\n    this.errors = [];\n    this.inner = [];\n    toArray(errorOrErrors).forEach(err => {\n      if (ValidationError.isError(err)) {\n        this.errors.push(...err.errors);\n        this.inner = this.inner.concat(err.inner.length ? err.inner : err);\n      } else {\n        this.errors.push(err);\n      }\n    });\n    this.message = this.errors.length > 1 ? `${this.errors.length} errors occurred` : this.errors[0];\n    if (Error.captureStackTrace) Error.captureStackTrace(this, ValidationError);\n  }\n\n}","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","import React from 'react'\nimport {IonCol, IonImg, IonRow, IonText} from '@ionic/react'\n\nexport function RecordButton({status, onRecordStart, onRecordStop}) {\n  return (\n    <IonRow className=\"ion-margin-top ion-align-items-center ion-justify-content-center\">\n      <IonCol\n        id=\"record-voice\"\n        style={{height: '70px'}}\n        size=\"6\"\n        className=\"ion-align-self-center ion-text-center\"\n      >\n        {status === 'idle' ? (\n          <>\n            <IonText>Tap to record</IonText>\n            <IonImg\n              onClick={onRecordStart}\n              style={{height: '100%'}}\n              src=\"../../../../../assets/images/mic.png\"\n            />\n          </>\n        ) : status === 'recording' ? (\n          <>\n            <IonText className=\"c-red\">Tap to stop</IonText>\n            <IonImg\n              onClick={onRecordStop}\n              style={{height: '100%'}}\n              src=\"../../../../../assets/images/recordingStarted.gif\"\n            />\n          </>\n        ) : status === 'stopped' ? (\n          <>\n            <IonText>Try Again</IonText>\n            <IonImg\n              onClick={onRecordStart}\n              style={{height: '100%'}}\n              src=\"../../../../../assets/images/mic.png\"\n            />\n          </>\n        ) : status === 'prepare' ? (\n          <>\n            <IonText>Wait</IonText>\n            <IonImg\n              style={{height: '100%'}}\n              src=\"../../../../../assets/images/record-prepare.png\"\n            />\n          </>\n        ) : (\n          <>\n            <IonText>Try Again</IonText>\n            <IonImg\n              style={{height: '100%'}}\n              src=\"../../../../../assets/images/record-prepare.png\"\n            />\n          </>\n        )}\n      </IonCol>\n    </IonRow>\n  )\n}\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _functionNames = require('./functionNames');\n\nvar _functionNames2 = _interopRequireDefault(_functionNames);\n\nvar _eventNames = require('./eventNames');\n\nvar _eventNames2 = _interopRequireDefault(_eventNames);\n\nvar _FunctionStateMap = require('./FunctionStateMap');\n\nvar _FunctionStateMap2 = _interopRequireDefault(_FunctionStateMap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable promise/prefer-await-to-then */\n\nvar debug = (0, _debug2.default)('youtube-player');\n\nvar YouTubePlayer = {};\n\n/**\n * Construct an object that defines an event handler for all of the YouTube\n * player events. Proxy captured events through an event emitter.\n *\n * @todo Capture event parameters.\n * @see https://developers.google.com/youtube/iframe_api_reference#Events\n */\nYouTubePlayer.proxyEvents = function (emitter) {\n  var events = {};\n\n  var _loop = function _loop(eventName) {\n    var onEventName = 'on' + eventName.slice(0, 1).toUpperCase() + eventName.slice(1);\n\n    events[onEventName] = function (event) {\n      debug('event \"%s\"', onEventName, event);\n\n      emitter.trigger(eventName, event);\n    };\n  };\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = _eventNames2.default[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var eventName = _step.value;\n\n      _loop(eventName);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return events;\n};\n\n/**\n * Delays player API method execution until player state is ready.\n *\n * @todo Proxy all of the methods using Object.keys.\n * @todo See TRICKY below.\n * @param playerAPIReady Promise that resolves when player is ready.\n * @param strictState A flag designating whether or not to wait for\n * an acceptable state when calling supported functions.\n * @returns {Object}\n */\nYouTubePlayer.promisifyPlayer = function (playerAPIReady) {\n  var strictState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var functions = {};\n\n  var _loop2 = function _loop2(functionName) {\n    if (strictState && _FunctionStateMap2.default[functionName]) {\n      functions[functionName] = function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return playerAPIReady.then(function (player) {\n          var stateInfo = _FunctionStateMap2.default[functionName];\n          var playerState = player.getPlayerState();\n\n          // eslint-disable-next-line no-warning-comments\n          // TODO: Just spread the args into the function once Babel is fixed:\n          // https://github.com/babel/babel/issues/4270\n          //\n          // eslint-disable-next-line prefer-spread\n          var value = player[functionName].apply(player, args);\n\n          // TRICKY: For functions like `seekTo`, a change in state must be\n          // triggered given that the resulting state could match the initial\n          // state.\n          if (stateInfo.stateChangeRequired ||\n\n          // eslint-disable-next-line no-extra-parens\n          Array.isArray(stateInfo.acceptableStates) && stateInfo.acceptableStates.indexOf(playerState) === -1) {\n            return new Promise(function (resolve) {\n              var onPlayerStateChange = function onPlayerStateChange() {\n                var playerStateAfterChange = player.getPlayerState();\n\n                var timeout = void 0;\n\n                if (typeof stateInfo.timeout === 'number') {\n                  timeout = setTimeout(function () {\n                    player.removeEventListener('onStateChange', onPlayerStateChange);\n\n                    resolve();\n                  }, stateInfo.timeout);\n                }\n\n                if (Array.isArray(stateInfo.acceptableStates) && stateInfo.acceptableStates.indexOf(playerStateAfterChange) !== -1) {\n                  player.removeEventListener('onStateChange', onPlayerStateChange);\n\n                  clearTimeout(timeout);\n\n                  resolve();\n                }\n              };\n\n              player.addEventListener('onStateChange', onPlayerStateChange);\n            }).then(function () {\n              return value;\n            });\n          }\n\n          return value;\n        });\n      };\n    } else {\n      functions[functionName] = function () {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        return playerAPIReady.then(function (player) {\n          // eslint-disable-next-line no-warning-comments\n          // TODO: Just spread the args into the function once Babel is fixed:\n          // https://github.com/babel/babel/issues/4270\n          //\n          // eslint-disable-next-line prefer-spread\n          return player[functionName].apply(player, args);\n        });\n      };\n    }\n  };\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = _functionNames2.default[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var functionName = _step2.value;\n\n      _loop2(functionName);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return functions;\n};\n\nexports.default = YouTubePlayer;\nmodule.exports = exports['default'];","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport has from 'lodash/has';\nimport snakeCase from 'lodash/snakeCase';\nimport camelCase from 'lodash/camelCase';\nimport mapKeys from 'lodash/mapKeys';\nimport mapValues from 'lodash/mapValues';\nimport { getter } from 'property-expr';\nimport { object as locale } from './locale';\nimport sortFields from './util/sortFields';\nimport sortByKeyOrder from './util/sortByKeyOrder';\nimport runTests from './util/runTests';\nimport ValidationError from './ValidationError';\nimport BaseSchema from './schema';\n\nlet isObject = obj => Object.prototype.toString.call(obj) === '[object Object]';\n\nfunction unknown(ctx, value) {\n  let known = Object.keys(ctx.fields);\n  return Object.keys(value).filter(key => known.indexOf(key) === -1);\n}\n\nconst defaultSort = sortByKeyOrder([]);\nexport default class ObjectSchema extends BaseSchema {\n  constructor(spec) {\n    super({\n      type: 'object'\n    });\n    this.fields = Object.create(null);\n    this._sortErrors = defaultSort;\n    this._nodes = [];\n    this._excludedEdges = [];\n    this.withMutation(() => {\n      this.transform(function coerce(value) {\n        if (typeof value === 'string') {\n          try {\n            value = JSON.parse(value);\n          } catch (err) {\n            value = null;\n          }\n        }\n\n        if (this.isType(value)) return value;\n        return null;\n      });\n\n      if (spec) {\n        this.shape(spec);\n      }\n    });\n  }\n\n  _typeCheck(value) {\n    return isObject(value) || typeof value === 'function';\n  }\n\n  _cast(_value, options = {}) {\n    var _options$stripUnknown;\n\n    let value = super._cast(_value, options); //should ignore nulls here\n\n\n    if (value === undefined) return this.getDefault();\n    if (!this._typeCheck(value)) return value;\n    let fields = this.fields;\n    let strip = (_options$stripUnknown = options.stripUnknown) != null ? _options$stripUnknown : this.spec.noUnknown;\n\n    let props = this._nodes.concat(Object.keys(value).filter(v => this._nodes.indexOf(v) === -1));\n\n    let intermediateValue = {}; // is filled during the transform below\n\n    let innerOptions = _extends({}, options, {\n      parent: intermediateValue,\n      __validating: options.__validating || false\n    });\n\n    let isChanged = false;\n\n    for (const prop of props) {\n      let field = fields[prop];\n      let exists = has(value, prop);\n\n      if (field) {\n        let fieldValue;\n        let inputValue = value[prop]; // safe to mutate since this is fired in sequence\n\n        innerOptions.path = (options.path ? `${options.path}.` : '') + prop; // innerOptions.value = value[prop];\n\n        field = field.resolve({\n          value: inputValue,\n          context: options.context,\n          parent: intermediateValue\n        });\n        let fieldSpec = 'spec' in field ? field.spec : undefined;\n        let strict = fieldSpec == null ? void 0 : fieldSpec.strict;\n\n        if (fieldSpec == null ? void 0 : fieldSpec.strip) {\n          isChanged = isChanged || prop in value;\n          continue;\n        }\n\n        fieldValue = !options.__validating || !strict ? // TODO: use _cast, this is double resolving\n        field.cast(value[prop], innerOptions) : value[prop];\n\n        if (fieldValue !== undefined) {\n          intermediateValue[prop] = fieldValue;\n        }\n      } else if (exists && !strip) {\n        intermediateValue[prop] = value[prop];\n      }\n\n      if (intermediateValue[prop] !== value[prop]) {\n        isChanged = true;\n      }\n    }\n\n    return isChanged ? intermediateValue : value;\n  }\n\n  _validate(_value, opts = {}, callback) {\n    let errors = [];\n    let {\n      sync,\n      from = [],\n      originalValue = _value,\n      abortEarly = this.spec.abortEarly,\n      recursive = this.spec.recursive\n    } = opts;\n    from = [{\n      schema: this,\n      value: originalValue\n    }, ...from]; // this flag is needed for handling `strict` correctly in the context of\n    // validation vs just casting. e.g strict() on a field is only used when validating\n\n    opts.__validating = true;\n    opts.originalValue = originalValue;\n    opts.from = from;\n\n    super._validate(_value, opts, (err, value) => {\n      if (err) {\n        if (!ValidationError.isError(err) || abortEarly) {\n          return void callback(err, value);\n        }\n\n        errors.push(err);\n      }\n\n      if (!recursive || !isObject(value)) {\n        callback(errors[0] || null, value);\n        return;\n      }\n\n      originalValue = originalValue || value;\n\n      let tests = this._nodes.map(key => (_, cb) => {\n        let path = key.indexOf('.') === -1 ? (opts.path ? `${opts.path}.` : '') + key : `${opts.path || ''}[\"${key}\"]`;\n        let field = this.fields[key];\n\n        if (field && 'validate' in field) {\n          field.validate(value[key], _extends({}, opts, {\n            // @ts-ignore\n            path,\n            from,\n            // inner fields are always strict:\n            // 1. this isn't strict so the casting will also have cast inner values\n            // 2. this is strict in which case the nested values weren't cast either\n            strict: true,\n            parent: value,\n            originalValue: originalValue[key]\n          }), cb);\n          return;\n        }\n\n        cb(null);\n      });\n\n      runTests({\n        sync,\n        tests,\n        value,\n        errors,\n        endEarly: abortEarly,\n        sort: this._sortErrors,\n        path: opts.path\n      }, callback);\n    });\n  }\n\n  clone(spec) {\n    const next = super.clone(spec);\n    next.fields = _extends({}, this.fields);\n    next._nodes = this._nodes;\n    next._excludedEdges = this._excludedEdges;\n    next._sortErrors = this._sortErrors;\n    return next;\n  }\n\n  concat(schema) {\n    let next = super.concat(schema);\n    let nextFields = next.fields;\n\n    for (let [field, schemaOrRef] of Object.entries(this.fields)) {\n      const target = nextFields[field];\n\n      if (target === undefined) {\n        nextFields[field] = schemaOrRef;\n      } else if (target instanceof BaseSchema && schemaOrRef instanceof BaseSchema) {\n        nextFields[field] = schemaOrRef.concat(target);\n      }\n    }\n\n    return next.withMutation(() => next.shape(nextFields));\n  }\n\n  getDefaultFromShape() {\n    let dft = {};\n\n    this._nodes.forEach(key => {\n      const field = this.fields[key];\n      dft[key] = 'default' in field ? field.getDefault() : undefined;\n    });\n\n    return dft;\n  }\n\n  _getDefault() {\n    if ('default' in this.spec) {\n      return super._getDefault();\n    } // if there is no default set invent one\n\n\n    if (!this._nodes.length) {\n      return undefined;\n    }\n\n    return this.getDefaultFromShape();\n  }\n\n  shape(additions, excludes = []) {\n    let next = this.clone();\n    let fields = Object.assign(next.fields, additions);\n    next.fields = fields;\n    next._sortErrors = sortByKeyOrder(Object.keys(fields));\n\n    if (excludes.length) {\n      if (!Array.isArray(excludes[0])) excludes = [excludes];\n      let keys = excludes.map(([first, second]) => `${first}-${second}`);\n      next._excludedEdges = next._excludedEdges.concat(keys);\n    }\n\n    next._nodes = sortFields(fields, next._excludedEdges);\n    return next;\n  }\n\n  pick(keys) {\n    const picked = {};\n\n    for (const key of keys) {\n      if (this.fields[key]) picked[key] = this.fields[key];\n    }\n\n    return this.clone().withMutation(next => {\n      next.fields = {};\n      return next.shape(picked);\n    });\n  }\n\n  omit(keys) {\n    const next = this.clone();\n    const fields = next.fields;\n    next.fields = {};\n\n    for (const key of keys) {\n      delete fields[key];\n    }\n\n    return next.withMutation(() => next.shape(fields));\n  }\n\n  from(from, to, alias) {\n    let fromGetter = getter(from, true);\n    return this.transform(obj => {\n      if (obj == null) return obj;\n      let newObj = obj;\n\n      if (has(obj, from)) {\n        newObj = _extends({}, obj);\n        if (!alias) delete newObj[from];\n        newObj[to] = fromGetter(obj);\n      }\n\n      return newObj;\n    });\n  }\n\n  noUnknown(noAllow = true, message = locale.noUnknown) {\n    if (typeof noAllow === 'string') {\n      message = noAllow;\n      noAllow = true;\n    }\n\n    let next = this.test({\n      name: 'noUnknown',\n      exclusive: true,\n      message: message,\n\n      test(value) {\n        if (value == null) return true;\n        const unknownKeys = unknown(this.schema, value);\n        return !noAllow || unknownKeys.length === 0 || this.createError({\n          params: {\n            unknown: unknownKeys.join(', ')\n          }\n        });\n      }\n\n    });\n    next.spec.noUnknown = noAllow;\n    return next;\n  }\n\n  unknown(allow = true, message = locale.noUnknown) {\n    return this.noUnknown(!allow, message);\n  }\n\n  transformKeys(fn) {\n    return this.transform(obj => obj && mapKeys(obj, (_, key) => fn(key)));\n  }\n\n  camelCase() {\n    return this.transformKeys(camelCase);\n  }\n\n  snakeCase() {\n    return this.transformKeys(snakeCase);\n  }\n\n  constantCase() {\n    return this.transformKeys(key => snakeCase(key).toUpperCase());\n  }\n\n  describe() {\n    let base = super.describe();\n    base.fields = mapValues(this.fields, value => value.describe());\n    return base;\n  }\n\n}\nexport function create(spec) {\n  return new ObjectSchema(spec);\n}\ncreate.prototype = ObjectSchema.prototype;","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PlayerStates = require('./constants/PlayerStates');\n\nvar _PlayerStates2 = _interopRequireDefault(_PlayerStates);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  pauseVideo: {\n    acceptableStates: [_PlayerStates2.default.ENDED, _PlayerStates2.default.PAUSED],\n    stateChangeRequired: false\n  },\n  playVideo: {\n    acceptableStates: [_PlayerStates2.default.ENDED, _PlayerStates2.default.PLAYING],\n    stateChangeRequired: false\n  },\n  seekTo: {\n    acceptableStates: [_PlayerStates2.default.ENDED, _PlayerStates2.default.PLAYING, _PlayerStates2.default.PAUSED],\n    stateChangeRequired: true,\n\n    // TRICKY: `seekTo` may not cause a state change if no buffering is\n    // required.\n    timeout: 3000\n  }\n};\nmodule.exports = exports['default'];","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","import { __extends } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { IonicNativePlugin, cordova } from '@ionic-native/core';\nvar AndroidPermissions = /** @class */ (function (_super) {\n    __extends(AndroidPermissions, _super);\n    function AndroidPermissions() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.PERMISSION = {\n            ACCESS_CHECKIN_PROPERTIES: 'android.permission.ACCESS_CHECKIN_PROPERTIES',\n            ACCESS_COARSE_LOCATION: 'android.permission.ACCESS_COARSE_LOCATION',\n            ACCESS_FINE_LOCATION: 'android.permission.ACCESS_FINE_LOCATION',\n            ACCESS_LOCATION_EXTRA_COMMANDS: 'android.permission.ACCESS_LOCATION_EXTRA_COMMANDS',\n            ACCESS_MOCK_LOCATION: 'android.permission.ACCESS_MOCK_LOCATION',\n            ACCESS_NETWORK_STATE: 'android.permission.ACCESS_NETWORK_STATE',\n            ACCESS_SURFACE_FLINGER: 'android.permission.ACCESS_SURFACE_FLINGER',\n            ACCESS_WIFI_STATE: 'android.permission.ACCESS_WIFI_STATE',\n            ACCOUNT_MANAGER: 'android.permission.ACCOUNT_MANAGER',\n            ADD_VOICEMAIL: 'com.android.voicemail.permission.ADD_VOICEMAIL',\n            AUTHENTICATE_ACCOUNTS: 'android.permission.AUTHENTICATE_ACCOUNTS',\n            BATTERY_STATS: 'android.permission.BATTERY_STATS',\n            BIND_ACCESSIBILITY_SERVICE: 'android.permission.BIND_ACCESSIBILITY_SERVICE',\n            BIND_APPWIDGET: 'android.permission.BIND_APPWIDGET',\n            BIND_CARRIER_MESSAGING_SERVICE: 'android.permission.BIND_CARRIER_MESSAGING_SERVICE',\n            BIND_DEVICE_ADMIN: 'android.permission.BIND_DEVICE_ADMIN',\n            BIND_DREAM_SERVICE: 'android.permission.BIND_DREAM_SERVICE',\n            BIND_INPUT_METHOD: 'android.permission.BIND_INPUT_METHOD',\n            BIND_NFC_SERVICE: 'android.permission.BIND_NFC_SERVICE',\n            BIND_NOTIFICATION_LISTENER_SERVICE: 'android.permission.BIND_NOTIFICATION_LISTENER_SERVICE',\n            BIND_PRINT_SERVICE: 'android.permission.BIND_PRINT_SERVICE',\n            BIND_REMOTEVIEWS: 'android.permission.BIND_REMOTEVIEWS',\n            BIND_TEXT_SERVICE: 'android.permission.BIND_TEXT_SERVICE',\n            BIND_TV_INPUT: 'android.permission.BIND_TV_INPUT',\n            BIND_VOICE_INTERACTION: 'android.permission.BIND_VOICE_INTERACTION',\n            BIND_VPN_SERVICE: 'android.permission.BIND_VPN_SERVICE',\n            BIND_WALLPAPER: 'android.permission.BIND_WALLPAPER',\n            BLUETOOTH: 'android.permission.BLUETOOTH',\n            BLUETOOTH_ADMIN: 'android.permission.BLUETOOTH_ADMIN',\n            BLUETOOTH_PRIVILEGED: 'android.permission.BLUETOOTH_PRIVILEGED',\n            BODY_SENSORS: 'android.permission.BODY_SENSORS',\n            BRICK: 'android.permission.BRICK',\n            BROADCAST_PACKAGE_REMOVED: 'android.permission.BROADCAST_PACKAGE_REMOVED',\n            BROADCAST_SMS: 'android.permission.BROADCAST_SMS',\n            BROADCAST_STICKY: 'android.permission.BROADCAST_STICKY',\n            BROADCAST_WAP_PUSH: 'android.permission.BROADCAST_WAP_PUSH',\n            CALL_PHONE: 'android.permission.CALL_PHONE',\n            CALL_PRIVILEGED: 'android.permission.CALL_PRIVILEGED',\n            CAMERA: 'android.permission.CAMERA',\n            CAPTURE_AUDIO_OUTPUT: 'android.permission.CAPTURE_AUDIO_OUTPUT',\n            CAPTURE_SECURE_VIDEO_OUTPUT: 'android.permission.CAPTURE_SECURE_VIDEO_OUTPUT',\n            CAPTURE_VIDEO_OUTPUT: 'android.permission.CAPTURE_VIDEO_OUTPUT',\n            CHANGE_COMPONENT_ENABLED_STATE: 'android.permission.CHANGE_COMPONENT_ENABLED_STATE',\n            CHANGE_CONFIGURATION: 'android.permission.CHANGE_CONFIGURATION',\n            CHANGE_NETWORK_STATE: 'android.permission.CHANGE_NETWORK_STATE',\n            CHANGE_WIFI_MULTICAST_STATE: 'android.permission.CHANGE_WIFI_MULTICAST_STATE',\n            CHANGE_WIFI_STATE: 'android.permission.CHANGE_WIFI_STATE',\n            CLEAR_APP_CACHE: 'android.permission.CLEAR_APP_CACHE',\n            CLEAR_APP_USER_DATA: 'android.permission.CLEAR_APP_USER_DATA',\n            CONTROL_LOCATION_UPDATES: 'android.permission.CONTROL_LOCATION_UPDATES',\n            DELETE_CACHE_FILES: 'android.permission.DELETE_CACHE_FILES',\n            DELETE_PACKAGES: 'android.permission.DELETE_PACKAGES',\n            DEVICE_POWER: 'android.permission.DEVICE_POWER',\n            DIAGNOSTIC: 'android.permission.DIAGNOSTIC',\n            DISABLE_KEYGUARD: 'android.permission.DISABLE_KEYGUARD',\n            DUMP: 'android.permission.DUMP',\n            EXPAND_STATUS_BAR: 'android.permission.EXPAND_STATUS_BAR',\n            FACTORY_TEST: 'android.permission.FACTORY_TEST',\n            FLASHLIGHT: 'android.permission.FLASHLIGHT',\n            FORCE_BACK: 'android.permission.FORCE_BACK',\n            GET_ACCOUNTS: 'android.permission.GET_ACCOUNTS',\n            GET_PACKAGE_SIZE: 'android.permission.GET_PACKAGE_SIZE',\n            GET_TASKS: 'android.permission.GET_TASKS',\n            GET_TOP_ACTIVITY_INFO: 'android.permission.GET_TOP_ACTIVITY_INFO',\n            GLOBAL_SEARCH: 'android.permission.GLOBAL_SEARCH',\n            HARDWARE_TEST: 'android.permission.HARDWARE_TEST',\n            INJECT_EVENTS: 'android.permission.INJECT_EVENTS',\n            INSTALL_LOCATION_PROVIDER: 'android.permission.INSTALL_LOCATION_PROVIDER',\n            INSTALL_PACKAGES: 'android.permission.INSTALL_PACKAGES',\n            INSTALL_SHORTCUT: 'com.android.launcher.permission.INSTALL_SHORTCUT',\n            INTERNAL_SYSTEM_WINDOW: 'android.permission.INTERNAL_SYSTEM_WINDOW',\n            INTERNET: 'android.permission.INTERNET',\n            KILL_BACKGROUND_PROCESSES: 'android.permission.KILL_BACKGROUND_PROCESSES',\n            LOCATION_HARDWARE: 'android.permission.LOCATION_HARDWARE',\n            MANAGE_ACCOUNTS: 'android.permission.MANAGE_ACCOUNTS',\n            MANAGE_APP_TOKENS: 'android.permission.MANAGE_APP_TOKENS',\n            MANAGE_DOCUMENTS: 'android.permission.MANAGE_DOCUMENTS',\n            MASTER_CLEAR: 'android.permission.MASTER_CLEAR',\n            MEDIA_CONTENT_CONTROL: 'android.permission.MEDIA_CONTENT_CONTROL',\n            MODIFY_AUDIO_SETTINGS: 'android.permission.MODIFY_AUDIO_SETTINGS',\n            MODIFY_PHONE_STATE: 'android.permission.MODIFY_PHONE_STATE',\n            MOUNT_FORMAT_FILESYSTEMS: 'android.permission.MOUNT_FORMAT_FILESYSTEMS',\n            MOUNT_UNMOUNT_FILESYSTEMS: 'android.permission.MOUNT_UNMOUNT_FILESYSTEMS',\n            NFC: 'android.permission.NFC',\n            PERSISTENT_ACTIVITY: 'android.permission.PERSISTENT_ACTIVITY',\n            PROCESS_OUTGOING_CALLS: 'android.permission.PROCESS_OUTGOING_CALLS',\n            READ_CALENDAR: 'android.permission.READ_CALENDAR',\n            READ_CALL_LOG: 'android.permission.READ_CALL_LOG',\n            READ_CONTACTS: 'android.permission.READ_CONTACTS',\n            READ_EXTERNAL_STORAGE: 'android.permission.READ_EXTERNAL_STORAGE',\n            READ_FRAME_BUFFER: 'android.permission.READ_FRAME_BUFFER',\n            READ_HISTORY_BOOKMARKS: 'com.android.browser.permission.READ_HISTORY_BOOKMARKS',\n            READ_INPUT_STATE: 'android.permission.READ_INPUT_STATE',\n            READ_LOGS: 'android.permission.READ_LOGS',\n            READ_PHONE_STATE: 'android.permission.READ_PHONE_STATE',\n            READ_PROFILE: 'android.permission.READ_PROFILE',\n            READ_SMS: 'android.permission.READ_SMS',\n            READ_SOCIAL_STREAM: 'android.permission.READ_SOCIAL_STREAM',\n            READ_SYNC_SETTINGS: 'android.permission.READ_SYNC_SETTINGS',\n            READ_SYNC_STATS: 'android.permission.READ_SYNC_STATS',\n            READ_USER_DICTIONARY: 'android.permission.READ_USER_DICTIONARY',\n            READ_VOICEMAIL: 'com.android.voicemail.permission.READ_VOICEMAIL',\n            REBOOT: 'android.permission.REBOOT',\n            RECEIVE_BOOT_COMPLETED: 'android.permission.RECEIVE_BOOT_COMPLETED',\n            RECEIVE_MMS: 'android.permission.RECEIVE_MMS',\n            RECEIVE_SMS: 'android.permission.RECEIVE_SMS',\n            RECEIVE_WAP_PUSH: 'android.permission.RECEIVE_WAP_PUSH',\n            RECORD_AUDIO: 'android.permission.RECORD_AUDIO',\n            REORDER_TASKS: 'android.permission.REORDER_TASKS',\n            RESTART_PACKAGES: 'android.permission.RESTART_PACKAGES',\n            SEND_RESPOND_VIA_MESSAGE: 'android.permission.SEND_RESPOND_VIA_MESSAGE',\n            SEND_SMS: 'android.permission.SEND_SMS',\n            SET_ACTIVITY_WATCHER: 'android.permission.SET_ACTIVITY_WATCHER',\n            SET_ALARM: 'com.android.alarm.permission.SET_ALARM',\n            SET_ALWAYS_FINISH: 'android.permission.SET_ALWAYS_FINISH',\n            SET_ANIMATION_SCALE: 'android.permission.SET_ANIMATION_SCALE',\n            SET_DEBUG_APP: 'android.permission.SET_DEBUG_APP',\n            SET_ORIENTATION: 'android.permission.SET_ORIENTATION',\n            SET_POINTER_SPEED: 'android.permission.SET_POINTER_SPEED',\n            SET_PREFERRED_APPLICATIONS: 'android.permission.SET_PREFERRED_APPLICATIONS',\n            SET_PROCESS_LIMIT: 'android.permission.SET_PROCESS_LIMIT',\n            SET_TIME: 'android.permission.SET_TIME',\n            SET_TIME_ZONE: 'android.permission.SET_TIME_ZONE',\n            SET_WALLPAPER: 'android.permission.SET_WALLPAPER',\n            SET_WALLPAPER_HINTS: 'android.permission.SET_WALLPAPER_HINTS',\n            SIGNAL_PERSISTENT_PROCESSES: 'android.permission.SIGNAL_PERSISTENT_PROCESSES',\n            STATUS_BAR: 'android.permission.STATUS_BAR',\n            SUBSCRIBED_FEEDS_READ: 'android.permission.SUBSCRIBED_FEEDS_READ',\n            SUBSCRIBED_FEEDS_WRITE: 'android.permission.SUBSCRIBED_FEEDS_WRITE',\n            SYSTEM_ALERT_WINDOW: 'android.permission.SYSTEM_ALERT_WINDOW',\n            TRANSMIT_IR: 'android.permission.TRANSMIT_IR',\n            UNINSTALL_SHORTCUT: 'com.android.launcher.permission.UNINSTALL_SHORTCUT',\n            UPDATE_DEVICE_STATS: 'android.permission.UPDATE_DEVICE_STATS',\n            USE_CREDENTIALS: 'android.permission.USE_CREDENTIALS',\n            USE_SIP: 'android.permission.USE_SIP',\n            VIBRATE: 'android.permission.VIBRATE',\n            WAKE_LOCK: 'android.permission.WAKE_LOCK',\n            WRITE_APN_SETTINGS: 'android.permission.WRITE_APN_SETTINGS',\n            WRITE_CALENDAR: 'android.permission.WRITE_CALENDAR',\n            WRITE_CALL_LOG: 'android.permission.WRITE_CALL_LOG',\n            WRITE_CONTACTS: 'android.permission.WRITE_CONTACTS',\n            WRITE_EXTERNAL_STORAGE: 'android.permission.WRITE_EXTERNAL_STORAGE',\n            WRITE_GSERVICES: 'android.permission.WRITE_GSERVICES',\n            WRITE_HISTORY_BOOKMARKS: 'com.android.browser.permission.WRITE_HISTORY_BOOKMARKS',\n            WRITE_PROFILE: 'android.permission.WRITE_PROFILE',\n            WRITE_SECURE_SETTINGS: 'android.permission.WRITE_SECURE_SETTINGS',\n            WRITE_SETTINGS: 'android.permission.WRITE_SETTINGS',\n            WRITE_SMS: 'android.permission.WRITE_SMS',\n            WRITE_SOCIAL_STREAM: 'android.permission.WRITE_SOCIAL_STREAM',\n            WRITE_SYNC_SETTINGS: 'android.permission.WRITE_SYNC_SETTINGS',\n            WRITE_USER_DICTIONARY: 'android.permission.WRITE_USER_DICTIONARY',\n            WRITE_VOICEMAIL: 'com.android.voicemail.permission.WRITE_VOICEMAIL',\n        };\n        return _this;\n    }\n    AndroidPermissions.prototype.checkPermission = function (permission) { return cordova(this, \"checkPermission\", {}, arguments); };\n    AndroidPermissions.prototype.requestPermission = function (permission) { return cordova(this, \"requestPermission\", {}, arguments); };\n    AndroidPermissions.prototype.requestPermissions = function (permissions) { return cordova(this, \"requestPermissions\", {}, arguments); };\n    AndroidPermissions.prototype.hasPermission = function (permission) { return cordova(this, \"hasPermission\", {}, arguments); };\n    AndroidPermissions.pluginName = \"AndroidPermissions\";\n    AndroidPermissions.plugin = \"cordova-plugin-android-permissions\";\n    AndroidPermissions.pluginRef = \"cordova.plugins.permissions\";\n    AndroidPermissions.repo = \"https://github.com/NeoLSN/cordova-plugin-android-permissions\";\n    AndroidPermissions.platforms = [\"Android\"];\n    AndroidPermissions.decorators = [\n        { type: Injectable }\n    ];\n    return AndroidPermissions;\n}(IonicNativePlugin));\nexport { AndroidPermissions };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2FuZHJvaWQtcGVybWlzc2lvbnMvbmd4L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sOEJBQXNDLE1BQU0sb0JBQW9CLENBQUM7O0lBc0NoQyxzQ0FBaUI7OztRQUN2RCxnQkFBVSxHQUFRO1lBQ2hCLHlCQUF5QixFQUFFLDhDQUE4QztZQUN6RSxzQkFBc0IsRUFBRSwyQ0FBMkM7WUFDbkUsb0JBQW9CLEVBQUUseUNBQXlDO1lBQy9ELDhCQUE4QixFQUFFLG1EQUFtRDtZQUNuRixvQkFBb0IsRUFBRSx5Q0FBeUM7WUFDL0Qsb0JBQW9CLEVBQUUseUNBQXlDO1lBQy9ELHNCQUFzQixFQUFFLDJDQUEyQztZQUNuRSxpQkFBaUIsRUFBRSxzQ0FBc0M7WUFDekQsZUFBZSxFQUFFLG9DQUFvQztZQUNyRCxhQUFhLEVBQUUsZ0RBQWdEO1lBQy9ELHFCQUFxQixFQUFFLDBDQUEwQztZQUNqRSxhQUFhLEVBQUUsa0NBQWtDO1lBQ2pELDBCQUEwQixFQUFFLCtDQUErQztZQUMzRSxjQUFjLEVBQUUsbUNBQW1DO1lBQ25ELDhCQUE4QixFQUFFLG1EQUFtRDtZQUNuRixpQkFBaUIsRUFBRSxzQ0FBc0M7WUFDekQsa0JBQWtCLEVBQUUsdUNBQXVDO1lBQzNELGlCQUFpQixFQUFFLHNDQUFzQztZQUN6RCxnQkFBZ0IsRUFBRSxxQ0FBcUM7WUFDdkQsa0NBQWtDLEVBQUUsdURBQXVEO1lBQzNGLGtCQUFrQixFQUFFLHVDQUF1QztZQUMzRCxnQkFBZ0IsRUFBRSxxQ0FBcUM7WUFDdkQsaUJBQWlCLEVBQUUsc0NBQXNDO1lBQ3pELGFBQWEsRUFBRSxrQ0FBa0M7WUFDakQsc0JBQXNCLEVBQUUsMkNBQTJDO1lBQ25FLGdCQUFnQixFQUFF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QXVDO1lBQzNELGNBQWMsRUFBRSxtQ0FBbUM7WUFDbkQsY0FBYyxFQUFFLG1DQUFtQztZQUNuRCxjQUFjLEVBQUUsbUNBQW1DO1lBQ25ELHNCQUFzQixFQUFFLDJDQUEyQztZQUNuRSxlQUFlLEVBQUUsb0NBQW9DO1lBQ3JELHVCQUF1QixFQUFFLHdEQUF3RDtZQUNqRixhQUFhLEVBQUUsa0NBQWtDO1lBQ2pELHFCQUFxQixFQUFFLDBDQUEwQztZQUNqRSxjQUFjLEVBQUUsbUNBQW1DO1lBQ25ELFNBQVMsRUFBRSw4QkFBOEI7WUFDekMsbUJBQW1CLEVBQUUsd0NBQXdDO1lBQzdELG1CQUFtQixFQUFFLHdDQUF3QztZQUM3RCxxQkFBcUIsRUFBRSwwQ0FBMEM7WUFDakUsZUFBZSxFQUFFLGtEQUFrRDtTQUNwRSxDQUFDOzs7SUFRRiw0Q0FBZSxhQUFDLFVBQWtCO0lBVWxDLDhDQUFpQixhQUFDLFVBQWtCO0lBVXBDLCtDQUFrQixhQUFDLFdBQXFCO0lBVXhDLDBDQUFhLGFBQUMsVUFBa0I7Ozs7Ozs7Z0JBak1qQyxVQUFVOzs2QkF0Q1g7RUF1Q3dDLGlCQUFpQjtTQUE1QyxrQkFBa0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb3Jkb3ZhLCBJb25pY05hdGl2ZVBsdWdpbiwgUGx1Z2luIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9jb3JlJztcblxuLyoqXG4gKiBAbmFtZSBBbmRyb2lkIFBlcm1pc3Npb25zXG4gKiBAcHJlbWllciBhbmRyb2lkLXBlcm1pc3Npb25zXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgcGx1Z2luIGlzIGRlc2lnbmVkIHRvIHN1cHBvcnQgQW5kcm9pZCBuZXcgcGVybWlzc2lvbnMgY2hlY2tpbmcgbWVjaGFuaXNtLlxuICpcbiAqIFlvdSBjYW4gZmluZCBhbGwgcGVybWlzc2lvbnMgaGVyZTogaHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vcmVmZXJlbmNlL2FuZHJvaWQvTWFuaWZlc3QucGVybWlzc2lvbi5odG1sXG4gKlxuICogQHVzYWdlXG4gKiBgYGBcbiAqIGltcG9ydCB7IEFuZHJvaWRQZXJtaXNzaW9ucyB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvYW5kcm9pZC1wZXJtaXNzaW9ucy9uZ3gnO1xuICpcbiAqXG4gKiBjb25zdHJ1Y3Rvcihwcml2YXRlIGFuZHJvaWRQZXJtaXNzaW9uczogQW5kcm9pZFBlcm1pc3Npb25zKSB7IH1cbiAqXG4gKiAuLi5cbiAqXG4gKiB0aGlzLmFuZHJvaWRQZXJtaXNzaW9ucy5jaGVja1Blcm1pc3Npb24odGhpcy5hbmRyb2lkUGVybWlzc2lvbnMuUEVSTUlTU0lPTi5DQU1FUkEpLnRoZW4oXG4gKiAgIHJlc3VsdCA9PiBjb25zb2xlLmxvZygnSGFzIHBlcm1pc3Npb24/JyxyZXN1bHQuaGFzUGVybWlzc2lvbiksXG4gKiAgIGVyciA9PiB0aGlzLmFuZHJvaWRQZXJtaXNzaW9ucy5yZXF1ZXN0UGVybWlzc2lvbih0aGlzLmFuZHJvaWRQZXJtaXNzaW9ucy5QRVJNSVNTSU9OLkNBTUVSQSlcbiAqICk7XG4gKlxuICogdGhpcy5hbmRyb2lkUGVybWlzc2lvbnMucmVxdWVzdFBlcm1pc3Npb25zKFt0aGlzLmFuZHJvaWRQZXJtaXNzaW9ucy5QRVJNSVNTSU9OLkNBTUVSQSwgdGhpcy5hbmRyb2lkUGVybWlzc2lvbnMuUEVSTUlTU0lPTi5HRVRfQUNDT1VOVFNdKTtcbiAqXG4gKiBgYGBcbiAqXG4gKiBBbmRyb2lkIDI2IGFuZCBhYm92ZTogZHVlIHRvIEFuZHJvaWQgMjYncyBjaGFuZ2VzIHRvIHBlcm1pc3Npb25zIGhhbmRsaW5nIChwZXJtaXNzaW9ucyBhcmUgcmVxdWVzdGVkIGF0IHRpbWUgb2YgdXNlIHJhdGhlciB0aGFuIGF0IHJ1bnRpbWUsKSBpZiB5b3VyIGFwcCBkb2VzIG5vdCBpbmNsdWRlIGFueSBmdW5jdGlvbnMgKGVnLiBvdGhlciBJb25pYyBOYXRpdmUgcGx1Z2lucykgdGhhdCB1dGlsaXplIGEgcGFydGljdWxhciBwZXJtaXNzaW9uLCB0aGVuIGByZXF1ZXN0UGVybWlzc2lvbigpYCBhbmQgYHJlcXVlc3RQZXJtaXNzaW9ucygpYCB3aWxsIHJlc29sdmUgaW1tZWRpYXRlbHkgd2l0aCBubyBwcm9tcHQgc2hvd24gdG8gdGhlIHVzZXIuICBUaHVzLCB5b3UgbXVzdCBpbmNsdWRlIGEgZnVuY3Rpb24gdXRpbGl6aW5nIHRoZSBmZWF0dXJlIHlvdSB3b3VsZCBsaWtlIHRvIHVzZSBiZWZvcmUgcmVxdWVzdGluZyBwZXJtaXNzaW9uIGZvciBpdC5cbiAqL1xuQFBsdWdpbih7XG4gIHBsdWdpbk5hbWU6ICdBbmRyb2lkUGVybWlzc2lvbnMnLFxuICBwbHVnaW46ICdjb3Jkb3ZhLXBsdWdpbi1hbmRyb2lkLXBlcm1pc3Npb25zJyxcbiAgcGx1Z2luUmVmOiAnY29yZG92YS5wbHVnaW5zLnBlcm1pc3Npb25zJyxcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9OZW9MU04vY29yZG92YS1wbHVnaW4tYW5kcm9pZC1wZXJtaXNzaW9ucycsXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJ10sXG59KVxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEFuZHJvaWRQZXJtaXNzaW9ucyBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcbiAgUEVSTUlTU0lPTjogYW55ID0ge1xuICAgIEFDQ0VTU19DSEVDS0lOX1BST1BFUlRJRVM6ICdhbmRyb2lkLnBlcm1pc3Npb24uQUNDRVNTX0NIRUNLSU5fUFJPUEVSVElFUycsXG4gICAgQUNDRVNTX0NPQVJTRV9MT0NBVElPTjogJ2FuZHJvaWQucGVybWlzc2lvbi5BQ0NFU1NfQ09BUlNFX0xPQ0FUSU9OJyxcbiAgICBBQ0NFU1NfRklORV9MT0NBVElPTjogJ2FuZHJvaWQucGVybWlzc2lvbi5BQ0NFU1NfRklORV9MT0NBVElPTicsXG4gICAgQUNDRVNTX0xPQ0FUSU9OX0VYVFJBX0NPTU1BTkRTOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkFDQ0VTU19MT0NBVElPTl9FWFRSQV9DT01NQU5EUycsXG4gICAgQUNDRVNTX01PQ0tfTE9DQVRJT046ICdhbmRyb2lkLnBlcm1pc3Npb24uQUNDRVNTX01PQ0tfTE9DQVRJT04nLFxuICAgIEFDQ0VTU19ORVRXT1JLX1NUQVRFOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkFDQ0VTU19ORVRXT1JLX1NUQVRFJyxcbiAgICBBQ0NFU1NfU1VSRkFDRV9GTElOR0VSOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkFDQ0VTU19TVVJGQUNFX0ZMSU5HRVInLFxuICAgIEFDQ0VTU19XSUZJX1NUQVRFOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkFDQ0VTU19XSUZJX1NUQVRFJyxcbiAgICBBQ0NPVU5UX01BTkFHRVI6ICdhbmRyb2lkLnBlcm1pc3Npb24uQUNDT1VOVF9NQU5BR0VSJyxcbiAgICBBRERfVk9JQ0VNQUlMOiAnY29tLmFuZHJvaWQudm9pY2VtYWlsLnBlcm1pc3Npb24uQUREX1ZPSUNFTUFJTCcsXG4gICAgQVVUSEVOVElDQVRFX0FDQ09VTlRTOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkFVVEhFTlRJQ0FURV9BQ0NPVU5UUycsXG4gICAgQkFUVEVSWV9TVEFUUzogJ2FuZHJvaWQucGVybWlzc2lvbi5CQVRURVJZX1NUQVRTJyxcbiAgICBCSU5EX0FDQ0VTU0lCSUxJVFlfU0VSVklDRTogJ2FuZHJvaWQucGVybWlzc2lvbi5CSU5EX0FDQ0VTU0lCSUxJVFlfU0VSVklDRScsXG4gICAgQklORF9BUFBXSURHRVQ6ICdhbmRyb2lkLnBlcm1pc3Npb24uQklORF9BUFBXSURHRVQnLFxuICAgIEJJTkRfQ0FSUklFUl9NRVNTQUdJTkdfU0VSVklDRTogJ2FuZHJvaWQucGVybWlzc2lvbi5CSU5EX0NBUlJJRVJfTUVTU0FHSU5HX1NFUlZJQ0UnLFxuICAgIEJJTkRfREVWSUNFX0FETUlOOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkJJTkRfREVWSUNFX0FETUlOJyxcbiAgICBCSU5EX0RSRUFNX1NFUlZJQ0U6ICdhbmRyb2lkLnBlcm1pc3Npb24uQklORF9EUkVBTV9TRVJWSUNFJyxcbiAgICBCSU5EX0lOUFVUX01FVEhPRDogJ2FuZHJvaWQucGVybWlzc2lvbi5CSU5EX0lOUFVUX01FVEhPRCcsXG4gICAgQklORF9ORkNfU0VSVklDRTogJ2FuZHJvaWQucGVybWlzc2lvbi5CSU5EX05GQ19TRVJWSUNFJyxcbiAgICBCSU5EX05PVElGSUNBVElPTl9MSVNURU5FUl9TRVJWSUNFOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkJJTkRfTk9USUZJQ0FUSU9OX0xJU1RFTkVSX1NFUlZJQ0UnLFxuICAgIEJJTkRfUFJJTlRfU0VSVklDRTogJ2FuZHJvaWQucGVybWlzc2lvbi5CSU5EX1BSSU5UX1NFUlZJQ0UnLFxuICAgIEJJTkRfUkVNT1RFVklFV1M6ICdhbmRyb2lkLnBlcm1pc3Npb24uQklORF9SRU1PVEVWSUVXUycsXG4gICAgQklORF9URVhUX1NFUlZJQ0U6ICdhbmRyb2lkLnBlcm1pc3Npb24uQklORF9URVhUX1NFUlZJQ0UnLFxuICAgIEJJTkRfVFZfSU5QVVQ6ICdhbmRyb2lkLnBlcm1pc3Npb24uQklORF9UVl9JTlBVVCcsXG4gICAgQklORF9WT0lDRV9JTlRFUkFDVElPTjogJ2FuZHJvaWQucGVybWlzc2lvbi5CSU5EX1ZPSUNFX0lOVEVSQUNUSU9OJyxcbiAgICBCSU5EX1ZQTl9TRVJWSUNFOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkJJTkRfVlBOX1NFUlZJQ0UnLFxuICAgIEJJTkRfV0FMTFBBUEVSOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkJJTkRfV0FMTFBBUEVSJyxcbiAgICBCTFVFVE9PVEg6ICdhbmRyb2lkLnBlcm1pc3Npb24uQkxVRVRPT1RIJyxcbiAgICBCTFVFVE9PVEhfQURNSU46ICdhbmRyb2lkLnBlcm1pc3Npb24uQkxVRVRPT1RIX0FETUlOJyxcbiAgICBCTFVFVE9PVEhfUFJJVklMRUdFRDogJ2FuZHJvaWQucGVybWlzc2lvbi5CTFVFVE9PVEhfUFJJVklMRUdFRCcsXG4gICAgQk9EWV9TRU5TT1JTOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkJPRFlfU0VOU09SUycsXG4gICAgQlJJQ0s6ICdhbmRyb2lkLnBlcm1pc3Npb24uQlJJQ0snLFxuICAgIEJST0FEQ0FTVF9QQUNLQUdFX1JFTU9WRUQ6ICdhbmRyb2lkLnBlcm1pc3Npb24uQlJPQURDQVNUX1BBQ0tBR0VfUkVNT1ZFRCcsXG4gICAgQlJPQURDQVNUX1NNUzogJ2FuZHJvaWQucGVybWlzc2lvbi5CUk9BRENBU1RfU01TJyxcbiAgICBCUk9BRENBU1RfU1RJQ0tZOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkJST0FEQ0FTVF9TVElDS1knLFxuICAgIEJST0FEQ0FTVF9XQVBfUFVTSDogJ2FuZHJvaWQucGVybWlzc2lvbi5CUk9BRENBU1RfV0FQX1BVU0gnLFxuICAgIENBTExfUEhPTkU6ICdhbmRyb2lkLnBlcm1pc3Npb24uQ0FMTF9QSE9ORScsXG4gICAgQ0FMTF9QUklWSUxFR0VEOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkNBTExfUFJJVklMRUdFRCcsXG4gICAgQ0FNRVJBOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkNBTUVSQScsXG4gICAgQ0FQVFVSRV9BVURJT19PVVRQVVQ6ICdhbmRyb2lkLnBlcm1pc3Npb24uQ0FQVFVSRV9BVURJT19PVVRQVVQnLFxuICAgIENBUFRVUkVfU0VDVVJFX1ZJREVPX09VVFBVVDogJ2FuZHJvaWQucGVybWlzc2lvbi5DQVBUVVJFX1NFQ1VSRV9WSURFT19PVVRQVVQnLFxuICAgIENBUFRVUkVfVklERU9fT1VUUFVUOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkNBUFRVUkVfVklERU9fT1VUUFVUJyxcbiAgICBDSEFOR0VfQ09NUE9ORU5UX0VOQUJMRURfU1RBVEU6ICdhbmRyb2lkLnBlcm1pc3Npb24uQ0hBTkdFX0NPTVBPTkVOVF9FTkFCTEVEX1NUQVRFJyxcbiAgICBDSEFOR0VfQ09ORklHVVJBVElPTjogJ2FuZHJvaWQucGVybWlzc2lvbi5DSEFOR0VfQ09ORklHVVJBVElPTicsXG4gICAgQ0hBTkdFX05FVFdPUktfU1RBVEU6ICdhbmRyb2lkLnBlcm1pc3Npb24uQ0hBTkdFX05FVFdPUktfU1RBVEUnLFxuICAgIENIQU5HRV9XSUZJX01VTFRJQ0FTVF9TVEFURTogJ2FuZHJvaWQucGVybWlzc2lvbi5DSEFOR0VfV0lGSV9NVUxUSUNBU1RfU1RBVEUnLFxuICAgIENIQU5HRV9XSUZJX1NUQVRFOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkNIQU5HRV9XSUZJX1NUQVRFJyxcbiAgICBDTEVBUl9BUFBfQ0FDSEU6ICdhbmRyb2lkLnBlcm1pc3Npb24uQ0xFQVJfQVBQX0NBQ0hFJyxcbiAgICBDTEVBUl9BUFBfVVNFUl9EQVRBOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkNMRUFSX0FQUF9VU0VSX0RBVEEnLFxuICAgIENPTlRST0xfTE9DQVRJT05fVVBEQVRFUzogJ2FuZHJvaWQucGVybWlzc2lvbi5DT05UUk9MX0xPQ0FUSU9OX1VQREFURVMnLFxuICAgIERFTEVURV9DQUNIRV9GSUxFUzogJ2FuZHJvaWQucGVybWlzc2lvbi5ERUxFVEVfQ0FDSEVfRklMRVMnLFxuICAgIERFTEVURV9QQUNLQUdFUzogJ2FuZHJvaWQucGVybWlzc2lvbi5ERUxFVEVfUEFDS0FHRVMnLFxuICAgIERFVklDRV9QT1dFUjogJ2FuZHJvaWQucGVybWlzc2lvbi5ERVZJQ0VfUE9XRVInLFxuICAgIERJQUdOT1NUSUM6ICdhbmRyb2lkLnBlcm1pc3Npb24uRElBR05PU1RJQycsXG4gICAgRElTQUJMRV9LRVlHVUFSRDogJ2FuZHJvaWQucGVybWlzc2lvbi5ESVNBQkxFX0tFWUdVQVJEJyxcbiAgICBEVU1QOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkRVTVAnLFxuICAgIEVYUEFORF9TVEFUVVNfQkFSOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkVYUEFORF9TVEFUVVNfQkFSJyxcbiAgICBGQUNUT1JZX1RFU1Q6ICdhbmRyb2lkLnBlcm1pc3Npb24uRkFDVE9SWV9URVNUJyxcbiAgICBGTEFTSExJR0hUOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkZMQVNITElHSFQnLFxuICAgIEZPUkNFX0JBQ0s6ICdhbmRyb2lkLnBlcm1pc3Npb24uRk9SQ0VfQkFDSycsXG4gICAgR0VUX0FDQ09VTlRTOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkdFVF9BQ0NPVU5UUycsXG4gICAgR0VUX1BBQ0tBR0VfU0laRTogJ2FuZHJvaWQucGVybWlzc2lvbi5HRVRfUEFDS0FHRV9TSVpFJyxcbiAgICBHRVRfVEFTS1M6ICdhbmRyb2lkLnBlcm1pc3Npb24uR0VUX1RBU0tTJyxcbiAgICBHRVRfVE9QX0FDVElWSVRZX0lORk86ICdhbmRyb2lkLnBlcm1pc3Npb24uR0VUX1RPUF9BQ1RJVklUWV9JTkZPJyxcbiAgICBHTE9CQUxfU0VBUkNIOiAnYW5kcm9pZC5wZXJtaXNzaW9uLkdMT0JBTF9TRUFSQ0gnLFxuICAgIEhBUkRXQVJFX1RFU1Q6ICdhbmRyb2lkLnBlcm1pc3Npb24uSEFSRFdBUkVfVEVTVCcsXG4gICAgSU5KRUNUX0VWRU5UUzogJ2FuZHJvaWQucGVybWlzc2lvbi5JTkpFQ1RfRVZFTlRTJyxcbiAgICBJTlNUQUxMX0xPQ0FUSU9OX1BST1ZJREVSOiAnYW5kcm9pZC5wZXJtaXNzaW9uLklOU1RBTExfTE9DQVRJT05fUFJPVklERVInLFxuICAgIElOU1RBTExfUEFDS0FHRVM6ICdhbmRyb2lkLnBlcm1pc3Npb24uSU5TVEFMTF9QQUNLQUdFUycsXG4gICAgSU5TVEFMTF9TSE9SVENVVDogJ2NvbS5hbmRyb2lkLmxhdW5jaGVyLnBlcm1pc3Npb24uSU5TVEFMTF9TSE9SVENVVCcsXG4gICAgSU5URVJOQUxfU1lTVEVNX1dJTkRPVzogJ2FuZHJvaWQucGVybWlzc2lvbi5JTlRFUk5BTF9TWVNURU1fV0lORE9XJyxcbiAgICBJTlRFUk5FVDogJ2FuZHJvaWQucGVybWlzc2lvbi5JTlRFUk5FVCcsXG4gICAgS0lMTF9CQUNLR1JPVU5EX1BST0NFU1NFUzogJ2FuZHJvaWQucGVybWlzc2lvbi5LSUxMX0JBQ0tHUk9VTkRfUFJPQ0VTU0VTJyxcbiAgICBMT0NBVElPTl9IQVJEV0FSRTogJ2FuZHJvaWQucGVybWlzc2lvbi5MT0NBVElPTl9IQVJEV0FSRScsXG4gICAgTUFOQUdFX0FDQ09VTlRTOiAnYW5kcm9pZC5wZXJtaXNzaW9uLk1BTkFHRV9BQ0NPVU5UUycsXG4gICAgTUFOQUdFX0FQUF9UT0tFTlM6ICdhbmRyb2lkLnBlcm1pc3Npb24uTUFOQUdFX0FQUF9UT0tFTlMnLFxuICAgIE1BTkFHRV9ET0NVTUVOVFM6ICdhbmRyb2lkLnBlcm1pc3Npb24uTUFOQUdFX0RPQ1VNRU5UUycsXG4gICAgTUFTVEVSX0NMRUFSOiAnYW5kcm9pZC5wZXJtaXNzaW9uLk1BU1RFUl9DTEVBUicsXG4gICAgTUVESUFfQ09OVEVOVF9DT05UUk9MOiAnYW5kcm9pZC5wZXJtaXNzaW9uLk1FRElBX0NPTlRFTlRfQ09OVFJPTCcsXG4gICAgTU9ESUZZX0FVRElPX1NFVFRJTkdTOiAnYW5kcm9pZC5wZXJtaXNzaW9uLk1PRElGWV9BVURJT19TRVRUSU5HUycsXG4gICAgTU9ESUZZX1BIT05FX1NUQVRFOiAnYW5kcm9pZC5wZXJtaXNzaW9uLk1PRElGWV9QSE9ORV9TVEFURScsXG4gICAgTU9VTlRfRk9STUFUX0ZJTEVTWVNURU1TOiAnYW5kcm9pZC5wZXJtaXNzaW9uLk1PVU5UX0ZPUk1BVF9GSUxFU1lTVEVNUycsXG4gICAgTU9VTlRfVU5NT1VOVF9GSUxFU1lTVEVNUzogJ2FuZHJvaWQucGVybWlzc2lvbi5NT1VOVF9VTk1PVU5UX0ZJTEVTWVNURU1TJyxcbiAgICBORkM6ICdhbmRyb2lkLnBlcm1pc3Npb24uTkZDJyxcbiAgICBQRVJTSVNURU5UX0FDVElWSVRZOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlBFUlNJU1RFTlRfQUNUSVZJVFknLFxuICAgIFBST0NFU1NfT1VUR09JTkdfQ0FMTFM6ICdhbmRyb2lkLnBlcm1pc3Npb24uUFJPQ0VTU19PVVRHT0lOR19DQUxMUycsXG4gICAgUkVBRF9DQUxFTkRBUjogJ2FuZHJvaWQucGVybWlzc2lvbi5SRUFEX0NBTEVOREFSJyxcbiAgICBSRUFEX0NBTExfTE9HOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlJFQURfQ0FMTF9MT0cnLFxuICAgIFJFQURfQ09OVEFDVFM6ICdhbmRyb2lkLnBlcm1pc3Npb24uUkVBRF9DT05UQUNUUycsXG4gICAgUkVBRF9FWFRFUk5BTF9TVE9SQUdFOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlJFQURfRVhURVJOQUxfU1RPUkFHRScsXG4gICAgUkVBRF9GUkFNRV9CVUZGRVI6ICdhbmRyb2lkLnBlcm1pc3Npb24uUkVBRF9GUkFNRV9CVUZGRVInLFxuICAgIFJFQURfSElTVE9SWV9CT09LTUFSS1M6ICdjb20uYW5kcm9pZC5icm93c2VyLnBlcm1pc3Npb24uUkVBRF9ISVNUT1JZX0JPT0tNQVJLUycsXG4gICAgUkVBRF9JTlBVVF9TVEFURTogJ2FuZHJvaWQucGVybWlzc2lvbi5SRUFEX0lOUFVUX1NUQVRFJyxcbiAgICBSRUFEX0xPR1M6ICdhbmRyb2lkLnBlcm1pc3Npb24uUkVBRF9MT0dTJyxcbiAgICBSRUFEX1BIT05FX1NUQVRFOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlJFQURfUEhPTkVfU1RBVEUnLFxuICAgIFJFQURfUFJPRklMRTogJ2FuZHJvaWQucGVybWlzc2lvbi5SRUFEX1BST0ZJTEUnLFxuICAgIFJFQURfU01TOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlJFQURfU01TJyxcbiAgICBSRUFEX1NPQ0lBTF9TVFJFQU06ICdhbmRyb2lkLnBlcm1pc3Npb24uUkVBRF9TT0NJQUxfU1RSRUFNJyxcbiAgICBSRUFEX1NZTkNfU0VUVElOR1M6ICdhbmRyb2lkLnBlcm1pc3Npb24uUkVBRF9TWU5DX1NFVFRJTkdTJyxcbiAgICBSRUFEX1NZTkNfU1RBVFM6ICdhbmRyb2lkLnBlcm1pc3Npb24uUkVBRF9TWU5DX1NUQVRTJyxcbiAgICBSRUFEX1VTRVJfRElDVElPTkFSWTogJ2FuZHJvaWQucGVybWlzc2lvbi5SRUFEX1VTRVJfRElDVElPTkFSWScsXG4gICAgUkVBRF9WT0lDRU1BSUw6ICdjb20uYW5kcm9pZC52b2ljZW1haWwucGVybWlzc2lvbi5SRUFEX1ZPSUNFTUFJTCcsXG4gICAgUkVCT09UOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlJFQk9PVCcsXG4gICAgUkVDRUlWRV9CT09UX0NPTVBMRVRFRDogJ2FuZHJvaWQucGVybWlzc2lvbi5SRUNFSVZFX0JPT1RfQ09NUExFVEVEJyxcbiAgICBSRUNFSVZFX01NUzogJ2FuZHJvaWQucGVybWlzc2lvbi5SRUNFSVZFX01NUycsXG4gICAgUkVDRUlWRV9TTVM6ICdhbmRyb2lkLnBlcm1pc3Npb24uUkVDRUlWRV9TTVMnLFxuICAgIFJFQ0VJVkVfV0FQX1BVU0g6ICdhbmRyb2lkLnBlcm1pc3Npb24uUkVDRUlWRV9XQVBfUFVTSCcsXG4gICAgUkVDT1JEX0FVRElPOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlJFQ09SRF9BVURJTycsXG4gICAgUkVPUkRFUl9UQVNLUzogJ2FuZHJvaWQucGVybWlzc2lvbi5SRU9SREVSX1RBU0tTJyxcbiAgICBSRVNUQVJUX1BBQ0tBR0VTOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlJFU1RBUlRfUEFDS0FHRVMnLFxuICAgIFNFTkRfUkVTUE9ORF9WSUFfTUVTU0FHRTogJ2FuZHJvaWQucGVybWlzc2lvbi5TRU5EX1JFU1BPTkRfVklBX01FU1NBR0UnLFxuICAgIFNFTkRfU01TOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlNFTkRfU01TJyxcbiAgICBTRVRfQUNUSVZJVFlfV0FUQ0hFUjogJ2FuZHJvaWQucGVybWlzc2lvbi5TRVRfQUNUSVZJVFlfV0FUQ0hFUicsXG4gICAgU0VUX0FMQVJNOiAnY29tLmFuZHJvaWQuYWxhcm0ucGVybWlzc2lvbi5TRVRfQUxBUk0nLFxuICAgIFNFVF9BTFdBWVNfRklOSVNIOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlNFVF9BTFdBWVNfRklOSVNIJyxcbiAgICBTRVRfQU5JTUFUSU9OX1NDQUxFOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlNFVF9BTklNQVRJT05fU0NBTEUnLFxuICAgIFNFVF9ERUJVR19BUFA6ICdhbmRyb2lkLnBlcm1pc3Npb24uU0VUX0RFQlVHX0FQUCcsXG4gICAgU0VUX09SSUVOVEFUSU9OOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlNFVF9PUklFTlRBVElPTicsXG4gICAgU0VUX1BPSU5URVJfU1BFRUQ6ICdhbmRyb2lkLnBlcm1pc3Npb24uU0VUX1BPSU5URVJfU1BFRUQnLFxuICAgIFNFVF9QUkVGRVJSRURfQVBQTElDQVRJT05TOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlNFVF9QUkVGRVJSRURfQVBQTElDQVRJT05TJyxcbiAgICBTRVRfUFJPQ0VTU19MSU1JVDogJ2FuZHJvaWQucGVybWlzc2lvbi5TRVRfUFJPQ0VTU19MSU1JVCcsXG4gICAgU0VUX1RJTUU6ICdhbmRyb2lkLnBlcm1pc3Npb24uU0VUX1RJTUUnLFxuICAgIFNFVF9USU1FX1pPTkU6ICdhbmRyb2lkLnBlcm1pc3Npb24uU0VUX1RJTUVfWk9ORScsXG4gICAgU0VUX1dBTExQQVBFUjogJ2FuZHJvaWQucGVybWlzc2lvbi5TRVRfV0FMTFBBUEVSJyxcbiAgICBTRVRfV0FMTFBBUEVSX0hJTlRTOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlNFVF9XQUxMUEFQRVJfSElOVFMnLFxuICAgIFNJR05BTF9QRVJTSVNURU5UX1BST0NFU1NFUzogJ2FuZHJvaWQucGVybWlzc2lvbi5TSUdOQUxfUEVSU0lTVEVOVF9QUk9DRVNTRVMnLFxuICAgIFNUQVRVU19CQVI6ICdhbmRyb2lkLnBlcm1pc3Npb24uU1RBVFVTX0JBUicsXG4gICAgU1VCU0NSSUJFRF9GRUVEU19SRUFEOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlNVQlNDUklCRURfRkVFRFNfUkVBRCcsXG4gICAgU1VCU0NSSUJFRF9GRUVEU19XUklURTogJ2FuZHJvaWQucGVybWlzc2lvbi5TVUJTQ1JJQkVEX0ZFRURTX1dSSVRFJyxcbiAgICBTWVNURU1fQUxFUlRfV0lORE9XOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlNZU1RFTV9BTEVSVF9XSU5ET1cnLFxuICAgIFRSQU5TTUlUX0lSOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlRSQU5TTUlUX0lSJyxcbiAgICBVTklOU1RBTExfU0hPUlRDVVQ6ICdjb20uYW5kcm9pZC5sYXVuY2hlci5wZXJtaXNzaW9uLlVOSU5TVEFMTF9TSE9SVENVVCcsXG4gICAgVVBEQVRFX0RFVklDRV9TVEFUUzogJ2FuZHJvaWQucGVybWlzc2lvbi5VUERBVEVfREVWSUNFX1NUQVRTJyxcbiAgICBVU0VfQ1JFREVOVElBTFM6ICdhbmRyb2lkLnBlcm1pc3Npb24uVVNFX0NSRURFTlRJQUxTJyxcbiAgICBVU0VfU0lQOiAnYW5kcm9pZC5wZXJtaXNzaW9uLlVTRV9TSVAnLFxuICAgIFZJQlJBVEU6ICdhbmRyb2lkLnBlcm1pc3Npb24uVklCUkFURScsXG4gICAgV0FLRV9MT0NLOiAnYW5kcm9pZC5wZXJtaXNzaW9uLldBS0VfTE9DSycsXG4gICAgV1JJVEVfQVBOX1NFVFRJTkdTOiAnYW5kcm9pZC5wZXJtaXNzaW9uLldSSVRFX0FQTl9TRVRUSU5HUycsXG4gICAgV1JJVEVfQ0FMRU5EQVI6ICdhbmRyb2lkLnBlcm1pc3Npb24uV1JJVEVfQ0FMRU5EQVInLFxuICAgIFdSSVRFX0NBTExfTE9HOiAnYW5kcm9pZC5wZXJtaXNzaW9uLldSSVRFX0NBTExfTE9HJyxcbiAgICBXUklURV9DT05UQUNUUzogJ2FuZHJvaWQucGVybWlzc2lvbi5XUklURV9DT05UQUNUUycsXG4gICAgV1JJVEVfRVhURVJOQUxfU1RPUkFHRTogJ2FuZHJvaWQucGVybWlzc2lvbi5XUklURV9FWFRFUk5BTF9TVE9SQUdFJyxcbiAgICBXUklURV9HU0VSVklDRVM6ICdhbmRyb2lkLnBlcm1pc3Npb24uV1JJVEVfR1NFUlZJQ0VTJyxcbiAgICBXUklURV9ISVNUT1JZX0JPT0tNQVJLUzogJ2NvbS5hbmRyb2lkLmJyb3dzZXIucGVybWlzc2lvbi5XUklURV9ISVNUT1JZX0JPT0tNQVJLUycsXG4gICAgV1JJVEVfUFJPRklMRTogJ2FuZHJvaWQucGVybWlzc2lvbi5XUklURV9QUk9GSUxFJyxcbiAgICBXUklURV9TRUNVUkVfU0VUVElOR1M6ICdhbmRyb2lkLnBlcm1pc3Npb24uV1JJVEVfU0VDVVJFX1NFVFRJTkdTJyxcbiAgICBXUklURV9TRVRUSU5HUzogJ2FuZHJvaWQucGVybWlzc2lvbi5XUklURV9TRVRUSU5HUycsXG4gICAgV1JJVEVfU01TOiAnYW5kcm9pZC5wZXJtaXNzaW9uLldSSVRFX1NNUycsXG4gICAgV1JJVEVfU09DSUFMX1NUUkVBTTogJ2FuZHJvaWQucGVybWlzc2lvbi5XUklURV9TT0NJQUxfU1RSRUFNJyxcbiAgICBXUklURV9TWU5DX1NFVFRJTkdTOiAnYW5kcm9pZC5wZXJtaXNzaW9uLldSSVRFX1NZTkNfU0VUVElOR1MnLFxuICAgIFdSSVRFX1VTRVJfRElDVElPTkFSWTogJ2FuZHJvaWQucGVybWlzc2lvbi5XUklURV9VU0VSX0RJQ1RJT05BUlknLFxuICAgIFdSSVRFX1ZPSUNFTUFJTDogJ2NvbS5hbmRyb2lkLnZvaWNlbWFpbC5wZXJtaXNzaW9uLldSSVRFX1ZPSUNFTUFJTCcsXG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrIHBlcm1pc3Npb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBlcm1pc3Npb24gVGhlIG5hbWUgb2YgdGhlIHBlcm1pc3Npb25cbiAgICogQHJldHVybiB7UHJvbWlzZTxBbmRyb2lkUGVybWlzc2lvblJlc3BvbnNlPn0gUmV0dXJucyBhIHByb21pc2VcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgY2hlY2tQZXJtaXNzaW9uKHBlcm1pc3Npb246IHN0cmluZyk6IFByb21pc2U8QW5kcm9pZFBlcm1pc3Npb25SZXNwb25zZT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IHBlcm1pc3Npb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBlcm1pc3Npb24gVGhlIG5hbWUgb2YgdGhlIHBlcm1pc3Npb24gdG8gcmVxdWVzdFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFuZHJvaWRQZXJtaXNzaW9uUmVzcG9uc2U+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICByZXF1ZXN0UGVybWlzc2lvbihwZXJtaXNzaW9uOiBzdHJpbmcpOiBQcm9taXNlPEFuZHJvaWRQZXJtaXNzaW9uUmVzcG9uc2U+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCBwZXJtaXNzaW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwZXJtaXNzaW9ucyBBbiBhcnJheSB3aXRoIHBlcm1pc3Npb25zXG4gICAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIHByb21pc2VcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgcmVxdWVzdFBlcm1pc3Npb25zKHBlcm1pc3Npb25zOiBzdHJpbmdbXSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gc3RpbGwgd29ya3Mgbm93LCB3aWxsIG5vdCBzdXBwb3J0IGluIHRoZSBmdXR1cmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwZXJtaXNzaW9uIFRoZSBuYW1lIG9mIHRoZSBwZXJtaXNzaW9uXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QW5kcm9pZFBlcm1pc3Npb25SZXNwb25zZT59IFJldHVybnMgYSBwcm9taXNlXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGhhc1Blcm1pc3Npb24ocGVybWlzc2lvbjogc3RyaW5nKTogUHJvbWlzZTxBbmRyb2lkUGVybWlzc2lvblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5kcm9pZFBlcm1pc3Npb25SZXNwb25zZSB7XG4gIGhhc1Blcm1pc3Npb246IGJvb2xlYW47XG59XG4iXX0=","import ValidationError from '../ValidationError';\n\nconst once = cb => {\n  let fired = false;\n  return (...args) => {\n    if (fired) return;\n    fired = true;\n    cb(...args);\n  };\n};\n\nexport default function runTests(options, cb) {\n  let {\n    endEarly,\n    tests,\n    args,\n    value,\n    errors,\n    sort,\n    path\n  } = options;\n  let callback = once(cb);\n  let count = tests.length;\n  const nestedErrors = [];\n  errors = errors ? errors : [];\n  if (!count) return errors.length ? callback(new ValidationError(errors, value, path)) : callback(null, value);\n\n  for (let i = 0; i < tests.length; i++) {\n    const test = tests[i];\n    test(args, function finishTestRun(err) {\n      if (err) {\n        // always return early for non validation errors\n        if (!ValidationError.isError(err)) {\n          return callback(err, value);\n        }\n\n        if (endEarly) {\n          err.value = value;\n          return callback(err, value);\n        }\n\n        nestedErrors.push(err);\n      }\n\n      if (--count <= 0) {\n        if (nestedErrors.length) {\n          if (sort) nestedErrors.sort(sort); //show parent errors after the nested ones: name.first, name\n\n          if (errors.length) nestedErrors.push(...errors);\n          errors = nestedErrors;\n        }\n\n        if (errors.length) {\n          callback(new ValidationError(errors, value, path), value);\n          return;\n        }\n\n        callback(null, value);\n      }\n    });\n  }\n}","import { Router, __RouterContext, matchPath } from 'react-router';\nexport { MemoryRouter, Prompt, Redirect, Route, Router, StaticRouter, Switch, generatePath, matchPath, useHistory, useLocation, useParams, useRouteMatch, withRouter } from 'react-router';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport React from 'react';\nimport { createBrowserHistory, createHashHistory, createLocation } from 'history';\nimport PropTypes from 'prop-types';\nimport warning from 'tiny-warning';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport invariant from 'tiny-invariant';\n\n/**\n * The public API for a <Router> that uses HTML5 history.\n */\n\nvar BrowserRouter =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(BrowserRouter, _React$Component);\n\n  function BrowserRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.history = createBrowserHistory(_this.props);\n    return _this;\n  }\n\n  var _proto = BrowserRouter.prototype;\n\n  _proto.render = function render() {\n    return React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return BrowserRouter;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  BrowserRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    forceRefresh: PropTypes.bool,\n    getUserConfirmation: PropTypes.func,\n    keyLength: PropTypes.number\n  };\n\n  BrowserRouter.prototype.componentDidMount = function () {\n    process.env.NODE_ENV !== \"production\" ? warning(!this.props.history, \"<BrowserRouter> ignores the history prop. To use a custom history, \" + \"use `import { Router }` instead of `import { BrowserRouter as Router }`.\") : void 0;\n  };\n}\n\n/**\n * The public API for a <Router> that uses window.location.hash.\n */\n\nvar HashRouter =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(HashRouter, _React$Component);\n\n  function HashRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.history = createHashHistory(_this.props);\n    return _this;\n  }\n\n  var _proto = HashRouter.prototype;\n\n  _proto.render = function render() {\n    return React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return HashRouter;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  HashRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    getUserConfirmation: PropTypes.func,\n    hashType: PropTypes.oneOf([\"hashbang\", \"noslash\", \"slash\"])\n  };\n\n  HashRouter.prototype.componentDidMount = function () {\n    process.env.NODE_ENV !== \"production\" ? warning(!this.props.history, \"<HashRouter> ignores the history prop. To use a custom history, \" + \"use `import { Router }` instead of `import { HashRouter as Router }`.\") : void 0;\n  };\n}\n\nvar resolveToLocation = function resolveToLocation(to, currentLocation) {\n  return typeof to === \"function\" ? to(currentLocation) : to;\n};\nvar normalizeToLocation = function normalizeToLocation(to, currentLocation) {\n  return typeof to === \"string\" ? createLocation(to, null, null, currentLocation) : to;\n};\n\nvar forwardRefShim = function forwardRefShim(C) {\n  return C;\n};\n\nvar forwardRef = React.forwardRef;\n\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nvar LinkAnchor = forwardRef(function (_ref, forwardedRef) {\n  var innerRef = _ref.innerRef,\n      navigate = _ref.navigate,\n      _onClick = _ref.onClick,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"innerRef\", \"navigate\", \"onClick\"]);\n\n  var target = rest.target;\n\n  var props = _extends({}, rest, {\n    onClick: function onClick(event) {\n      try {\n        if (_onClick) _onClick(event);\n      } catch (ex) {\n        event.preventDefault();\n        throw ex;\n      }\n\n      if (!event.defaultPrevented && // onClick prevented default\n      event.button === 0 && ( // ignore everything but left clicks\n      !target || target === \"_self\") && // let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n          event.preventDefault();\n          navigate();\n        }\n    }\n  }); // React 15 compat\n\n\n  if (forwardRefShim !== forwardRef) {\n    props.ref = forwardedRef || innerRef;\n  } else {\n    props.ref = innerRef;\n  }\n  /* eslint-disable-next-line jsx-a11y/anchor-has-content */\n\n\n  return React.createElement(\"a\", props);\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  LinkAnchor.displayName = \"LinkAnchor\";\n}\n/**\n * The public API for rendering a history-aware <a>.\n */\n\n\nvar Link = forwardRef(function (_ref2, forwardedRef) {\n  var _ref2$component = _ref2.component,\n      component = _ref2$component === void 0 ? LinkAnchor : _ref2$component,\n      replace = _ref2.replace,\n      to = _ref2.to,\n      innerRef = _ref2.innerRef,\n      rest = _objectWithoutPropertiesLoose(_ref2, [\"component\", \"replace\", \"to\", \"innerRef\"]);\n\n  return React.createElement(__RouterContext.Consumer, null, function (context) {\n    !context ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <Link> outside a <Router>\") : invariant(false) : void 0;\n    var history = context.history;\n    var location = normalizeToLocation(resolveToLocation(to, context.location), context.location);\n    var href = location ? history.createHref(location) : \"\";\n\n    var props = _extends({}, rest, {\n      href: href,\n      navigate: function navigate() {\n        var location = resolveToLocation(to, context.location);\n        var method = replace ? history.replace : history.push;\n        method(location);\n      }\n    }); // React 15 compat\n\n\n    if (forwardRefShim !== forwardRef) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.innerRef = innerRef;\n    }\n\n    return React.createElement(component, props);\n  });\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  var toType = PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.func]);\n  var refType = PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.shape({\n    current: PropTypes.any\n  })]);\n  Link.displayName = \"Link\";\n  Link.propTypes = {\n    innerRef: refType,\n    onClick: PropTypes.func,\n    replace: PropTypes.bool,\n    target: PropTypes.string,\n    to: toType.isRequired\n  };\n}\n\nvar forwardRefShim$1 = function forwardRefShim(C) {\n  return C;\n};\n\nvar forwardRef$1 = React.forwardRef;\n\nif (typeof forwardRef$1 === \"undefined\") {\n  forwardRef$1 = forwardRefShim$1;\n}\n\nfunction joinClassnames() {\n  for (var _len = arguments.length, classnames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classnames[_key] = arguments[_key];\n  }\n\n  return classnames.filter(function (i) {\n    return i;\n  }).join(\" \");\n}\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\n\n\nvar NavLink = forwardRef$1(function (_ref, forwardedRef) {\n  var _ref$ariaCurrent = _ref[\"aria-current\"],\n      ariaCurrent = _ref$ariaCurrent === void 0 ? \"page\" : _ref$ariaCurrent,\n      _ref$activeClassName = _ref.activeClassName,\n      activeClassName = _ref$activeClassName === void 0 ? \"active\" : _ref$activeClassName,\n      activeStyle = _ref.activeStyle,\n      classNameProp = _ref.className,\n      exact = _ref.exact,\n      isActiveProp = _ref.isActive,\n      locationProp = _ref.location,\n      sensitive = _ref.sensitive,\n      strict = _ref.strict,\n      styleProp = _ref.style,\n      to = _ref.to,\n      innerRef = _ref.innerRef,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"aria-current\", \"activeClassName\", \"activeStyle\", \"className\", \"exact\", \"isActive\", \"location\", \"sensitive\", \"strict\", \"style\", \"to\", \"innerRef\"]);\n\n  return React.createElement(__RouterContext.Consumer, null, function (context) {\n    !context ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <NavLink> outside a <Router>\") : invariant(false) : void 0;\n    var currentLocation = locationProp || context.location;\n    var toLocation = normalizeToLocation(resolveToLocation(to, currentLocation), currentLocation);\n    var path = toLocation.pathname; // Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202\n\n    var escapedPath = path && path.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n    var match = escapedPath ? matchPath(currentLocation.pathname, {\n      path: escapedPath,\n      exact: exact,\n      sensitive: sensitive,\n      strict: strict\n    }) : null;\n    var isActive = !!(isActiveProp ? isActiveProp(match, currentLocation) : match);\n    var className = isActive ? joinClassnames(classNameProp, activeClassName) : classNameProp;\n    var style = isActive ? _extends({}, styleProp, {}, activeStyle) : styleProp;\n\n    var props = _extends({\n      \"aria-current\": isActive && ariaCurrent || null,\n      className: className,\n      style: style,\n      to: toLocation\n    }, rest); // React 15 compat\n\n\n    if (forwardRefShim$1 !== forwardRef$1) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.innerRef = innerRef;\n    }\n\n    return React.createElement(Link, props);\n  });\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  NavLink.displayName = \"NavLink\";\n  var ariaCurrentType = PropTypes.oneOf([\"page\", \"step\", \"location\", \"date\", \"time\", \"true\"]);\n  NavLink.propTypes = _extends({}, Link.propTypes, {\n    \"aria-current\": ariaCurrentType,\n    activeClassName: PropTypes.string,\n    activeStyle: PropTypes.object,\n    className: PropTypes.string,\n    exact: PropTypes.bool,\n    isActive: PropTypes.func,\n    location: PropTypes.object,\n    sensitive: PropTypes.bool,\n    strict: PropTypes.bool,\n    style: PropTypes.object\n  });\n}\n\nexport { BrowserRouter, HashRouter, Link, NavLink };\n//# sourceMappingURL=react-router-dom.js.map\n","//@ts-nocheck\nimport React from 'react'\nimport {currentLessonIdVar, recordsVar} from 'src/reactapp/apollo-client'\nimport {File} from '@ionic-native/file'\nimport {Media, MediaObject} from '@ionic-native/media'\nimport {Plugins} from '@capacitor/core'\nconst {Filesystem} = Plugins\n\nconst androidSampleRate = 16000\n\ntype RecordStatus = 'idle' | 'stopped' | 'recording'\n\nexport function useRecordAndroid({onStop}) {\n  const [status, setStatus] = React.useState<RecordStatus>('idle')\n  const [fileName, setFileName] = React.useState<string>()\n  const [audioFile, setAudioFile] = React.useState<MediaObject>()\n\n  async function stopRecording() {\n    try {\n      audioFile.stopRecord()\n      audioFile.release()\n      setAudioFile(null)\n      const file = new File()\n\n      let data = await Filesystem.readFile({\n        path: file.externalDataDirectory + fileName,\n      })\n      if (data) {\n        console.log({data})\n      }\n\n      setStatus('stopped')\n\n      onStop &&\n        onStop({\n          audioAsBase64: data?.data,\n          audioUrl: fileName,\n          sampleRate: androidSampleRate,\n        })\n    } catch (err) {\n      console.log({err})\n    }\n  }\n\n  async function startRecording() {\n    const file = new File()\n    const media = new Media()\n\n    let fileName = `record-${+new Date()}.mp3`\n\n    // await file.createFile(file.tempDirectory, fileName, true)\n    const filePath = file.externalDataDirectory.replace(/^file:\\/\\//, '') + fileName\n    const audioFile = media.create(filePath)\n    audioFile.startRecord()\n\n    setAudioFile(audioFile)\n    setFileName(fileName)\n    setStatus('recording')\n  }\n\n  return {\n    status,\n    sampleRate: androidSampleRate,\n    startRecording,\n    stopRecording,\n  }\n}\n\nexport function setRecordSTT(sceneIdx: number, arrIdx: number, result) {\n  const oldVar = recordsVar()\n  const lessonId = currentLessonIdVar()\n  const key = `${lessonId}:${sceneIdx}`\n  const rs = oldVar[key] || []\n  const newRs = rs.map((record, i) => {\n    if (i === arrIdx) {\n      return {\n        ...record,\n        stt: result,\n      }\n    }\n    return record\n  })\n\n  recordsVar({...oldVar, [key]: newRs})\n}\n\nexport function setRecord(sceneIdx: number, record) {\n  const oldVar = recordsVar()\n  const lessonId = currentLessonIdVar()\n  const key = `${lessonId}:${sceneIdx}`\n  const rs = oldVar[key] || []\n\n  recordsVar({...oldVar, [key]: [record, ...rs.slice(0, 2)]})\n  rs.slice(2).map((r) => {\n    URL.revokeObjectURL(r.audioUrl)\n  })\n}\n","import { string as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport BaseSchema from './schema'; // eslint-disable-next-line\n\nlet rEmail = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i; // eslint-disable-next-line\n\nlet rUrl = /^((https?|ftp):)?\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i; // eslint-disable-next-line\n\nlet rUUID = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\n\nlet isTrimmed = value => isAbsent(value) || value === value.trim();\n\nlet objStringTag = {}.toString();\nexport function create() {\n  return new StringSchema();\n}\nexport default class StringSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'string'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (this.isType(value)) return value;\n        if (Array.isArray(value)) return value;\n        const strValue = value != null && value.toString ? value.toString() : value;\n        if (strValue === objStringTag) return value;\n        return strValue;\n      });\n    });\n  }\n\n  _typeCheck(value) {\n    if (value instanceof String) value = value.valueOf();\n    return typeof value === 'string';\n  }\n\n  _isPresent(value) {\n    return super._isPresent(value) && !!value.length;\n  }\n\n  length(length, message = locale.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length === this.resolve(length);\n      }\n\n    });\n  }\n\n  min(min, message = locale.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    return this.test({\n      name: 'max',\n      exclusive: true,\n      message,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length <= this.resolve(max);\n      }\n\n    });\n  }\n\n  matches(regex, options) {\n    let excludeEmptyString = false;\n    let message;\n    let name;\n\n    if (options) {\n      if (typeof options === 'object') {\n        ({\n          excludeEmptyString = false,\n          message,\n          name\n        } = options);\n      } else {\n        message = options;\n      }\n    }\n\n    return this.test({\n      name: name || 'matches',\n      message: message || locale.matches,\n      params: {\n        regex\n      },\n      test: value => isAbsent(value) || value === '' && excludeEmptyString || value.search(regex) !== -1\n    });\n  }\n\n  email(message = locale.email) {\n    return this.matches(rEmail, {\n      name: 'email',\n      message,\n      excludeEmptyString: true\n    });\n  }\n\n  url(message = locale.url) {\n    return this.matches(rUrl, {\n      name: 'url',\n      message,\n      excludeEmptyString: true\n    });\n  }\n\n  uuid(message = locale.uuid) {\n    return this.matches(rUUID, {\n      name: 'uuid',\n      message,\n      excludeEmptyString: false\n    });\n  } //-- transforms --\n\n\n  ensure() {\n    return this.default('').transform(val => val === null ? '' : val);\n  }\n\n  trim(message = locale.trim) {\n    return this.transform(val => val != null ? val.trim() : val).test({\n      message,\n      name: 'trim',\n      test: isTrimmed\n    });\n  }\n\n  lowercase(message = locale.lowercase) {\n    return this.transform(value => !isAbsent(value) ? value.toLowerCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      test: value => isAbsent(value) || value === value.toLowerCase()\n    });\n  }\n\n  uppercase(message = locale.uppercase) {\n    return this.transform(value => !isAbsent(value) ? value.toUpperCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      test: value => isAbsent(value) || value === value.toUpperCase()\n    });\n  }\n\n}\ncreate.prototype = StringSchema.prototype; //\n// String Interfaces\n//","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.ReactErrorBoundary = {}, global.React));\n}(this, (function (exports, React) { 'use strict';\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    _setPrototypeOf(subClass, superClass);\n  }\n\n  var changedArray = function changedArray(a, b) {\n    if (a === void 0) {\n      a = [];\n    }\n\n    if (b === void 0) {\n      b = [];\n    }\n\n    return a.length !== b.length || a.some(function (item, index) {\n      return !Object.is(item, b[index]);\n    });\n  };\n\n  var initialState = {\n    error: null\n  };\n\n  var ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n    _inheritsLoose(ErrorBoundary, _React$Component);\n\n    function ErrorBoundary() {\n      var _this;\n\n      for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n        _args[_key] = arguments[_key];\n      }\n\n      _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\n      _this.state = initialState;\n      _this.updatedWithError = false;\n\n      _this.resetErrorBoundary = function () {\n        var _this$props;\n\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        _this.props.onReset == null ? void 0 : (_this$props = _this.props).onReset.apply(_this$props, args);\n\n        _this.reset();\n      };\n\n      return _this;\n    }\n\n    ErrorBoundary.getDerivedStateFromError = function getDerivedStateFromError(error) {\n      return {\n        error: error\n      };\n    };\n\n    var _proto = ErrorBoundary.prototype;\n\n    _proto.reset = function reset() {\n      this.updatedWithError = false;\n      this.setState(initialState);\n    };\n\n    _proto.componentDidCatch = function componentDidCatch(error, info) {\n      var _this$props$onError, _this$props2;\n\n      (_this$props$onError = (_this$props2 = this.props).onError) == null ? void 0 : _this$props$onError.call(_this$props2, error, info);\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var error = this.state.error;\n\n      if (error !== null) {\n        this.updatedWithError = true;\n      }\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n      var error = this.state.error;\n      var resetKeys = this.props.resetKeys; // There's an edge case where if the thing that triggered the error\n      // happens to *also* be in the resetKeys array, we'd end up resetting\n      // the error boundary immediately. This would likely trigger a second\n      // error to be thrown.\n      // So we make sure that we don't check the resetKeys on the first call\n      // of cDU after the error is set\n\n      if (error !== null && !this.updatedWithError) {\n        this.updatedWithError = true;\n        return;\n      }\n\n      if (error !== null && changedArray(prevProps.resetKeys, resetKeys)) {\n        var _this$props$onResetKe, _this$props3;\n\n        (_this$props$onResetKe = (_this$props3 = this.props).onResetKeysChange) == null ? void 0 : _this$props$onResetKe.call(_this$props3, prevProps.resetKeys, resetKeys);\n        this.reset();\n      }\n    };\n\n    _proto.render = function render() {\n      var error = this.state.error; // @ts-expect-error ts(2339) (at least one of these will be defined though, and we check for their existence)\n\n      var _this$props4 = this.props,\n          fallbackRender = _this$props4.fallbackRender,\n          FallbackComponent = _this$props4.FallbackComponent,\n          fallback = _this$props4.fallback;\n\n      if (error !== null) {\n        var _props = {\n          error: error,\n          resetErrorBoundary: this.resetErrorBoundary\n        };\n\n        if ( /*#__PURE__*/React.isValidElement(fallback)) {\n          return fallback;\n        } else if (typeof fallbackRender === 'function') {\n          return fallbackRender(_props);\n        } else if (FallbackComponent) {\n          return /*#__PURE__*/React.createElement(FallbackComponent, _props);\n        } else {\n          throw new Error('react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop');\n        }\n      }\n\n      return this.props.children;\n    };\n\n    return ErrorBoundary;\n  }(React.Component);\n\n  function withErrorBoundary(Component, errorBoundaryProps) {\n    var Wrapped = function Wrapped(props) {\n      return /*#__PURE__*/React.createElement(ErrorBoundary, errorBoundaryProps, /*#__PURE__*/React.createElement(Component, props));\n    }; // Format for display in DevTools\n\n\n    var name = Component.displayName || Component.name || 'Unknown';\n    Wrapped.displayName = \"withErrorBoundary(\" + name + \")\";\n    return Wrapped;\n  }\n\n  function useErrorHandler(givenError) {\n    var _React$useState = React.useState(null),\n        error = _React$useState[0],\n        setError = _React$useState[1];\n\n    if (givenError) throw givenError;\n    if (error) throw error;\n    return setError;\n  }\n  /*\n  eslint\n    @typescript-eslint/no-throw-literal: \"off\",\n    @typescript-eslint/prefer-nullish-coalescing: \"off\"\n  */\n\n  exports.ErrorBoundary = ErrorBoundary;\n  exports.useErrorHandler = useErrorHandler;\n  exports.withErrorBoundary = withErrorBoundary;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=react-error-boundary.umd.js.map\n","var toString = require('./toString'),\n    upperFirst = require('./upperFirst');\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst(toString(string).toLowerCase());\n}\n\nmodule.exports = capitalize;\n","var asciiWords = require('./_asciiWords'),\n    hasUnicodeWord = require('./_hasUnicodeWord'),\n    toString = require('./toString'),\n    unicodeWords = require('./_unicodeWords');\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nmodule.exports = words;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","import { number as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport BaseSchema from './schema';\n\nlet isNaN = value => value != +value;\n\nexport function create() {\n  return new NumberSchema();\n}\nexport default class NumberSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'number'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        let parsed = value;\n\n        if (typeof parsed === 'string') {\n          parsed = parsed.replace(/\\s/g, '');\n          if (parsed === '') return NaN; // don't use parseFloat to avoid positives on alpha-numeric strings\n\n          parsed = +parsed;\n        }\n\n        if (this.isType(parsed)) return parsed;\n        return parseFloat(parsed);\n      });\n    });\n  }\n\n  _typeCheck(value) {\n    if (value instanceof Number) value = value.valueOf();\n    return typeof value === 'number' && !isNaN(value);\n  }\n\n  min(min, message = locale.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value <= this.resolve(max);\n      }\n\n    });\n  }\n\n  lessThan(less, message = locale.lessThan) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        less\n      },\n\n      test(value) {\n        return isAbsent(value) || value < this.resolve(less);\n      }\n\n    });\n  }\n\n  moreThan(more, message = locale.moreThan) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        more\n      },\n\n      test(value) {\n        return isAbsent(value) || value > this.resolve(more);\n      }\n\n    });\n  }\n\n  positive(msg = locale.positive) {\n    return this.moreThan(0, msg);\n  }\n\n  negative(msg = locale.negative) {\n    return this.lessThan(0, msg);\n  }\n\n  integer(message = locale.integer) {\n    return this.test({\n      name: 'integer',\n      message,\n      test: val => isAbsent(val) || Number.isInteger(val)\n    });\n  }\n\n  truncate() {\n    return this.transform(value => !isAbsent(value) ? value | 0 : value);\n  }\n\n  round(method) {\n    var _method;\n\n    var avail = ['ceil', 'floor', 'round', 'trunc'];\n    method = ((_method = method) == null ? void 0 : _method.toLowerCase()) || 'round'; // this exists for symemtry with the new Math.trunc\n\n    if (method === 'trunc') return this.truncate();\n    if (avail.indexOf(method.toLowerCase()) === -1) throw new TypeError('Only valid options for round() are: ' + avail.join(', '));\n    return this.transform(value => !isAbsent(value) ? Math[method](value) : value);\n  }\n\n}\ncreate.prototype = NumberSchema.prototype; //\n// Number Interfaces\n//","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","import * as React from 'react'\nimport {IonButton} from '@ionic/react'\n\ninterface Props {\n  disabled?: boolean\n  onClick: React.MouseEventHandler<HTMLIonButtonElement>\n}\n\nexport const NextButton: React.FC<Props> = ({onClick, ...props}) => {\n  return (\n    <IonButton\n      mode=\"ios\"\n      color=\"danger\"\n      fill=\"outline\"\n      shape=\"round\"\n      expand=\"block\"\n      {...props}\n      onClick={onClick}\n    >\n      Next\n    </IonButton>\n  )\n}\n","var createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to\n * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the snake cased string.\n * @example\n *\n * _.snakeCase('Foo Bar');\n * // => 'foo_bar'\n *\n * _.snakeCase('fooBar');\n * // => 'foo_bar'\n *\n * _.snakeCase('--FOO-BAR--');\n * // => 'foo_bar'\n */\nvar snakeCase = createCompounder(function(result, word, index) {\n  return result + (index ? '_' : '') + word.toLowerCase();\n});\n\nmodule.exports = snakeCase;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options), options)\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens, options) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$', flags(options))\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n","import {Plugins} from '@capacitor/core'\nconst {Storage} = Plugins\n\nexport async function setNativeStorage(key: string, value: boolean) {\n  // this.postMessage('setValue', {key, value})\n  // this.storageCache[key] = {data: value}\n  return await Storage.set({\n    key,\n    value: JSON.stringify({\n      data: value,\n    }),\n  })\n}\n\nexport async function getNativeStorage(key: string) {\n  const ret = await Storage.get({key})\n  let value = JSON.parse(ret.value)\n  if (!value) {\n    value = {data: null}\n  }\n  return value\n}\n\nexport async function removeNativeStorage(key) {\n  // this.postMessage('removeValue', {key})\n  return await Storage.remove({key})\n}\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nmodule.exports = unicodeWords;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport mapValues from 'lodash/mapValues';\nimport ValidationError from '../ValidationError';\nimport Ref from '../Reference';\nexport default function createValidation(config) {\n  function validate(_ref, cb) {\n    let {\n      value,\n      path = '',\n      label,\n      options,\n      originalValue,\n      sync\n    } = _ref,\n        rest = _objectWithoutPropertiesLoose(_ref, [\"value\", \"path\", \"label\", \"options\", \"originalValue\", \"sync\"]);\n\n    const {\n      name,\n      test,\n      params,\n      message\n    } = config;\n    let {\n      parent,\n      context\n    } = options;\n\n    function resolve(item) {\n      return Ref.isRef(item) ? item.getValue(value, parent, context) : item;\n    }\n\n    function createError(overrides = {}) {\n      const nextParams = mapValues(_extends({\n        value,\n        originalValue,\n        label,\n        path: overrides.path || path\n      }, params, overrides.params), resolve);\n      const error = new ValidationError(ValidationError.formatError(overrides.message || message, nextParams), value, nextParams.path, overrides.type || name);\n      error.params = nextParams;\n      return error;\n    }\n\n    let ctx = _extends({\n      path,\n      parent,\n      type: name,\n      createError,\n      resolve,\n      options,\n      originalValue\n    }, rest);\n\n    if (!sync) {\n      try {\n        Promise.resolve(test.call(ctx, value, ctx)).then(validOrError => {\n          if (ValidationError.isError(validOrError)) cb(validOrError);else if (!validOrError) cb(createError());else cb(null, validOrError);\n        });\n      } catch (err) {\n        cb(err);\n      }\n\n      return;\n    }\n\n    let result;\n\n    try {\n      var _ref2;\n\n      result = test.call(ctx, value, ctx);\n\n      if (typeof ((_ref2 = result) == null ? void 0 : _ref2.then) === 'function') {\n        throw new Error(`Validation test of type: \"${ctx.type}\" returned a Promise during a synchronous validate. ` + `This test will finish after the validate call has returned`);\n      }\n    } catch (err) {\n      cb(err);\n      return;\n    }\n\n    if (ValidationError.isError(result)) cb(result);else if (!result) cb(createError());else cb(null, result);\n  }\n\n  validate.OPTIONS = config;\n  return validate;\n}","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","import React from 'react'\nimport * as RecordRTC from 'recordrtc'\nimport { currentLessonIdVar, recordsVar } from 'src/reactapp/apollo-client'\nimport { useLessonStore } from '../useLessonStore'\n\nfunction getAudioContext() {\n  // @ts-ignore\n  const AudioContext = window.AudioContext || window.webkitAudioContext\n  if (AudioContext) {\n    return new AudioContext()\n  }\n}\nconst sampleRate = getAudioContext().sampleRate || 44100\n\nconst RECORD_TIMEOUT_MS = 20 * 1000\n\nexport function useRecordRtc({onStop}) {\n  const [status, setStatus] = React.useState('idle')\n  const [mediaBlobUrl, setMediaBlobUrl] = React.useState<string | null>(null)\n  const [recorder, setRecorder] = React.useState<any>()\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n\n  async function stopRecording() {\n    try {\n      await recorder.stopRecording()\n      const blob = await recorder.getBlob()\n      const sampleRate = (await recorder.getInternalRecorder()).sampleRate\n      const audioAsBase64 = (await recorder.getDataURL()).replace(/^.+base64,/, '')\n      const audioUrl = URL.createObjectURL(blob)\n      console.log({sampleRate, audioAsBase64, audioUrl})\n      setStatus('stopped')\n      setMediaBlobUrl(audioUrl)\n      onStop &&\n        onStop({\n          audioAsBase64,\n          audioUrl,\n          sampleRate,\n        })\n    } catch (err) {\n      console.log({err})\n    }\n  }\n\n  async function startRecording() {\n    ytPlayer.pauseVideo()\n    const stream = await navigator.mediaDevices.getUserMedia({audio: true})\n    const recorder = new RecordRTC.RecordRTCPromisesHandler(stream, {\n      type: 'audio',\n      mimeType: 'audio/webm',\n      recorderType: RecordRTC.StereoAudioRecorder,\n      sampleRate: sampleRate, // RecordRTC: 22050 and 96000 , Google STT: 8000 - 48000\n      numberOfAudioChannels: 1,\n    })\n    recorder.startRecording()\n    setRecorder(recorder)\n    setStatus('recording')\n  }\n\n  React.useEffect(() => {\n    if (status === 'recording') {\n      const to = setTimeout(() => {\n        stopRecording()\n      }, RECORD_TIMEOUT_MS)\n      return () => clearTimeout(to)\n    }\n  }, [status, stopRecording])\n\n  return {\n    status,\n    sampleRate,\n    startRecording,\n    stopRecording,\n    mediaBlobUrl,\n  }\n}\n\nexport function setRecordSTT(sceneIdx: number, arrIdx: number, result) {\n  const oldVar = recordsVar()\n  const lessonId = currentLessonIdVar()\n  const key = `${lessonId}:${sceneIdx}`\n  const rs = oldVar[key] || []\n  const newRs = rs.map((record, i) => {\n    if (i === arrIdx) {\n      return {\n        ...record,\n        stt: result,\n      }\n    }\n    return record\n  })\n\n  recordsVar({...oldVar, [key]: newRs})\n}\n\n\n\nexport function setRecord(sceneIdx: number, record) {\n  const oldVar = recordsVar()\n  const lessonId = currentLessonIdVar()\n  const key = `${lessonId}:${sceneIdx}`\n  const rs = oldVar[key] || []\n\n  recordsVar({...oldVar, [key]: [record, ...rs.slice(0, 2)]})\n  rs.slice(2).map((r) => {\n    URL.revokeObjectURL(r.audioUrl)\n  })\n}\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","import {Plugins} from '@capacitor/core'\nimport {Box} from '@chakra-ui/react'\n\nimport {\n  IonButton,\n  IonCol,\n  IonContent,\n  IonFooter,\n  IonGrid,\n  IonIcon,\n  IonItem,\n  IonLabel,\n  IonModal,\n  IonPage,\n  IonProgressBar,\n  IonRow,\n  IonSegment,\n  IonSegmentButton,\n  IonText,\n  IonTextarea,\n  useIonToast,\n} from '@ionic/react'\nimport {close} from 'ionicons/icons'\nimport * as React from 'react'\nimport ReactDOM from 'react-dom'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {currentLessonIdVar} from 'src/reactapp/apollo-client'\nimport {\n  Lesson,\n  useGetLessonDeatilQuery,\n  useGetProfileQuery,\n  useReportLessonIssueMutation,\n} from 'src/reactapp/types-and-hooks'\nimport {useStore} from 'src/reactapp/useStore'\nimport * as yup from 'yup'\nimport shallow from 'zustand/shallow'\nimport {getNativeStorage} from '../nativeStorage'\nimport {LessonPlayer} from './LessonPlayer'\nimport {LessonStepDictation} from './LessonStepDictation'\nimport {LessonStepHeader} from './LessonStepHeader'\nimport {LessonStepListen} from './LessonStepListen'\nimport {LessonStepReListen} from './LessonStepReListen'\nimport {LessonStepReview} from './LessonStepReview'\nimport {LessonStepPractice} from './step4Practice/LessonStepPractice'\nimport {useLessonStore} from './useLessonStore'\nimport {ErrorBoundary} from 'react-error-boundary'\nimport {msg} from 'src/reactapp/language/translation.en'\n\nconst {Keyboard, Filesystem, Device} = Plugins\n\ninterface CommonData {\n  profile: any\n  acronymsList: [any]\n}\n\nconst lessonParamsSchema = yup.object().shape({\n  subLessonId: yup.string().required(),\n  isDraft: yup.boolean().required(),\n})\n\nconst lessonSteps = [\n  {\n    name: 'Step 1 : Listen',\n    _id: 'Listen',\n  },\n  {\n    name: 'Step 2 : Dictation',\n    _id: 'Dictation',\n  },\n  {\n    name: 'Step 3 : Review',\n    _id: 'Review',\n  },\n  {\n    name: 'Step 4 : Practice',\n    _id: 'Practice',\n  },\n  {\n    name: 'Step 5 : Re-listen',\n    _id: 'Re-listen',\n  },\n]\nfunction ReportIssueModal({isOpen, onDismiss}) {\n  const sharedService = useStore((state) => state.sharedService)\n  const lesson = useLessonStore((state) => state.lesson)\n  const step = useLessonStore((state) => state.step)\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const [value, setValue] = React.useState('')\n  const [presentToast] = useIonToast()\n  const [reportIssue] = useReportLessonIssueMutation({\n    onCompleted: (data) => {\n      if (data.reportLessonIssue) {\n        presentToast(msg['CONTACT_US_REQUEST_SENT_SUCCESSFULLY'], 2000)\n        onDismiss()\n      } else {\n        presentToast(msg['TRY_AGAIN'], 2000)\n      }\n    },\n  })\n\n  async function handleSave() {\n    const message = value.trim()\n\n    if (message.length === 0) {\n      presentToast('Please enter a message.')\n      return\n    }\n\n    const info = await sharedService.getDeviceInfo()\n    const userPlatform = `${info.manufacturer} ( ${info.platform} ) ${info.model} ( ${info.osVersion} ) - ${info.appVersion}`\n\n    const report = {\n      message: message,\n      scene: sceneIdx + 1,\n      step: lessonSteps[step - 1].name,\n      lessonName: lesson.lessonName,\n      userPlatform: userPlatform,\n    }\n    reportIssue({\n      variables: {\n        report,\n      },\n    })\n  }\n\n  return (\n    <IonModal\n      mode=\"ios\"\n      isOpen={isOpen}\n      cssClass=\"reportIssueModal\"\n      onWillDismiss={onDismiss}\n    >\n      <div className=\"app-report-issue\">\n        <IonRow>\n          <IonCol>\n            <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol size=\"11\" className=\"ion-align-self-center\">\n                <h4 className=\"ion-no-margin c-orange\">\n                  Would you like to report an issue?\n                </h4>\n              </IonCol>\n              <IonCol size=\"1\" className=\"ion-align-self-center ion-text-right\">\n                <IonIcon\n                  mode=\"md\"\n                  icon={close}\n                  className=\"pointer\"\n                  id=\"modal-dismiss\"\n                  onClick={onDismiss}\n                  // (click)=\"onDismiss()\"\n                ></IonIcon>\n              </IonCol>\n            </IonRow>\n\n            <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n              <IonCol size=\"12\" className=\"ion-align-self-center report-block\">\n                <IonItem lines=\"none\" className=\"issue-textarea ion-margin-bottom\">\n                  <IonTextarea\n                    rows={5}\n                    placeholder=\"Please write the issue here...\"\n                    value={value}\n                    onIonChange={(e) => setValue(e.detail.value)}\n                  ></IonTextarea>\n                </IonItem>\n                <IonText>- Lesson : {lesson.lessonName}</IonText>\n                <br />\n                <IonText>- Scene : {sceneIdx + 1}</IonText>\n                <br />\n                <IonText>- {lessonSteps[step - 1].name}</IonText>\n              </IonCol>\n            </IonRow>\n\n            <IonRow className=\"ion-align-items-center ion-justify-content-center ion-margin-top\">\n              <IonCol size=\"12\" className=\"ion-align-self-center\">\n                <IonButton\n                  mode=\"ios\"\n                  color=\"danger\"\n                  fill=\"outline\"\n                  shape=\"round\"\n                  expand=\"block\"\n                  onClick={handleSave}\n                >\n                  Submit\n                </IonButton>\n              </IonCol>\n            </IonRow>\n          </IonCol>\n        </IonRow>\n      </div>\n    </IonModal>\n  )\n}\n\nfunction LessonStepPage() {\n  const ionContentRef = React.useRef<HTMLIonContentElement>()\n  const footerRef = React.useRef<any>()\n  const [showReportModal, setShowReportModal] = React.useState(false)\n  const lesson = useLessonStore((state) => state.lesson)\n  const setScrollTop = useLessonStore((state) => state.setScrollTop)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const step = useLessonStore((state) => state.step)\n  const stop = useLessonStore((state) => state.stop)\n\n  function Footer(props) {\n    const [myPortal, setMyPortal] = React.useState<any>(null)\n    React.useEffect(() => {\n      if (footerRef.current) {\n        const portal = ReactDOM.createPortal(props.children, footerRef.current)\n        setMyPortal(portal)\n      }\n    }, [footerRef.current, setMyPortal])\n    return myPortal\n  }\n\n  function handleReportIssue() {\n    stop()\n    setShowReportModal(true)\n  }\n\n  return (\n    <IonPage className=\"lesson-step-page\">\n      <LessonStepHeader />\n      <IonContent\n        id=\"ion-content\"\n        ref={ionContentRef}\n        scrollEvents={true}\n        onIonScroll={(e) => {\n          setScrollTop(e.detail.scrollTop)\n        }}\n      >\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow className=\"lesson ion-align-items-center ion-justify-content-center\">\n            <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"10\" sizeLg=\"8\" sizeXl=\"8\">\n              {/* <Box className=\"lesson\"> */}\n              <LessonPlayer\n                youtubeId={lesson.youtubeId}\n                onClickReportIssue={handleReportIssue}\n              />\n\n              {ytPlayer && (\n                <>\n                  {step === 1 ? (\n                    <LessonStepListen Footer={Footer} />\n                  ) : step === 2 ? (\n                    <LessonStepDictation Footer={Footer} />\n                  ) : step === 3 ? (\n                    <LessonStepReview Footer={Footer} />\n                  ) : step === 4 ? (\n                    <LessonStepPractice Footer={Footer} />\n                  ) : step === 5 ? (\n                    <LessonStepReListen Footer={Footer} />\n                  ) : null}\n                </>\n              )}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n        {showReportModal && (\n          <ReportIssueModal\n            isOpen={showReportModal}\n            onDismiss={() => setShowReportModal(false)}\n          />\n        )}\n      </IonContent>\n      <IonFooter mode=\"ios\">\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow className=\"lesson ion-align-items-center ion-justify-content-center\">\n            <IonCol sizeXs=\"12\" sizeSm=\"12\" sizeMd=\"10\" sizeLg=\"8\" sizeXl=\"8\">\n              <div ref={footerRef}></div>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonFooter>\n    </IonPage>\n  )\n}\n\nfunction ErrorFallback({error, resetErrorBoundary}) {\n  return (\n    <div role=\"alert\">\n      <p>Something went wrong:</p>\n      <pre>{error.message}</pre>\n      <button onClick={resetErrorBoundary}>Try again</button>\n    </div>\n  )\n}\n\nfunction LessonStepsPage() {\n  const params = useParams<any>()\n  const {subLessonId, isDraft} = lessonParamsSchema.cast(params)\n  const loading = useLessonStore((state) => state.loading)\n  const init = useLessonStore((state) => state.init)\n  const setLesson = useLessonStore((state) => state.setLesson)\n\n  React.useEffect(() => {\n    return () => {\n      init()\n    }\n  }, [])\n\n  const lessonRes = useGetLessonDeatilQuery({\n    // fetchPolicy: 'cache-and-network',\n    variables: {\n      id: subLessonId,\n    },\n    onCompleted: (data) => {\n      currentLessonIdVar(data.lesson._id)\n      setLesson(data.lesson as Lesson)\n      // console.log(data.lesson)\n      // setLessonDetails(data.lesson as Lesson)\n    },\n    skip: !subLessonId,\n  })\n\n  if (loading || !lessonRes.data) {\n    return <IonProgressBar />\n  }\n\n  return (\n    <ErrorBoundary\n      FallbackComponent={ErrorFallback}\n      onReset={() => {\n        // reset the state of your app so the error doesn't happen again\n      }}\n    >\n      <LessonStepPage />\n    </ErrorBoundary>\n  )\n}\n\nasync function blobUrlToBase64(url): Promise<string> {\n  return new Promise((resolve, reject) => {\n    fetch(url)\n      .then((data) => {\n        const blob = data.blob()\n        return blob\n      })\n      .then((blob) => {\n        let reader = new window.FileReader()\n\n        reader.onloadend = function () {\n          const data = reader.result.toString()\n          resolve(data)\n          // console.log(data)\n        }\n\n        reader.readAsDataURL(blob)\n      })\n      .catch((err) => {\n        reject(err)\n      })\n  })\n}\n\n// const sampleRate = getAudioContext().sampleRate || 44100\n\nfunction useLessonNav(subLessonId) {\n  const [step, setStep] = React.useState(0)\n  const [scene, setScene] = React.useState(0)\n\n  async function restoreLeftData() {\n    const leftOf = await getNativeStorage('leftOfData')\n    console.log(leftOf)\n  }\n\n  React.useEffect(() => {\n    restoreLeftData()\n  }, [subLessonId])\n\n  return {\n    step,\n    scene,\n  }\n}\n\nexport default LessonStepsPage\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n// @ts-ignore\nimport cloneDeep from 'nanoclone';\nimport { mixed as locale } from './locale';\nimport Condition from './Condition';\nimport runTests from './util/runTests';\nimport createValidation from './util/createValidation';\nimport printValue from './util/printValue';\nimport Ref from './Reference';\nimport { getIn } from './util/reach';\nimport toArray from './util/toArray';\nimport ValidationError from './ValidationError';\nimport ReferenceSet from './util/ReferenceSet';\nexport default class BaseSchema {\n  constructor(options) {\n    this.deps = [];\n    this.conditions = [];\n    this._whitelist = new ReferenceSet();\n    this._blacklist = new ReferenceSet();\n    this.exclusiveTests = Object.create(null);\n    this.tests = [];\n    this.transforms = [];\n    this.withMutation(() => {\n      this.typeError(locale.notType);\n    });\n    this.type = (options == null ? void 0 : options.type) || 'mixed';\n    this.spec = _extends({\n      strip: false,\n      strict: false,\n      abortEarly: true,\n      recursive: true,\n      nullable: false,\n      presence: 'optional'\n    }, options == null ? void 0 : options.spec);\n  } // TODO: remove\n\n\n  get _type() {\n    return this.type;\n  }\n\n  _typeCheck(_value) {\n    return true;\n  }\n\n  clone(spec) {\n    if (this._mutate) {\n      if (spec) Object.assign(this.spec, spec);\n      return this;\n    } // if the nested value is a schema we can skip cloning, since\n    // they are already immutable\n\n\n    const next = Object.create(Object.getPrototypeOf(this)); // @ts-expect-error this is readonly\n\n    next.type = this.type;\n    next._typeError = this._typeError;\n    next._whitelistError = this._whitelistError;\n    next._blacklistError = this._blacklistError;\n    next._whitelist = this._whitelist.clone();\n    next._blacklist = this._blacklist.clone();\n    next.exclusiveTests = _extends({}, this.exclusiveTests); // @ts-expect-error this is readonly\n\n    next.deps = [...this.deps];\n    next.conditions = [...this.conditions];\n    next.tests = [...this.tests];\n    next.transforms = [...this.transforms];\n    next.spec = cloneDeep(_extends({}, this.spec, spec));\n    return next;\n  }\n\n  label(label) {\n    var next = this.clone();\n    next.spec.label = label;\n    return next;\n  }\n\n  meta(...args) {\n    if (args.length === 0) return this.spec.meta;\n    let next = this.clone();\n    next.spec.meta = Object.assign(next.spec.meta || {}, args[0]);\n    return next;\n  } // withContext<TContext extends AnyObject>(): BaseSchema<\n  //   TCast,\n  //   TContext,\n  //   TOutput\n  // > {\n  //   return this as any;\n  // }\n\n\n  withMutation(fn) {\n    let before = this._mutate;\n    this._mutate = true;\n    let result = fn(this);\n    this._mutate = before;\n    return result;\n  }\n\n  concat(schema) {\n    if (!schema || schema === this) return this;\n    if (schema.type !== this.type && this.type !== 'mixed') throw new TypeError(`You cannot \\`concat()\\` schema's of different types: ${this.type} and ${schema.type}`);\n    let base = this;\n    let combined = schema.clone();\n\n    const mergedSpec = _extends({}, base.spec, combined.spec); // if (combined.spec.nullable === UNSET)\n    //   mergedSpec.nullable = base.spec.nullable;\n    // if (combined.spec.presence === UNSET)\n    //   mergedSpec.presence = base.spec.presence;\n\n\n    combined.spec = mergedSpec;\n    combined._typeError || (combined._typeError = base._typeError);\n    combined._whitelistError || (combined._whitelistError = base._whitelistError);\n    combined._blacklistError || (combined._blacklistError = base._blacklistError); // manually merge the blacklist/whitelist (the other `schema` takes\n    // precedence in case of conflicts)\n\n    combined._whitelist = base._whitelist.merge(schema._whitelist, schema._blacklist);\n    combined._blacklist = base._blacklist.merge(schema._blacklist, schema._whitelist); // start with the current tests\n\n    combined.tests = base.tests;\n    combined.exclusiveTests = base.exclusiveTests; // manually add the new tests to ensure\n    // the deduping logic is consistent\n\n    combined.withMutation(next => {\n      schema.tests.forEach(fn => {\n        next.test(fn.OPTIONS);\n      });\n    });\n    return combined;\n  }\n\n  isType(v) {\n    if (this.spec.nullable && v === null) return true;\n    return this._typeCheck(v);\n  }\n\n  resolve(options) {\n    let schema = this;\n\n    if (schema.conditions.length) {\n      let conditions = schema.conditions;\n      schema = schema.clone();\n      schema.conditions = [];\n      schema = conditions.reduce((schema, condition) => condition.resolve(schema, options), schema);\n      schema = schema.resolve(options);\n    }\n\n    return schema;\n  }\n  /**\n   *\n   * @param {*} value\n   * @param {Object} options\n   * @param {*=} options.parent\n   * @param {*=} options.context\n   */\n\n\n  cast(value, options = {}) {\n    let resolvedSchema = this.resolve(_extends({\n      value\n    }, options));\n\n    let result = resolvedSchema._cast(value, options);\n\n    if (value !== undefined && options.assert !== false && resolvedSchema.isType(result) !== true) {\n      let formattedValue = printValue(value);\n      let formattedResult = printValue(result);\n      throw new TypeError(`The value of ${options.path || 'field'} could not be cast to a value ` + `that satisfies the schema type: \"${resolvedSchema._type}\". \\n\\n` + `attempted value: ${formattedValue} \\n` + (formattedResult !== formattedValue ? `result of cast: ${formattedResult}` : ''));\n    }\n\n    return result;\n  }\n\n  _cast(rawValue, _options) {\n    let value = rawValue === undefined ? rawValue : this.transforms.reduce((value, fn) => fn.call(this, value, rawValue, this), rawValue);\n\n    if (value === undefined) {\n      value = this.getDefault();\n    }\n\n    return value;\n  }\n\n  _validate(_value, options = {}, cb) {\n    let {\n      sync,\n      path,\n      from = [],\n      originalValue = _value,\n      strict = this.spec.strict,\n      abortEarly = this.spec.abortEarly\n    } = options;\n    let value = _value;\n\n    if (!strict) {\n      // this._validating = true;\n      value = this._cast(value, _extends({\n        assert: false\n      }, options)); // this._validating = false;\n    } // value is cast, we can check if it meets type requirements\n\n\n    let args = {\n      value,\n      path,\n      options,\n      originalValue,\n      schema: this,\n      label: this.spec.label,\n      sync,\n      from\n    };\n    let initialTests = [];\n    if (this._typeError) initialTests.push(this._typeError);\n    if (this._whitelistError) initialTests.push(this._whitelistError);\n    if (this._blacklistError) initialTests.push(this._blacklistError);\n    runTests({\n      args,\n      value,\n      path,\n      sync,\n      tests: initialTests,\n      endEarly: abortEarly\n    }, err => {\n      if (err) return void cb(err, value);\n      runTests({\n        tests: this.tests,\n        args,\n        path,\n        sync,\n        value,\n        endEarly: abortEarly\n      }, cb);\n    });\n  }\n\n  validate(value, options, maybeCb) {\n    let schema = this.resolve(_extends({}, options, {\n      value\n    })); // callback case is for nested validations\n\n    return typeof maybeCb === 'function' ? schema._validate(value, options, maybeCb) : new Promise((resolve, reject) => schema._validate(value, options, (err, value) => {\n      if (err) reject(err);else resolve(value);\n    }));\n  }\n\n  validateSync(value, options) {\n    let schema = this.resolve(_extends({}, options, {\n      value\n    }));\n    let result;\n\n    schema._validate(value, _extends({}, options, {\n      sync: true\n    }), (err, value) => {\n      if (err) throw err;\n      result = value;\n    });\n\n    return result;\n  }\n\n  isValid(value, options) {\n    return this.validate(value, options).then(() => true, err => {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    });\n  }\n\n  isValidSync(value, options) {\n    try {\n      this.validateSync(value, options);\n      return true;\n    } catch (err) {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    }\n  }\n\n  _getDefault() {\n    let defaultValue = this.spec.default;\n\n    if (defaultValue == null) {\n      return defaultValue;\n    }\n\n    return typeof defaultValue === 'function' ? defaultValue.call(this) : cloneDeep(defaultValue);\n  }\n\n  getDefault(options) {\n    let schema = this.resolve(options || {});\n    return schema._getDefault();\n  }\n\n  default(def) {\n    if (arguments.length === 0) {\n      return this._getDefault();\n    }\n\n    let next = this.clone({\n      default: def\n    });\n    return next;\n  }\n\n  strict(isStrict = true) {\n    var next = this.clone();\n    next.spec.strict = isStrict;\n    return next;\n  }\n\n  _isPresent(value) {\n    return value != null;\n  }\n\n  defined(message = locale.defined) {\n    return this.test({\n      message,\n      name: 'defined',\n      exclusive: true,\n\n      test(value) {\n        return value !== undefined;\n      }\n\n    });\n  }\n\n  required(message = locale.required) {\n    return this.clone({\n      presence: 'required'\n    }).withMutation(s => s.test({\n      message,\n      name: 'required',\n      exclusive: true,\n\n      test(value) {\n        return this.schema._isPresent(value);\n      }\n\n    }));\n  }\n\n  notRequired() {\n    var next = this.clone({\n      presence: 'optional'\n    });\n    next.tests = next.tests.filter(test => test.OPTIONS.name !== 'required');\n    return next;\n  }\n\n  nullable(isNullable = true) {\n    var next = this.clone({\n      nullable: isNullable !== false\n    });\n    return next;\n  }\n\n  transform(fn) {\n    var next = this.clone();\n    next.transforms.push(fn);\n    return next;\n  }\n  /**\n   * Adds a test function to the schema's queue of tests.\n   * tests can be exclusive or non-exclusive.\n   *\n   * - exclusive tests, will replace any existing tests of the same name.\n   * - non-exclusive: can be stacked\n   *\n   * If a non-exclusive test is added to a schema with an exclusive test of the same name\n   * the exclusive test is removed and further tests of the same name will be stacked.\n   *\n   * If an exclusive test is added to a schema with non-exclusive tests of the same name\n   * the previous tests are removed and further tests of the same name will replace each other.\n   */\n\n\n  test(...args) {\n    let opts;\n\n    if (args.length === 1) {\n      if (typeof args[0] === 'function') {\n        opts = {\n          test: args[0]\n        };\n      } else {\n        opts = args[0];\n      }\n    } else if (args.length === 2) {\n      opts = {\n        name: args[0],\n        test: args[1]\n      };\n    } else {\n      opts = {\n        name: args[0],\n        message: args[1],\n        test: args[2]\n      };\n    }\n\n    if (opts.message === undefined) opts.message = locale.default;\n    if (typeof opts.test !== 'function') throw new TypeError('`test` is a required parameters');\n    let next = this.clone();\n    let validate = createValidation(opts);\n    let isExclusive = opts.exclusive || opts.name && next.exclusiveTests[opts.name] === true;\n\n    if (opts.exclusive) {\n      if (!opts.name) throw new TypeError('Exclusive tests must provide a unique `name` identifying the test');\n    }\n\n    if (opts.name) next.exclusiveTests[opts.name] = !!opts.exclusive;\n    next.tests = next.tests.filter(fn => {\n      if (fn.OPTIONS.name === opts.name) {\n        if (isExclusive) return false;\n        if (fn.OPTIONS.test === validate.OPTIONS.test) return false;\n      }\n\n      return true;\n    });\n    next.tests.push(validate);\n    return next;\n  }\n\n  when(keys, options) {\n    if (!Array.isArray(keys) && typeof keys !== 'string') {\n      options = keys;\n      keys = '.';\n    }\n\n    let next = this.clone();\n    let deps = toArray(keys).map(key => new Ref(key));\n    deps.forEach(dep => {\n      // @ts-ignore\n      if (dep.isSibling) next.deps.push(dep.key);\n    });\n    next.conditions.push(new Condition(deps, options));\n    return next;\n  }\n\n  typeError(message) {\n    var next = this.clone();\n    next._typeError = createValidation({\n      message,\n      name: 'typeError',\n\n      test(value) {\n        if (value !== undefined && !this.schema.isType(value)) return this.createError({\n          params: {\n            type: this.schema._type\n          }\n        });\n        return true;\n      }\n\n    });\n    return next;\n  }\n\n  oneOf(enums, message = locale.oneOf) {\n    var next = this.clone();\n    enums.forEach(val => {\n      next._whitelist.add(val);\n\n      next._blacklist.delete(val);\n    });\n    next._whitelistError = createValidation({\n      message,\n      name: 'oneOf',\n\n      test(value) {\n        if (value === undefined) return true;\n        let valids = this.schema._whitelist;\n        return valids.has(value, this.resolve) ? true : this.createError({\n          params: {\n            values: valids.toArray().join(', ')\n          }\n        });\n      }\n\n    });\n    return next;\n  }\n\n  notOneOf(enums, message = locale.notOneOf) {\n    var next = this.clone();\n    enums.forEach(val => {\n      next._blacklist.add(val);\n\n      next._whitelist.delete(val);\n    });\n    next._blacklistError = createValidation({\n      message,\n      name: 'notOneOf',\n\n      test(value) {\n        let invalids = this.schema._blacklist;\n        if (invalids.has(value, this.resolve)) return this.createError({\n          params: {\n            values: invalids.toArray().join(', ')\n          }\n        });\n        return true;\n      }\n\n    });\n    return next;\n  }\n\n  strip(strip = true) {\n    let next = this.clone();\n    next.spec.strip = strip;\n    return next;\n  }\n\n  describe() {\n    const next = this.clone();\n    const {\n      label,\n      meta\n    } = next.spec;\n    const description = {\n      meta,\n      label,\n      type: next.type,\n      oneOf: next._whitelist.describe(),\n      notOneOf: next._blacklist.describe(),\n      tests: next.tests.map(fn => ({\n        name: fn.OPTIONS.name,\n        params: fn.OPTIONS.params\n      })).filter((n, idx, list) => list.findIndex(c => c.name === n.name) === idx)\n    };\n    return description;\n  }\n\n}\n// @ts-expect-error\nBaseSchema.prototype.__isYupSchema__ = true;\n\nfor (const method of ['validate', 'validateSync']) BaseSchema.prototype[`${method}At`] = function (path, value, options = {}) {\n  const {\n    parent,\n    parentPath,\n    schema\n  } = getIn(this, path, value, options.context);\n  return schema[method](parent && parent[parentPath], _extends({}, options, {\n    parent,\n    path\n  }));\n};\n\nfor (const alias of ['equals', 'is']) BaseSchema.prototype[alias] = BaseSchema.prototype.oneOf;\n\nfor (const alias of ['not', 'nope']) BaseSchema.prototype[alias] = BaseSchema.prototype.notOneOf;\n\nBaseSchema.prototype.optional = BaseSchema.prototype.notRequired;","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _sister = require('sister');\n\nvar _sister2 = _interopRequireDefault(_sister);\n\nvar _loadYouTubeIframeApi = require('./loadYouTubeIframeApi');\n\nvar _loadYouTubeIframeApi2 = _interopRequireDefault(_loadYouTubeIframeApi);\n\nvar _YouTubePlayer = require('./YouTubePlayer');\n\nvar _YouTubePlayer2 = _interopRequireDefault(_YouTubePlayer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @typedef YT.Player\n * @see https://developers.google.com/youtube/iframe_api_reference\n * */\n\n/**\n * @see https://developers.google.com/youtube/iframe_api_reference#Loading_a_Video_Player\n */\nvar youtubeIframeAPI = void 0;\n\n/**\n * A factory function used to produce an instance of YT.Player and queue function calls and proxy events of the resulting object.\n *\n * @param maybeElementId Either An existing YT.Player instance,\n * the DOM element or the id of the HTML element where the API will insert an <iframe>.\n * @param options See `options` (Ignored when using an existing YT.Player instance).\n * @param strictState A flag designating whether or not to wait for\n * an acceptable state when calling supported functions. Default: `false`.\n * See `FunctionStateMap.js` for supported functions and acceptable states.\n */\n\nexports.default = function (maybeElementId) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var strictState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var emitter = (0, _sister2.default)();\n\n  if (!youtubeIframeAPI) {\n    youtubeIframeAPI = (0, _loadYouTubeIframeApi2.default)(emitter);\n  }\n\n  if (options.events) {\n    throw new Error('Event handlers cannot be overwritten.');\n  }\n\n  if (typeof maybeElementId === 'string' && !document.getElementById(maybeElementId)) {\n    throw new Error('Element \"' + maybeElementId + '\" does not exist.');\n  }\n\n  options.events = _YouTubePlayer2.default.proxyEvents(emitter);\n\n  var playerAPIReady = new Promise(function (resolve) {\n    if ((typeof maybeElementId === 'undefined' ? 'undefined' : _typeof(maybeElementId)) === 'object' && maybeElementId.playVideo instanceof Function) {\n      var player = maybeElementId;\n\n      resolve(player);\n    } else {\n      // asume maybeElementId can be rendered inside\n      // eslint-disable-next-line promise/catch-or-return\n      youtubeIframeAPI.then(function (YT) {\n        // eslint-disable-line promise/prefer-await-to-then\n        var player = new YT.Player(maybeElementId, options);\n\n        emitter.on('ready', function () {\n          resolve(player);\n        });\n\n        return null;\n      });\n    }\n  });\n\n  var playerApi = _YouTubePlayer2.default.promisifyPlayer(playerAPIReady, strictState);\n\n  playerApi.on = emitter.on;\n  playerApi.off = emitter.off;\n\n  return playerApi;\n};\n\nmodule.exports = exports['default'];","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","function findIndex(arr, err) {\n  let idx = Infinity;\n  arr.some((key, ii) => {\n    var _err$path;\n\n    if (((_err$path = err.path) == null ? void 0 : _err$path.indexOf(key)) !== -1) {\n      idx = ii;\n      return true;\n    }\n  });\n  return idx;\n}\n\nexport default function sortByKeyOrder(keys) {\n  return (a, b) => {\n    return findIndex(keys, a) - findIndex(keys, b);\n  };\n}","import React from 'react'\nimport ReactPlayer from 'react-player'\nimport {Lesson} from 'src/reactapp/types-and-hooks'\nimport {YouTubePlayer} from 'youtube-player/dist/types'\nimport {Plugins} from '@capacitor/core'\nimport create from 'zustand'\nimport {useStore} from 'src/reactapp/useStore'\nconst {Storage} = Plugins\n\nexport interface LangScript {\n  txt: string\n  tip?: string\n}\n\nexport interface Scene {\n  start: number\n  end: number\n  langs: {\n    En: LangScript\n    Ko?: LangScript\n    Po?: LangScript\n    Sp?: LangScript\n    Vi?: LangScript\n  }\n}\n// export interface Lesson {\n//   lessonName: string\n//   youtubeId: string\n//   lessonId: string\n//   subLessonId: string\n//   scenes: Scene[]\n// }\ntype StudyRecord = {\n  dictationText\n}\n\nexport type LessonState = {\n  lesson: Lesson | null\n  loading: boolean\n  setLoading: (loading) => void\n  init: () => void\n  setLesson: (lesson: Lesson) => void\n  sceneIdx: number\n  step: number\n  moveNext: () => void\n  moveStep: (step: number) => void\n  moveScene: (sceneIdx: number) => void\n  dictationText: string\n  studyRecords: StudyRecord[]\n  setDictationText: (sceneIdx: number, text: string) => void\n  overlay: JSX.Element | string\n  setOverlay: (overlay: JSX.Element | string) => void\n  //\n  start: number\n  end: number | null\n  player: ReactPlayer | null\n  ytPlayer: YouTubePlayer\n  playerState: number\n  isPlaying: boolean\n  setPlayer: (player: YouTubePlayer) => void\n  setPlayerState: (state: number) => void\n  play: (start?: number, end?: number) => void\n  stop: (seek?: number) => void\n  rewind: (sec: number) => void\n  scrollTop: number\n  setScrollTop: (scrollTop: number) => void\n}\n\nconst SceneChangeOverlay = ({scnenNo, scenesLength}) => {\n  return (\n    <div style={{textAlign: 'center', fontWeight: 400, textShadow: '0px 0px 4px black'}}>\n      <h1 style={{fontSize: '3rem', opacity: 0.8}}>\n        {scnenNo} of {scenesLength}\n        <small>scenes</small>\n      </h1>\n    </div>\n  )\n}\n\nconst StepMap = {\n  Listen: 1,\n  Dictation: 2,\n  Review: 3,\n  Practice: 4,\n}\n\nasync function getLeftData(lesson: Lesson) {\n  const {sharedService} = useStore.getState()\n  const data = await sharedService.getNativeStorage('leftOfData')\n  const leftOf = data?.data\n  if (!leftOf || lesson._id !== leftOf.lessonID) return null\n\n  if (leftOf.version === 2) {\n    return {\n      sceneIdx: leftOf.sceneIdx,\n      step: leftOf.step,\n    }\n  } else {\n    const sceneIdx = lesson.scenes.findIndex(\n      (scene) => scene.start === leftOf.selectedLessonScene.start,\n    )\n    if (sceneIdx < 0) return null\n    const step = StepMap[leftOf.selectedLessonStep._id]\n    if (!step) return null\n    return {\n      sceneIdx,\n      step,\n    }\n  }\n}\n\nexport const useLessonStore = create<LessonState>((set, get) => ({\n  lesson: null,\n  loading: true,\n  start: 0,\n  end: null,\n  setLoading: (loading) => set({loading}),\n  init: () =>\n    set({\n      lesson: null,\n      loading: true,\n      studyRecords: null,\n      step: 1,\n      sceneIdx: 0,\n      ytPlayer: null,\n    }),\n  setLesson: async (lesson: Lesson) => {\n    const left = await getLeftData(lesson)\n\n    set({\n      lesson,\n      loading: false,\n      studyRecords: lesson.scenes.map((v) => ({dictationText: ''})),\n      // step: 5,\n      step: left ? left.step : 1,\n      sceneIdx: left ? left.sceneIdx : 0,\n      ytPlayer: null,\n    })\n  },\n  sceneIdx: 0,\n  step: 5,\n  moveNext: () => {\n    const {step, ytPlayer, sceneIdx, lesson, setOverlay} = get()\n    ytPlayer.pauseVideo()\n    const scene = lesson.scenes[sceneIdx]\n    ytPlayer.seekTo(scene.start, true)\n\n    // set({isPlaying: false})\n    setTimeout(() => {\n      if (step === 4) {\n        const nextSceneIdx = sceneIdx + 1\n        console.log(nextSceneIdx, lesson.scenes.length)\n        if (nextSceneIdx > lesson.scenes.length - 1) {\n          set({step: 5, sceneIdx: 0})\n        } else {\n          setOverlay(\n            <SceneChangeOverlay\n              scnenNo={nextSceneIdx + 1}\n              scenesLength={lesson.scenes.length}\n            />,\n          )\n          setTimeout(() => {\n            setOverlay(null)\n            set({step: 2, sceneIdx: nextSceneIdx})\n          }, 2000)\n        }\n      } else if (step === 1) {\n        set({step: step + 1, sceneIdx: 0})\n      } else if (step <= 3) {\n        set({step: step + 1})\n      } else {\n        set({step: 1})\n      }\n    }, 1)\n  },\n  moveStep: (step) => {\n    set({step: step, isPlaying: false})\n  },\n  moveScene: (sceneIdx) => {\n    const {lesson, ytPlayer, setOverlay} = get()\n    ytPlayer.pauseVideo()\n    const scene = lesson.scenes[sceneIdx]\n    ytPlayer.seekTo(scene.start, true)\n    setOverlay(\n      <SceneChangeOverlay scnenNo={sceneIdx + 1} scenesLength={lesson.scenes.length} />,\n    )\n    setTimeout(() => {\n      setOverlay(null)\n      set({step: 2, sceneIdx: sceneIdx})\n    }, 2000)\n  },\n  studyRecords: null,\n  dictationText: '',\n  setDictationText: (sceneIdx, text) => {\n    set((state) => ({\n      studyRecords: {\n        ...state.studyRecords,\n        [sceneIdx]: {dictationText: text},\n      },\n    }))\n  },\n  overlay: null,\n  setOverlay: (overlay) => set({overlay}),\n  player: null,\n  ytPlayer: null,\n  playerState: null,\n  isPlaying: false,\n  setPlayer: (player) => set({ytPlayer: player}),\n  setPlayerState: (state: number) => set({playerState: state}),\n  play: (start, end) => {\n    console.log('play', {start, end})\n    const {player, isPlaying, ytPlayer} = get()\n    console.log({isPlaying})\n    if ((start === 0 || start) && end) {\n      player.seekTo(start, 'seconds')\n      ytPlayer.seekTo(start, true)\n      set({start, end})\n      ytPlayer.playVideo()\n    } else {\n      const prevStart = get().start\n      const prevEnd = get().end\n      if (prevEnd && player.getCurrentTime() > prevEnd) {\n        // player.seekTo(prevStart || 0, 'seconds')\n        ytPlayer.seekTo(prevStart, true)\n      }\n      ytPlayer.playVideo()\n      // set({isPlaying: true})\n    }\n  },\n  stop: (seek) => {\n    const {ytPlayer} = get()\n    ytPlayer.pauseVideo()\n    if (seek) {\n      ytPlayer.seekTo(Math.floor(seek), true)\n    }\n  },\n  rewind: (sec) => {\n    const {ytPlayer} = get()\n    const cur = ytPlayer.getCurrentTime()\n    ytPlayer.seekTo(cur - sec, true)\n  },\n  scrollTop: 0,\n  setScrollTop: (scrollTop) => set({scrollTop}),\n}))\n\nuseLessonStore.subscribe<LessonState>(\n  (state) => {\n    if (state.lesson) {\n      const {sharedService} = useStore.getState()\n      if (state.step === 5) {\n        sharedService.removeNativeStorage('leftOfData')\n      } else {\n        sharedService.setNativeStorage('leftOfData', {\n          lessonID: state.lesson._id,\n          version: 2,\n          sceneIdx: state.sceneIdx,\n          step: state.step,\n        })\n      }\n    }\n  },\n  (state) => state,\n  (state, newState) => {\n    return state.sceneIdx === newState.sceneIdx && state.step === newState.step\n  },\n)\n","var asciiToArray = require('./_asciiToArray'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeToArray = require('./_unicodeToArray');\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nmodule.exports = stringToArray;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","//@ts-nocheck\nimport React from 'react'\nimport {Diagnostic} from '@ionic-native/diagnostic'\nimport {File} from '@ionic-native/file'\nimport {Media, MediaObject} from '@ionic-native/media'\nimport {useIonAlert} from '@ionic/react'\nimport {useGetRecordsQuery} from 'src/reactapp/types-and-hooks'\nimport {useLessonStore} from '../useLessonStore'\nimport {usePracticeContext} from './PracticeContext'\nimport {RecordButton} from './RecordButton'\nimport {RecordResultItem, RecordView} from './RecordView'\nimport {setRecord, setRecordSTT, useRecordIos} from './useRecordIos'\n\ninterface AudioMedia {\n  audioFile: MediaObject\n  fileName: string\n}\n\nexport default function IosRecordingView() {\n  const {setIsPlaying, setIsRecording} = usePracticeContext()\n  const [audioMedia, setAudioMedia] = React.useState<AudioMedia>()\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const [audioPlaying, setAudioPaying] = React.useState(false)\n  const {data} = useGetRecordsQuery({variables: {sceneIdx}})\n  const diagnostic = React.useMemo(() => new Diagnostic(), [])\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const [present] = useIonAlert()\n\n  const {status, startRecording, stopRecording} = useRecordIos({\n    onStop: (result) => {\n      console.log('onStop')\n      setRecord(sceneIdx, {...result, stt: null})\n    },\n  })\n\n  async function handleAudioPlay(fileName: string) {\n    ytPlayer.pauseVideo()\n    handleAudioStop()\n    const media = new Media()\n    const file = new File()\n    const audioFile = media.create(\n      file.tempDirectory.replace(/^file:\\/\\//, '') + fileName,\n    )\n    audioFile.play()\n    setAudioMedia({audioFile, fileName})\n    audioFile.onStatusUpdate.subscribe((status) => {\n      console.log({status})\n      if (status === media.MEDIA_STOPPED) {\n        handleAudioStop()\n      }\n    })\n\n    setAudioPaying(true)\n    setIsPlaying(true)\n  }\n\n  async function handleAudioStop() {\n    if (audioMedia) {\n      const {audioFile, fileName} = audioMedia\n      audioFile.stop()\n      audioFile.release()\n      setAudioMedia(null)\n    }\n    setAudioPaying(false)\n    setIsPlaying(false)\n  }\n\n  async function handleRecordStart() {\n    ytPlayer.pauseVideo()\n    handleAudioStop()\n\n    const status = await diagnostic.getMicrophoneAuthorizationStatus()\n    if (status === 'authorized') {\n      // this.startIosRecording()\n    } else if (status === 'not_determined') {\n      const reqStatus = await diagnostic.requestMicrophoneAuthorization()\n      if (reqStatus === 'authorized') {\n        // this.startIosRecording()\n      } else {\n        // this.recordingAction = 'Try Again'\n        // this.recording = false\n        // this.recordingPrepare = false\n        present('No Mic Permisson')\n      }\n    } else {\n      present('No Mic Permisson')\n      // this.recordingAction = 'Try Again'\n      // this.recording = false\n      // this.recordingPrepare = false\n      // this.micPermissionAlert()\n    }\n\n    startRecording()\n    setIsRecording(true)\n  }\n  async function handleRecordStop() {\n    stopRecording()\n    setIsRecording(false)\n  }\n\n  return (\n    <>\n      {data.records.map((r, i) =>\n        r.stt ? (\n          <RecordResultItem\n            key={r.audioUrl}\n            data={r.stt}\n            loading={false}\n            error={r.stt.error}\n            index={i}\n            isPlaying={audioMedia?.fileName === r.audioUrl && audioPlaying}\n            onPlay={() => {\n              handleAudioPlay(r.audioUrl)\n            }}\n            onStop={handleAudioStop}\n          />\n        ) : (\n          <RecordView\n            key={r.audioUrl}\n            audioAsBase64={r.audioAsBase64}\n            sampleRate={r.sampleRate}\n            index={i}\n            isPlaying={audioMedia?.fileName === r.audioUrl && audioPlaying}\n            onPlay={() => {\n              handleAudioPlay(r.audioUrl)\n            }}\n            onStop={handleAudioStop}\n            onCompleted={(data) => {\n              console.log('oncomplt', {data})\n              setRecordSTT(sceneIdx, i, data)\n            }}\n          />\n        ),\n      )}\n\n      <RecordButton\n        status={status}\n        onRecordStart={handleRecordStart}\n        onRecordStop={handleRecordStop}\n      />\n    </>\n  )\n}\n","// ES6 Map\nvar map\ntry {\n  map = Map\n} catch (_) { }\nvar set\n\n// ES6 Set\ntry {\n  set = Set\n} catch (_) { }\n\nfunction baseClone (src, circulars, clones) {\n  // Null/undefined/functions/etc\n  if (!src || typeof src !== 'object' || typeof src === 'function') {\n    return src\n  }\n\n  // DOM Node\n  if (src.nodeType && 'cloneNode' in src) {\n    return src.cloneNode(true)\n  }\n\n  // Date\n  if (src instanceof Date) {\n    return new Date(src.getTime())\n  }\n\n  // RegExp\n  if (src instanceof RegExp) {\n    return new RegExp(src)\n  }\n\n  // Arrays\n  if (Array.isArray(src)) {\n    return src.map(clone)\n  }\n\n  // ES6 Maps\n  if (map && src instanceof map) {\n    return new Map(Array.from(src.entries()))\n  }\n\n  // ES6 Sets\n  if (set && src instanceof set) {\n    return new Set(Array.from(src.values()))\n  }\n\n  // Object\n  if (src instanceof Object) {\n    circulars.push(src)\n    var obj = Object.create(src)\n    clones.push(obj)\n    for (var key in src) {\n      var idx = circulars.findIndex(function (i) {\n        return i === src[key]\n      })\n      obj[key] = idx > -1 ? clones[idx] : baseClone(src[key], circulars, clones)\n    }\n    return obj\n  }\n\n  // ???\n  return src\n}\n\nexport default function clone (src) {\n  return baseClone(src, [], [])\n}\n","import React from 'react'\nimport {useGetRecordsQuery} from 'src/reactapp/types-and-hooks'\nimport {useLessonStore} from '../useLessonStore'\nimport {usePracticeContext} from './PracticeContext'\nimport {RecordButton} from './RecordButton'\nimport {RecordResultItem, RecordView} from './RecordView'\nimport {setRecord, setRecordSTT, useRecordRtc} from './useRecordRtc'\n\nexport default function RecordingView() {\n  const audioRef = React.useRef<HTMLAudioElement>()\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const [audioPlaying, setAudioPaying] = React.useState(false)\n  const {data} = useGetRecordsQuery({variables: {sceneIdx}})\n  const practiceState = usePracticeContext()\n\n  const {status, startRecording, stopRecording, mediaBlobUrl} = useRecordRtc({\n    onStop: (result) => {\n      console.log('onStop')\n      setRecord(sceneIdx, {...result, stt: null})\n    },\n  })\n\n  async function handleAudioPlay(url) {\n    const audioEl = audioRef.current\n    if (audioEl) {\n      ytPlayer.pauseVideo()\n      audioEl.src = url\n      audioEl.play()\n\n      practiceState.setIsPlaying(true)\n      setAudioPaying(true)\n    }\n  }\n\n  async function handleAudioStop() {\n    const audioEl = audioRef.current\n    if (audioEl) {\n      audioEl.pause()\n      audioEl.currentTime = 0\n      practiceState.setIsPlaying(false)\n    }\n  }\n\n  async function handleRecordStart() {\n    ytPlayer.pauseVideo()\n    handleAudioStop()\n    practiceState.setIsRecording(true)\n    startRecording()\n  }\n  async function handleRecordStop() {\n    stopRecording()\n    practiceState.setIsRecording(false)\n  }\n\n  return (\n    <>\n      <audio\n        ref={audioRef}\n        hidden\n        onPlaying={() => {\n          setAudioPaying(true)\n        }}\n        onPause={() => {\n          setAudioPaying(false)\n        }}\n        onEnded={() => {\n          setAudioPaying(false)\n        }}\n      />\n\n      {audioRef.current && (\n        <>\n          {data.records.map((r, i) =>\n            r.stt ? (\n              <RecordResultItem\n                key={r.audioUrl}\n                data={r.stt}\n                loading={false}\n                error={r.stt.error}\n                index={i}\n                isPlaying={\n                  !audioRef.current.paused &&\n                  audioRef.current.src === r.audioUrl &&\n                  audioPlaying\n                }\n                onPlay={() => {\n                  handleAudioPlay(r.audioUrl)\n                }}\n                onStop={handleAudioStop}\n              />\n            ) : (\n              <RecordView\n                key={r.audioUrl}\n                audioAsBase64={r.audioAsBase64}\n                sampleRate={r.sampleRate}\n                index={i}\n                isPlaying={\n                  !audioRef.current.paused &&\n                  audioRef.current.src === r.audioUrl &&\n                  audioPlaying\n                }\n                onPlay={() => {\n                  handleAudioPlay(r.audioUrl)\n                }}\n                onStop={handleAudioStop}\n                onCompleted={(data) => {\n                  console.log('oncomplt', {data})\n                  setRecordSTT(sceneIdx, i, data)\n                }}\n              />\n            ),\n          )}\n        </>\n      )}\n\n      <RecordButton\n        status={status}\n        onRecordStart={handleRecordStart}\n        onRecordStop={handleRecordStop}\n      />\n    </>\n  )\n}\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport isAbsent from './util/isAbsent';\nimport isSchema from './util/isSchema';\nimport printValue from './util/printValue';\nimport { array as locale } from './locale';\nimport runTests from './util/runTests';\nimport ValidationError from './ValidationError';\nimport BaseSchema from './schema';\nexport function create(type) {\n  return new ArraySchema(type);\n}\nexport default class ArraySchema extends BaseSchema {\n  constructor(type) {\n    super({\n      type: 'array'\n    }); // `undefined` specifically means uninitialized, as opposed to\n    // \"no subtype\"\n\n    this.innerType = type;\n    this.withMutation(() => {\n      this.transform(function (values) {\n        if (typeof values === 'string') try {\n          values = JSON.parse(values);\n        } catch (err) {\n          values = null;\n        }\n        return this.isType(values) ? values : null;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return Array.isArray(v);\n  }\n\n  get _subType() {\n    return this.innerType;\n  }\n\n  _cast(_value, _opts) {\n    const value = super._cast(_value, _opts); //should ignore nulls here\n\n\n    if (!this._typeCheck(value) || !this.innerType) return value;\n    let isChanged = false;\n    const castArray = value.map((v, idx) => {\n      const castElement = this.innerType.cast(v, _extends({}, _opts, {\n        path: `${_opts.path || ''}[${idx}]`\n      }));\n\n      if (castElement !== v) {\n        isChanged = true;\n      }\n\n      return castElement;\n    });\n    return isChanged ? castArray : value;\n  }\n\n  _validate(_value, options = {}, callback) {\n    var _options$abortEarly, _options$recursive;\n\n    let errors = [];\n    let sync = options.sync;\n    let path = options.path;\n    let innerType = this.innerType;\n    let endEarly = (_options$abortEarly = options.abortEarly) != null ? _options$abortEarly : this.spec.abortEarly;\n    let recursive = (_options$recursive = options.recursive) != null ? _options$recursive : this.spec.recursive;\n    let originalValue = options.originalValue != null ? options.originalValue : _value;\n\n    super._validate(_value, options, (err, value) => {\n      if (err) {\n        if (!ValidationError.isError(err) || endEarly) {\n          return void callback(err, value);\n        }\n\n        errors.push(err);\n      }\n\n      if (!recursive || !innerType || !this._typeCheck(value)) {\n        callback(errors[0] || null, value);\n        return;\n      }\n\n      originalValue = originalValue || value; // #950 Ensure that sparse array empty slots are validated\n\n      let tests = new Array(value.length);\n\n      for (let idx = 0; idx < value.length; idx++) {\n        let item = value[idx];\n        let path = `${options.path || ''}[${idx}]`; // object._validate note for isStrict explanation\n\n        let innerOptions = _extends({}, options, {\n          path,\n          strict: true,\n          parent: value,\n          index: idx,\n          originalValue: originalValue[idx]\n        });\n\n        tests[idx] = (_, cb) => innerType.validate(item, innerOptions, cb);\n      }\n\n      runTests({\n        sync,\n        path,\n        value,\n        errors,\n        endEarly,\n        tests\n      }, callback);\n    });\n  }\n\n  clone(spec) {\n    const next = super.clone(spec);\n    next.innerType = this.innerType;\n    return next;\n  }\n\n  concat(schema) {\n    let next = super.concat(schema);\n    next.innerType = this.innerType;\n    if (schema.innerType) next.innerType = next.innerType ? // @ts-expect-error Lazy doesn't have concat()\n    next.innerType.concat(schema.innerType) : schema.innerType;\n    return next;\n  }\n\n  of(schema) {\n    // FIXME: this should return a new instance of array without the default to be\n    let next = this.clone();\n    if (!isSchema(schema)) throw new TypeError('`array.of()` sub-schema must be a valid yup schema not: ' + printValue(schema)); // FIXME(ts):\n\n    next.innerType = schema;\n    return next;\n  }\n\n  length(length, message = locale.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length === this.resolve(length);\n      }\n\n    });\n  }\n\n  min(min, message) {\n    message = message || locale.min;\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      // FIXME(ts): Array<typeof T>\n      test(value) {\n        return isAbsent(value) || value.length >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message) {\n    message = message || locale.max;\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length <= this.resolve(max);\n      }\n\n    });\n  }\n\n  ensure() {\n    return this.default(() => []).transform((val, original) => {\n      // We don't want to return `null` for nullable schema\n      if (this._typeCheck(val)) return val;\n      return original == null ? [] : [].concat(original);\n    });\n  }\n\n  compact(rejector) {\n    let reject = !rejector ? v => !!v : (v, i, a) => !rejector(v, i, a);\n    return this.transform(values => values != null ? values.filter(reject) : values);\n  }\n\n  describe() {\n    let base = super.describe();\n    if (this.innerType) base.innerType = this.innerType.describe();\n    return base;\n  }\n\n  nullable(isNullable = true) {\n    return super.nullable(isNullable);\n  }\n\n  defined() {\n    return super.defined();\n  }\n\n  required(msg) {\n    return super.required(msg);\n  }\n\n}\ncreate.prototype = ArraySchema.prototype; //\n// Interfaces\n//","export default (obj => obj && obj.__isYupSchema__);","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","const toString = Object.prototype.toString;\nconst errorToString = Error.prototype.toString;\nconst regExpToString = RegExp.prototype.toString;\nconst symbolToString = typeof Symbol !== 'undefined' ? Symbol.prototype.toString : () => '';\nconst SYMBOL_REGEXP = /^Symbol\\((.*)\\)(.*)$/;\n\nfunction printNumber(val) {\n  if (val != +val) return 'NaN';\n  const isNegativeZero = val === 0 && 1 / val < 0;\n  return isNegativeZero ? '-0' : '' + val;\n}\n\nfunction printSimpleValue(val, quoteStrings = false) {\n  if (val == null || val === true || val === false) return '' + val;\n  const typeOf = typeof val;\n  if (typeOf === 'number') return printNumber(val);\n  if (typeOf === 'string') return quoteStrings ? `\"${val}\"` : val;\n  if (typeOf === 'function') return '[Function ' + (val.name || 'anonymous') + ']';\n  if (typeOf === 'symbol') return symbolToString.call(val).replace(SYMBOL_REGEXP, 'Symbol($1)');\n  const tag = toString.call(val).slice(8, -1);\n  if (tag === 'Date') return isNaN(val.getTime()) ? '' + val : val.toISOString(val);\n  if (tag === 'Error' || val instanceof Error) return '[' + errorToString.call(val) + ']';\n  if (tag === 'RegExp') return regExpToString.call(val);\n  return null;\n}\n\nexport default function printValue(value, quoteStrings) {\n  let result = printSimpleValue(value, quoteStrings);\n  if (result !== null) return result;\n  return JSON.stringify(value, function (key, value) {\n    let result = printSimpleValue(this[key], quoteStrings);\n    if (result !== null) return result;\n    return value;\n  }, 2);\n}","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","import {IonButton, IonCol, IonRow} from '@ionic/react'\nimport React from 'react'\nimport {useLessonStore} from '../useLessonStore'\n\nexport function ScriptView() {\n  const lesson = useLessonStore((state) => state.lesson)\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n\n  const [showScript, setShowScript] = React.useState(true)\n\n  const scene = lesson.scenes[sceneIdx]\n  const script = scene.langs.En.txt\n\n  return (\n    <>\n      <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n        <IonCol size=\"6\" className=\"ion-align-self-center\">\n          <p className=\"c-dark-grey ion-no-margin\">Script:</p>\n        </IonCol>\n        <IonCol size=\"6\" className=\"ion-align-self-center\">\n          {showScript ? (\n            <IonButton\n              onClick={() => setShowScript(false)}\n              className=\"ion-float-right translation-btn\"\n              color=\"dark\"\n              mode=\"ios\"\n              shape=\"round\"\n              size=\"small\"\n              fill=\"outline\"\n              id=\"script-label\"\n            >\n              Hide\n            </IonButton>\n          ) : (\n            <IonButton\n              onClick={() => setShowScript(true)}\n              className=\"ion-float-right translation-btn\"\n              color=\"dark\"\n              mode=\"ios\"\n              fill=\"solid\"\n              shape=\"round\"\n              size=\"small\"\n            >\n              Show\n            </IonButton>\n          )}\n        </IonCol>\n      </IonRow>\n      {showScript && (\n        <IonRow className=\"ion-margin-bottom ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            <p className=\"ion-no-margin\" id=\"subTitle\">\n              {script}\n            </p>\n          </IonCol>\n        </IonRow>\n      )}\n    </>\n  )\n}\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","import React from 'react'\nimport {Box, Flex} from '@chakra-ui/react'\nimport {\n  IonButton,\n  IonCol,\n  IonIcon,\n  IonImg,\n  IonModal,\n  IonRow,\n  IonSkeletonText,\n  IonSpinner,\n  isPlatform,\n  useIonToast,\n} from '@ionic/react'\nimport {close} from 'ionicons/icons'\nimport {upperFirst} from 'lodash'\nimport Highlighter from 'react-highlight-words'\nimport {msg} from 'src/reactapp/language/translation.en'\nimport {\n  Phrase,\n  useGetProfileQuery,\n  useSearchDictionaryQuery,\n  useSetNoteMutation,\n} from 'src/reactapp/types-and-hooks'\nimport {useTextSelection} from 'use-text-selection'\nimport {useCurrentLesson} from './lessonHooks'\nimport {useLessonStore} from './useLessonStore'\nimport useSpeak from 'src/reactapp/useSpeak'\n\nconst NO_TRANSLATION_TEXT =\n  'Sorry, the translation for this lesson is missing. Please report it to the team using the exclamation mark (!) at the upper right corner of the video.'\n\nexport default function ScriptView() {\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n  const lesson = useCurrentLesson()\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  let [showTranslation, setShowTranslation] = React.useState(false)\n  let [showInfo, setShowInfo] = React.useState(false)\n\n  const scene = lesson.scenes[sceneIdx]\n\n  const langKey = profile.nativeLanguage.languageKey\n  const script = scene.langs.En.txt\n  const translation = scene.langs[langKey]\n    ? scene.langs[langKey].txt\n    : NO_TRANSLATION_TEXT\n  const tip = scene.langs[langKey]?.tip\n\n  return (\n    <>\n      <Flex alignItems=\"flex-end\">\n        <Box flex={1} color=\"#747474\">\n          Script:\n        </Box>\n        <IonButton\n          className=\"translation-btn\"\n          color=\"dark\"\n          mode=\"ios\"\n          shape=\"round\"\n          size=\"small\"\n          // id=\"script-label\"\n          id=\"translation\"\n          fill={showTranslation ? 'solid' : 'outline'}\n          onClick={() => setShowTranslation((v) => !v)}\n        >\n          Translation\n        </IonButton>\n        <Box p={1} onClick={() => setShowInfo(true)}>\n          <IonImg\n            src=\"../../../../../assets/images/dictionary-icon.png\"\n            className=\" dictionary-icon pointer\"\n          ></IonImg>\n        </Box>\n      </Flex>\n      <ScriptBox script={script} phrases={lesson.phrases} />\n      {showTranslation && (\n        <div className=\"ion-margin-top\">\n          <Box color=\"#747474\">Translation:</Box>\n          <Box mt=\"4px\">{translation}</Box>\n        </div>\n      )}\n      {tip && (\n        <div className=\"ion-margin-top\">\n          <Box color=\"#747474\">#Tip:</Box>\n          <Box>{tip}</Box>\n        </div>\n      )}\n\n      <IonModal\n        mode=\"ios\"\n        isOpen={showInfo}\n        cssClass=\"reviewingStepInfo\"\n        onDidDismiss={() => setShowInfo(false)}\n      >\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"9\" className=\"ion-align-self-center\">\n            <h4 className=\"ion-no-margin c-orange\">Use Dictionary</h4>\n          </IonCol>\n          <IonCol size=\"3\" className=\"ion-align-self-center ion-text-right\">\n            <IonIcon\n              mode=\"md\"\n              icon={close}\n              className=\"pointer\"\n              id=\"modal-dismiss\"\n              onClick={() => setShowInfo(false)}\n            ></IonIcon>\n          </IonCol>\n        </IonRow>\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            <p>\n              {isPlatform('mobile')\n                ? 'Long press any words to learn the meanings'\n                : 'Drag any words to learn the meanings'}\n            </p>\n          </IonCol>\n        </IonRow>\n      </IonModal>\n    </>\n  )\n}\n\nconst langKeyMap = {\n  En: 'Eng',\n  Ko: 'Kor',\n  Sp: 'Spa',\n  Vi: 'Vie',\n  Po: 'Por',\n}\n\ninterface WordDialogProps {\n  word: string\n  loading: boolean\n  saveDisabled?: boolean\n  onDismiss: () => void\n  onSaveClick: () => void\n}\n\nconst WordDialog: React.FC<WordDialogProps> = ({\n  word,\n  onDismiss,\n  onSaveClick,\n  loading,\n  children,\n  saveDisabled,\n}) => {\n  const speak = useSpeak()\n  return (\n    <IonRow>\n      <IonCol>\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"9\" className=\"ion-align-self-center\">\n            <h5 className=\"ion-no-margin c-red header\">\n              <img\n                id=\"play-icon\"\n                className=\"pointer\"\n                src=\"../../../../../../assets/images/icon_play.svg\"\n                onClick={() => {\n                  speak(word)\n                }}\n              />\n              <strong>{word}</strong>\n            </h5>\n          </IonCol>\n          <IonCol size=\"3\" className=\"ion-align-self-center ion-text-right\">\n            <IonIcon\n              mode=\"md\"\n              icon={close}\n              className=\"pointer\"\n              id=\"modal-dismiss\"\n              onClick={onDismiss}\n              //   (click)=\"onDismiss()\"\n            ></IonIcon>\n          </IonCol>\n        </IonRow>\n        <IonRow\n          className=\"ion-align-items-center ion-justify-content-center\"\n          style={{top: '17%'}}\n        >\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            {children}\n          </IonCol>\n        </IonRow>\n\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            <IonButton\n              mode=\"ios\"\n              color=\"danger\"\n              shape=\"round\"\n              expand=\"block\"\n              onClick={onSaveClick}\n              disabled={saveDisabled || loading}\n            >\n              {loading ? <IonSpinner /> : <strong>SAVE</strong>}\n            </IonButton>\n          </IonCol>\n        </IonRow>\n      </IonCol>\n    </IonRow>\n  )\n}\n\nfunction PhraseMeaning({\n  phraseWord,\n  onDismiss,\n}: {\n  phraseWord: Phrase\n  onDismiss: () => void\n}) {\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n  const [presentToast] = useIonToast()\n  const [setNote, {loading: saveLoading}] = useSetNoteMutation({\n    onCompleted: (data) => {\n      if (data.setNote) {\n        presentToast(msg[data.setNote], 2000)\n      } else {\n        presentToast(msg['TRY_AGAIN'], 2000)\n      }\n    },\n  })\n\n  const languageKey = profile?.nativeLanguage?.languageKey\n  const engMean =\n    phraseWord.meanings.find((m) => m.lang === langKeyMap.En)?.meaning ||\n    phraseWord.meaning\n  const myMean = phraseWord.meanings.find((m) => m.lang === langKeyMap[languageKey])\n\n  function handleSave() {\n    setNote({\n      variables: {\n        wordData: {\n          word: phraseWord.word,\n          meaning: engMean,\n          kor: myMean?.meaning || '',\n          noun: '',\n          verb: '',\n          adv: '',\n          adj: '',\n        },\n      },\n    })\n  }\n\n  return (\n    <WordDialog\n      word={phraseWord.word}\n      loading={saveLoading}\n      onSaveClick={handleSave}\n      onDismiss={onDismiss}\n    >\n      <p>\n        <b className=\"c-orange\">(Eng)</b> {engMean}\n      </p>\n      {myMean && (\n        <p>\n          <b className=\"c-orange\">({myMean.lang})</b> {myMean.meaning}\n        </p>\n      )}\n    </WordDialog>\n  )\n}\n\nfunction WordMeaning({word, onDismiss}) {\n  const [presentToast] = useIonToast()\n  const [notFound, setNotFound] = React.useState(false)\n  const {loading, data, error} = useSearchDictionaryQuery({\n    variables: {search: word},\n    onCompleted: (data) => {\n      if (!data.dictionary) {\n        presentToast('Word not found', 2000)\n        setNotFound(true)\n        // onDismiss()\n      }\n    },\n  })\n  const keys = ['korean', 'noun', 'verb', 'adverb', 'adjective']\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n\n  const [setNote, {loading: saveLoading}] = useSetNoteMutation({\n    onCompleted: (data) => {\n      if (data.setNote) {\n        presentToast(msg[data.setNote], 2000)\n      } else {\n        presentToast(msg['TRY_AGAIN'], 2000)\n      }\n    },\n  })\n\n  const languageKey = profile?.nativeLanguage?.languageKey\n\n  function handleSave() {\n    if (notFound) {\n      return\n    }\n    const {dictionary} = data\n\n    setNote({\n      variables: {\n        wordData: {\n          word: word,\n          meaning: '',\n          kor: languageKey === 'Ko' ? data.dictionary.meaning.korean : '',\n          noun: dictionary.meaning.noun,\n          verb: dictionary.meaning.verb,\n          adv: dictionary.meaning.adverb,\n          adj: dictionary.meaning.adjective,\n        },\n      },\n    })\n  }\n\n  return (\n    <WordDialog\n      word={word}\n      loading={saveLoading}\n      onSaveClick={handleSave}\n      saveDisabled={notFound}\n      onDismiss={onDismiss}\n    >\n      {loading ? (\n        <>\n          <IonSkeletonText />\n          <IonSkeletonText />\n          <IonSkeletonText />\n        </>\n      ) : notFound ? (\n        <Box color=\"#e22d2d\">Word not Found</Box>\n      ) : error ? (\n        <Box>{error}</Box>\n      ) : !data?.dictionary ? (\n        <Box>not found </Box>\n      ) : (\n        keys\n          .filter((key) => data.dictionary.meaning[key])\n          .map((key) => (\n            <p\n              key={key}\n              // *ngIf=\"meaning?.korean && userSubTitleLanguage?.languageKey === 'Ko'\"\n            >\n              <b className=\"c-orange\">({upperFirst(key)})</b>{' '}\n              {data.dictionary.meaning[key]}\n            </p>\n          ))\n      )}\n    </WordDialog>\n  )\n}\n\nfunction ScriptBox({script, phrases}) {\n  const ref = React.useRef()\n  const {clientRect, textContent, isCollapsed} = useTextSelection(ref.current)\n  const [dicWord, setDicWord] = React.useState(null)\n  const [selection, setSelection] = React.useState(null)\n  const [phraseWord, setPhraseWord] = React.useState<Phrase>(null)\n\n  React.useEffect(() => {\n    if (clientRect && textContent && ref.current) {\n      //@ts-ignore\n      const scriptRect = ref.current.getClientRects()[0]\n\n      const x = clientRect.x - scriptRect.x\n      const y = clientRect.y - scriptRect.y\n      const width = clientRect.width\n      const height = clientRect.height\n      const rect = {\n        x: x,\n        y: y,\n        width: clientRect.width,\n        height: clientRect.height,\n        top: height >= 0 ? y : y + height,\n        right: width >= 0 ? x + width : x,\n        bottom: height >= 0 ? y + height : y,\n        left: width >= 0 ? x : x + width,\n      }\n\n      setSelection({clientRect: rect, textContent})\n    } else {\n      let to = setTimeout(() => {\n        setSelection(null)\n      }, 20)\n      return () => {\n        clearTimeout(to)\n      }\n    }\n  }, [clientRect, textContent])\n\n  return (\n    <>\n      <div\n        style={{\n          position: 'relative',\n        }}\n      >\n        <div\n          ref={ref}\n          id=\"subTitle\"\n          style={{\n            marginTop: 4,\n            userSelect: 'text',\n            position: 'relative',\n          }}\n        >\n          <Highlighter\n            highlightClassName=\"phrase\"\n            searchWords={phrases\n              .map((p) => p.word)\n              .filter((word) => new RegExp(`\\\\b${word}\\\\b`, 'ig').test(script))}\n            autoEscape={true}\n            textToHighlight={script}\n            highlightTag={({children, highlightIndex}) => {\n              // console.log({children, highlightIndex})\n\n              return (\n                <Box\n                  userSelect=\"none\"\n                  display=\"inline\"\n                  bg=\"#e0e0ff\"\n                  onClick={() => {\n                    setPhraseWord(\n                      phrases.find(\n                        (p) => p.word.toUpperCase() === children.toUpperCase(),\n                      ),\n                    )\n                  }}\n                  className=\"highlighted-text\"\n                >\n                  {children}\n                </Box>\n              )\n            }}\n          />\n        </div>\n        {selection && (\n          <div\n            style={{\n              zIndex: 1000,\n              userSelect: 'none',\n              position: 'absolute',\n              left: selection.clientRect.left + selection.clientRect.width / 2,\n              top: selection.clientRect.bottom + 10,\n            }}\n            className=\"indicator\"\n          >\n            <div className=\"indicator__cta\">\n              <div\n                className=\"indicator__cta-link\"\n                style={{zIndex: 100}}\n                onClick={(e) => {\n                  console.log(e, selection)\n                  e.preventDefault()\n                  setDicWord(selection.textContent)\n                }}\n              >\n                Meaning of {selection.textContent}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n      <IonModal\n        mode=\"ios\"\n        isOpen={!!phraseWord}\n        cssClass=\"dictionaryModal\"\n        onDidDismiss={() => setPhraseWord(undefined)}\n      >\n        {phraseWord && (\n          <PhraseMeaning\n            phraseWord={phraseWord}\n            onDismiss={() => setPhraseWord(undefined)}\n          />\n        )}\n      </IonModal>\n      <IonModal\n        mode=\"ios\"\n        isOpen={!!dicWord}\n        cssClass=\"dictionaryModal\"\n        onDidDismiss={() => setDicWord(undefined)}\n        onWillDismiss={() => setDicWord(undefined)}\n      >\n        {dicWord && (\n          <WordMeaning word={dicWord} onDismiss={() => setDicWord(undefined)} />\n        )}\n      </IonModal>\n    </>\n  )\n}\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport resolvePathname from 'resolve-pathname';\nimport valueEqual from 'value-equal';\nimport warning from 'tiny-warning';\nimport invariant from 'tiny-invariant';\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n}\nfunction stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n}\nfunction hasBasename(path, prefix) {\n  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;\n}\nfunction stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n}\nfunction stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n}\nfunction parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n}\nfunction createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : \"?\" + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : \"#\" + hash;\n  return path;\n}\n\nfunction createLocation(path, state, key, currentLocation) {\n  var location;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n}\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n}\n\nfunction createTransitionManager() {\n  var prompt = null;\n\n  function setPrompt(nextPrompt) {\n    process.env.NODE_ENV !== \"production\" ? warning(prompt == null, 'A history supports only one prompt at a time') : void 0;\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  }\n\n  function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message') : void 0;\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  }\n\n  var listeners = [];\n\n  function appendListener(fn) {\n    var isActive = true;\n\n    function listener() {\n      if (isActive) fn.apply(void 0, arguments);\n    }\n\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function notifyListeners() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  }\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction getConfirmation(message, callback) {\n  callback(window.confirm(message)); // eslint-disable-line no-alert\n}\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n}\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\nfunction supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n}\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n}\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\nfunction isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n}\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nfunction getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n}\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nfunction createBrowserHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Browser history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props = props,\n      _props$forceRefresh = _props.forceRefresh,\n      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path, state, key);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  }\n\n  function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  }\n\n  var forceNextPop = false;\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  function createHref(location) {\n    return basename + createPath(location);\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history') : void 0;\n        window.location.href = href;\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history') : void 0;\n        window.location.replace(href);\n      }\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nfunction stripHash(url) {\n  var hashIndex = url.indexOf('#');\n  return hashIndex === -1 ? url : url.slice(0, hashIndex);\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n}\n\nfunction pushHashPath(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(stripHash(window.location.href) + '#' + path);\n}\n\nfunction createHashHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Hash history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n  var _props = props,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = _props.hashType,\n      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  function locationsAreEqual$$1(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  }\n\n  function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  }\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  } // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  function createHref(location) {\n    var baseTag = document.querySelector('base');\n    var href = '';\n\n    if (baseTag && baseTag.getAttribute('href')) {\n      href = stripHash(window.location.href);\n    }\n\n    return href + '#' + encodePath(basename + createPath(location));\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot push state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack') : void 0;\n        setState();\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot replace state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    process.env.NODE_ENV !== \"production\" ? warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser') : void 0;\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(HashChangeEvent$1, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(HashChangeEvent$1, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nfunction createMemoryHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      getUserConfirmation = _props.getUserConfirmation,\n      _props$initialEntries = _props.initialEntries,\n      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,\n      _props$initialIndex = _props.initialIndex,\n      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  }\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    return transitionManager.setPrompt(prompt);\n  }\n\n  function listen(listener) {\n    return transitionManager.appendListener(listener);\n  }\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nexport { createBrowserHistory, createHashHistory, createMemoryHistory, createLocation, locationsAreEqual, parsePath, createPath };\n","'use strict';\n\nvar Sister;\n\n/**\n* @link https://github.com/gajus/sister for the canonical source repository\n* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause\n*/\nSister = function () {\n    var sister = {},\n        events = {};\n\n    /**\n     * @name handler\n     * @function\n     * @param {Object} data Event data.\n     */\n\n    /**\n     * @param {String} name Event name.\n     * @param {handler} handler\n     * @return {listener}\n     */\n    sister.on = function (name, handler) {\n        var listener = {name: name, handler: handler};\n        events[name] = events[name] || [];\n        events[name].unshift(listener);\n        return listener;\n    };\n\n    /**\n     * @param {listener}\n     */\n    sister.off = function (listener) {\n        var index = events[listener.name].indexOf(listener);\n\n        if (index !== -1) {\n            events[listener.name].splice(index, 1);\n        }\n    };\n\n    /**\n     * @param {String} name Event name.\n     * @param {Object} data Event data.\n     */\n    sister.trigger = function (name, data) {\n        var listeners = events[name],\n            i;\n\n        if (listeners) {\n            i = listeners.length;\n            while (i--) {\n                listeners[i].handler(data);\n            }\n        }\n    };\n\n    return sister;\n};\n\nmodule.exports = Sister;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _loadScript = require('load-script');\n\nvar _loadScript2 = _interopRequireDefault(_loadScript);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (emitter) {\n  /**\n   * A promise that is resolved when window.onYouTubeIframeAPIReady is called.\n   * The promise is resolved with a reference to window.YT object.\n   */\n  var iframeAPIReady = new Promise(function (resolve) {\n    if (window.YT && window.YT.Player && window.YT.Player instanceof Function) {\n      resolve(window.YT);\n\n      return;\n    } else {\n      var protocol = window.location.protocol === 'http:' ? 'http:' : 'https:';\n\n      (0, _loadScript2.default)(protocol + '//www.youtube.com/iframe_api', function (error) {\n        if (error) {\n          emitter.trigger('error', error);\n        }\n      });\n    }\n\n    var previous = window.onYouTubeIframeAPIReady;\n\n    // The API will call this function when page has finished downloading\n    // the JavaScript for the player API.\n    window.onYouTubeIframeAPIReady = function () {\n      if (previous) {\n        previous();\n      }\n\n      resolve(window.YT);\n    };\n  });\n\n  return iframeAPIReady;\n};\n\nmodule.exports = exports['default'];","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction lcs(a, b, compareFunc) {\n    var M = a.length, N = b.length;\n    var MAX = M + N;\n    var v = { 1: 0 };\n    for (var d = 0; d <= MAX; ++d) {\n        for (var k = -d; k <= d; k += 2) {\n            var x = void 0;\n            if (k === -d || (k !== d && v[k - 1] + 1 < v[k + 1])) {\n                x = v[k + 1];\n            }\n            else {\n                x = v[k - 1] + 1;\n            }\n            var y = x - k;\n            while (x < M && y < N && compareFunc(a[x], b[y])) {\n                x++;\n                y++;\n            }\n            if (x === M && y === N) {\n                return d;\n            }\n            v[k] = x;\n        }\n    }\n    /* istanbul ignore next */\n    return -1; // never reach\n}\nvar Direct;\n(function (Direct) {\n    Direct[Direct[\"none\"] = 0] = \"none\";\n    Direct[Direct[\"horizontal\"] = 1] = \"horizontal\";\n    Direct[Direct[\"vertical\"] = 2] = \"vertical\";\n    Direct[Direct[\"diagonal\"] = 4] = \"diagonal\";\n    Direct[Direct[\"all\"] = 7] = \"all\";\n})(Direct || (Direct = {}));\nfunction getSolution(a, aStart, aEnd, b, bStart, bEnd, d, startDirect, endDirect, compareFunc, elementsChanged) {\n    var _a, _b, _c, _d;\n    if (d === 0) {\n        elementsChanged('same', a, aStart, aEnd, b, bStart, bEnd);\n        return;\n    }\n    else if (d === aEnd - aStart + (bEnd - bStart)) {\n        var removeFirst = (startDirect & Direct.horizontal ? 1 : 0) + (endDirect & Direct.vertical ? 1 : 0);\n        var addFirst = (startDirect & Direct.vertical ? 1 : 0) + (endDirect & Direct.horizontal ? 1 : 0);\n        if (removeFirst >= addFirst) {\n            aStart !== aEnd && elementsChanged('remove', a, aStart, aEnd, b, bStart, bStart);\n            bStart !== bEnd && elementsChanged('add', a, aEnd, aEnd, b, bStart, bEnd);\n        }\n        else {\n            bStart !== bEnd && elementsChanged('add', a, aStart, aStart, b, bStart, bEnd);\n            aStart !== aEnd && elementsChanged('remove', a, aStart, aEnd, b, bEnd, bEnd);\n        }\n        return;\n    }\n    var M = aEnd - aStart;\n    var N = bEnd - bStart;\n    var HALF = Math.floor(N / 2);\n    var now = {};\n    for (var k = -d - 1; k <= d + 1; ++k) {\n        now[k] = { d: Infinity, segments: 0, direct: Direct.none };\n    }\n    var preview = (_a = {},\n        _a[-d - 1] = { d: Infinity, segments: 0, direct: Direct.none },\n        _a[d + 1] = { d: Infinity, segments: 0, direct: Direct.none },\n        _a);\n    for (var y = 0; y <= HALF; ++y) {\n        _b = [preview, now], now = _b[0], preview = _b[1];\n        var _loop_1 = function (k) {\n            var x = y + k;\n            if (y === 0 && x === 0) {\n                now[k] = {\n                    d: 0,\n                    segments: 0,\n                    direct: startDirect,\n                };\n                return \"continue\";\n            }\n            var currentPoints = [\n                {\n                    direct: Direct.horizontal,\n                    d: now[k - 1].d + 1,\n                    segments: now[k - 1].segments + (now[k - 1].direct & Direct.horizontal ? 0 : 1),\n                },\n                {\n                    direct: Direct.vertical,\n                    d: preview[k + 1].d + 1,\n                    segments: preview[k + 1].segments + (preview[k + 1].direct & Direct.vertical ? 0 : 1),\n                },\n            ];\n            if (x > 0 && x <= M && y > 0 && y <= N && compareFunc(a[aStart + x - 1], b[bStart + y - 1])) {\n                currentPoints.push({\n                    direct: Direct.diagonal,\n                    d: preview[k].d,\n                    segments: preview[k].segments + (preview[k].direct & Direct.diagonal ? 0 : 1),\n                });\n            }\n            var bestValue = currentPoints.reduce(function (best, info) {\n                if (best.d > info.d) {\n                    return info;\n                }\n                else if (best.d === info.d && best.segments > info.segments) {\n                    return info;\n                }\n                return best;\n            });\n            currentPoints.forEach(function (info) {\n                if (bestValue.d === info.d && bestValue.segments === info.segments) {\n                    bestValue.direct |= info.direct;\n                }\n            });\n            now[k] = bestValue;\n        };\n        for (var k = -d; k <= d; ++k) {\n            _loop_1(k);\n        }\n    }\n    var now2 = {};\n    for (var k = -d - 1; k <= d + 1; ++k) {\n        now2[k] = { d: Infinity, segments: 0, direct: Direct.none };\n    }\n    var preview2 = (_c = {},\n        _c[-d - 1] = { d: Infinity, segments: 0, direct: Direct.none },\n        _c[d + 1] = { d: Infinity, segments: 0, direct: Direct.none },\n        _c);\n    for (var y = N; y >= HALF; --y) {\n        _d = [preview2, now2], now2 = _d[0], preview2 = _d[1];\n        var _loop_2 = function (k) {\n            var x = y + k;\n            if (y === N && x === M) {\n                now2[k] = {\n                    d: 0,\n                    segments: 0,\n                    direct: endDirect,\n                };\n                return \"continue\";\n            }\n            var currentPoints = [\n                {\n                    direct: Direct.horizontal,\n                    d: now2[k + 1].d + 1,\n                    segments: now2[k + 1].segments + (now2[k + 1].direct & Direct.horizontal ? 0 : 1),\n                },\n                {\n                    direct: Direct.vertical,\n                    d: preview2[k - 1].d + 1,\n                    segments: preview2[k - 1].segments + (preview2[k - 1].direct & Direct.vertical ? 0 : 1),\n                },\n            ];\n            if (x >= 0 && x < M && y >= 0 && y < N && compareFunc(a[aStart + x], b[bStart + y])) {\n                currentPoints.push({\n                    direct: Direct.diagonal,\n                    d: preview2[k].d,\n                    segments: preview2[k].segments + (preview2[k].direct & Direct.diagonal ? 0 : 1),\n                });\n            }\n            var bestValue = currentPoints.reduce(function (best, info) {\n                if (best.d > info.d) {\n                    return info;\n                }\n                else if (best.d === info.d && best.segments > info.segments) {\n                    return info;\n                }\n                return best;\n            });\n            currentPoints.forEach(function (info) {\n                if (bestValue.d === info.d && bestValue.segments === info.segments) {\n                    bestValue.direct |= info.direct;\n                }\n            });\n            now2[k] = bestValue;\n        };\n        for (var k = d; k >= -d; --k) {\n            _loop_2(k);\n        }\n    }\n    var best = {\n        k: -1,\n        d: Infinity,\n        segments: 0,\n        direct: Direct.none,\n    };\n    for (var k = -d; k <= d; ++k) {\n        var dSum = now[k].d + now2[k].d;\n        if (dSum < best.d) {\n            best.k = k;\n            best.d = dSum;\n            best.segments =\n                now[k].segments + now2[k].segments + (now[k].segments & now2[k].segments ? 0 : 1);\n            best.direct = now2[k].direct;\n        }\n        else if (dSum === best.d) {\n            var segments = now[k].segments + now2[k].segments + (now[k].segments & now2[k].segments ? 0 : 1);\n            if (segments < best.segments) {\n                best.k = k;\n                best.d = dSum;\n                best.segments = segments;\n                best.direct = now2[k].direct;\n            }\n            else if (segments === best.segments &&\n                !(best.direct & Direct.diagonal) &&\n                now2[k].direct & Direct.diagonal) {\n                best.k = k;\n                best.d = dSum;\n                best.segments = segments;\n                best.direct = now2[k].direct;\n            }\n        }\n    }\n    if (HALF + best.k === 0 && HALF === 0) {\n        HALF++;\n        now[best.k].direct = now2[best.k].direct;\n        now2[best.k].direct = preview2[best.k].direct;\n    }\n    getSolution(a, aStart, aStart + HALF + best.k, b, bStart, bStart + HALF, now[best.k].d, startDirect, now2[best.k].direct, compareFunc, elementsChanged);\n    getSolution(a, aStart + HALF + best.k, aEnd, b, bStart + HALF, bEnd, now2[best.k].d, now[best.k].direct, endDirect, compareFunc, elementsChanged);\n}\nfunction bestSubSequence(a, b, compareFunc, elementsChanged) {\n    var d = lcs(a, b, compareFunc);\n    getSolution(a, 0, a.length, b, 0, b.length, d, Direct.diagonal, Direct.all, compareFunc, elementsChanged);\n}\nexports.default = bestSubSequence;\n","\nmodule.exports = function load (src, opts, cb) {\n  var head = document.head || document.getElementsByTagName('head')[0]\n  var script = document.createElement('script')\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  opts = opts || {}\n  cb = cb || function() {}\n\n  script.type = opts.type || 'text/javascript'\n  script.charset = opts.charset || 'utf8';\n  script.async = 'async' in opts ? !!opts.async : true\n  script.src = src\n\n  if (opts.attrs) {\n    setAttributes(script, opts.attrs)\n  }\n\n  if (opts.text) {\n    script.text = '' + opts.text\n  }\n\n  var onend = 'onload' in script ? stdOnEnd : ieOnEnd\n  onend(script, cb)\n\n  // some good legacy browsers (firefox) fail the 'in' detection above\n  // so as a fallback we always set onload\n  // old IE will ignore this and new IE will set onload\n  if (!script.onload) {\n    stdOnEnd(script, cb);\n  }\n\n  head.appendChild(script)\n}\n\nfunction setAttributes(script, attrs) {\n  for (var attr in attrs) {\n    script.setAttribute(attr, attrs[attr]);\n  }\n}\n\nfunction stdOnEnd (script, cb) {\n  script.onload = function () {\n    this.onerror = this.onload = null\n    cb(null, script)\n  }\n  script.onerror = function () {\n    // this.onload = null here is necessary\n    // because even IE9 works not like others\n    this.onerror = this.onload = null\n    cb(new Error('Failed to load ' + this.src), script)\n  }\n}\n\nfunction ieOnEnd (script, cb) {\n  script.onreadystatechange = function () {\n    if (this.readyState != 'complete' && this.readyState != 'loaded') return\n    this.onreadystatechange = null\n    cb(null, script) // there is no way to catch loading errors in IE8\n  }\n}\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","export default \"@charset \\\"UTF-8\\\";\\n.lesson-step-page .youtube-handler {\\n  padding-top: 4px;\\n  background: #efefef;\\n  padding-bottom: 4px;\\n}\\n.lesson-step-page .youtube-handler .action-icon {\\n  font-size: 34px;\\n  vertical-align: middle;\\n}\\n.lesson-step-page .youtube-handler .steps-scenes-icon {\\n  vertical-align: middle;\\n  font-size: 28px;\\n}\\n.lesson-step-page .youtube-handler ion-icon {\\n  font-size: 35px;\\n}\\n.lesson-step-page .line-breaker {\\n  white-space: pre-line;\\n}\\n.lesson-step-page .play-rate-area-left {\\n  position: absolute;\\n  width: 30%;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n.lesson-step-page .play-rate-area-right {\\n  position: absolute;\\n  width: 30%;\\n  top: 0;\\n  bottom: 0;\\n  right: 0;\\n}\\n.lesson-step-page .padding, .lesson-step-page .re-listen .tab-content, .lesson-step-page .listen, .lesson-step-page .practice, .lesson-step-page .dictation {\\n  padding: 16px;\\n}\\n.lesson-step-page .dictionary-icon {\\n  width: 25px;\\n}\\n.lesson-step-page #info {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  width: 5%;\\n  max-width: 32px;\\n}\\n.lesson-step-page #playback-rate {\\n  position: absolute;\\n  bottom: 10px;\\n  right: 10px;\\n  width: 5%;\\n  max-width: 32px;\\n}\\n.lesson-step-page .lesson-loop {\\n  padding: 0px 3px;\\n  color: #7e7d7d;\\n}\\n.lesson-step-page ion-item.dictation-textarea {\\n  border: 1px solid #c6c6c6;\\n  border-radius: 10px;\\n  height: 121px;\\n}\\n.lesson-step-page ion-spinner {\\n  display: block;\\n  margin: 0 auto;\\n  height: 275px;\\n}\\n.lesson-step-page .mt-100 {\\n  margin-top: 100px;\\n}\\n.lesson-step-page .practice h5 {\\n  margin-left: 7px;\\n  font-weight: 600;\\n}\\n.lesson-step-page .reviewing h5 {\\n  margin-left: 7px;\\n  font-weight: 600;\\n  font-size: 18px;\\n  margin-top: 16px;\\n  margin-bottom: 10px;\\n  line-height: 1.2;\\n}\\n.lesson-step-page .reviewing .translation-btn {\\n  text-transform: capitalize;\\n  font-size: 11px;\\n  margin-right: 15px;\\n  --padding-start: 10px;\\n  --padding-end: 10px;\\n}\\n.lesson-step-page .reviewing ion-icon {\\n  font-size: 30px;\\n}\\n.lesson-step-page .reviewing #subTitle {\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n  -webkit-user-select: text;\\n  -moz-user-select: text;\\n  user-select: text;\\n}\\n.lesson-step-page .reviewing .review-diffs {\\n  border: 1px solid #c6c6c6;\\n  border-radius: 10px;\\n  height: 121px;\\n  overflow-y: scroll;\\n  padding: 5px 8px;\\n  margin-top: 16px;\\n}\\n.lesson-step-page .shadowing ion-text {\\n  color: #7e7d7d;\\n  font-size: 12px;\\n}\\n.lesson-step-page .shadowing ion-img {\\n  margin: 0 auto;\\n  width: 18%;\\n  margin-top: 7px;\\n}\\n.lesson-step-page ul.tools {\\n  display: none;\\n  list-style: none;\\n  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.5);\\n  border: solid 1px #000;\\n  position: absolute;\\n  background: #fff;\\n}\\n.lesson-step-page ul.tools li {\\n  display: inline-block;\\n  width: 10px;\\n  height: 20px;\\n  border: solid 1px #000;\\n  margin: 5px;\\n  padding: 5px 10px;\\n  cursor: pointer;\\n}\\n.lesson-step-page ion-footer ion-row ion-col {\\n  margin-bottom: 7px;\\n}\\n.lesson-step-page #lesson-steps {\\n  cursor: pointer;\\n  padding-left: 10px;\\n}\\n.lesson-step-page #lesson-steps .steps-scenes-icon {\\n  font-size: 25px;\\n  color: #7e7d7d;\\n}\\n.lesson-step-page #lesson-scenes {\\n  cursor: pointer;\\n  text-align: right;\\n  padding-right: 10px;\\n}\\n.lesson-step-page #lesson-scenes .steps-scenes-icon {\\n  font-size: 25px;\\n  color: #7e7d7d;\\n}\\n@media only screen and (max-width: 414px) {\\n  .lesson-step-page #info {\\n    width: 8%;\\n  }\\n  .lesson-step-page #playback-rate {\\n    width: 8%;\\n  }\\n  .lesson-step-page .shadowing ion-img {\\n    width: 35%;\\n  }\\n  .lesson-step-page #lesson-steps {\\n    padding-left: 10px;\\n    font-size: 14px;\\n  }\\n  .lesson-step-page #lesson-steps .steps-scenes-icon {\\n    font-size: 25px;\\n    color: #7e7d7d;\\n  }\\n  .lesson-step-page #lesson-scenes {\\n    text-align: right;\\n    padding-right: 10px;\\n    font-size: 14px;\\n  }\\n  .lesson-step-page #lesson-scenes .steps-scenes-icon {\\n    font-size: 25px;\\n    color: #7e7d7d;\\n  }\\n}\\n.lesson-step-page .confidence-level #checkmark-icon {\\n  color: #000000;\\n  font-size: 16px;\\n}\\n.lesson-step-page .confidence-level #checkmark-icon ion-icon {\\n  font-size: 24px;\\n  float: left;\\n  margin-right: 10px;\\n}\\n.lesson-step-page .confidence-level ion-progress-bar {\\n  height: 18px !important;\\n  border-radius: 25px !important;\\n  margin-top: 3px;\\n  margin-bottom: 0px;\\n  --background: #d8d8d8;\\n}\\n.lesson-step-page .confidence-level ion-progress-bar .progress,\\n.lesson-step-page .confidence-level ion-progress-bar .progress-indeterminate {\\n  border-radius: 25px !important;\\n}\\n.lesson-step-page .confidence-level ion-progress-bar.latest-confidence {\\n  --progress-background: #f8d980;\\n}\\n.lesson-step-page .confidence-level ion-progress-bar.old-confidence {\\n  --progress-background: #979797;\\n}\\n.lesson-step-page .percent {\\n  font-size: 16px !important;\\n}\\n.lesson-step-page .transcript ion-text {\\n  font-size: 16px;\\n}\\n.lesson-step-page .transcript p {\\n  margin-top: 10px;\\n}\\n.lesson-step-page .indicator {\\n  background-color: #e22d2d;\\n  position: absolute;\\n  z-index: 2;\\n}\\n.lesson-step-page .indicator__cta {\\n  position: absolute;\\n}\\n.lesson-step-page .indicator__cta-link {\\n  background-color: #e22d2d;\\n  border-radius: 5px 5px 5px 5px;\\n  bottom: 0px;\\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.13), 0 3px 6px rgba(0, 0, 0, 0.13);\\n  color: #ffffff;\\n  cursor: pointer;\\n  left: 0px;\\n  font-size: 14px;\\n  padding: 9px 11px;\\n  transform: translateX(-50%);\\n  white-space: nowrap;\\n}\\n.lesson-step-page .indicator__cta-link:before {\\n  bottom: 30px;\\n  font-size: 20px;\\n  left: 50%;\\n  line-height: 20px;\\n  content: \\\"▲\\\";\\n  color: #e22d2d;\\n  position: absolute;\\n  transform: translateX(-50%);\\n}\\n.lesson-step-page .indicator__cta-link:hover {\\n  background-color: #e22d2d;\\n  color: #ffffff;\\n}\\n.lesson-step-page .indicator__cta-link:hover:after {\\n  color: #e22d2d;\\n}\\n.lesson-step-page .dictation-guide-noti {\\n  position: fixed;\\n  top: 30%;\\n  left: 0;\\n  width: 100%;\\n  justify-content: center;\\n  display: flex;\\n  z-index: 1;\\n}\\n.lesson-step-page .dictation-guide-noti .noti-message {\\n  background-color: #e22d2d;\\n  max-width: 250px;\\n  border-radius: 25px;\\n  border-color: #e22d2d;\\n  color: #fff;\\n  text-align: center;\\n  padding: 14px 16px;\\n  font-size: 14px;\\n  box-shadow: 0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);\\n}\\n@-webkit-keyframes fadeout {\\n  from {\\n    opacity: 1;\\n  }\\n  to {\\n    opacity: 0;\\n  }\\n}\\n@keyframes fadeout {\\n  from {\\n    opacity: 1;\\n  }\\n  to {\\n    opacity: 0;\\n  }\\n}\\n.lesson-step-page .player-wrapper {\\n  background-color: #000;\\n  position: relative;\\n}\\n.lesson-step-page .player-wrapper .player-overlay {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  z-index: 200;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.lesson-step-page .player-wrapper .player-overlay .overlay-msg {\\n  background-color: #0007;\\n  color: white;\\n  display: flex;\\n  width: 100%;\\n  height: 100%;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.lesson-step-page .player-wrapper .player-overlay .play-btn {\\n  position: relative;\\n  overflow: hidden;\\n  border-radius: 10px;\\n  width: 95%;\\n  height: 60%;\\n  display: flex;\\n}\\n.lesson-step-page .player-wrapper .player-overlay .play-btn .touch-block {\\n  flex: 1;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.lesson-step-page .player-wrapper .player-overlay .play-btn .touch-block .fadeOut {\\n  -webkit-animation-name: fadeOut;\\n          animation-name: fadeOut;\\n  -webkit-animation-duration: 1s;\\n          animation-duration: 1s;\\n  -webkit-animation-delay: 0.1s;\\n          animation-delay: 0.1s;\\n}\\n.lesson-step-page .player-wrapper .player-overlay .play-btn .touch-block .label {\\n  font-size: 24px;\\n  background-color: #222a;\\n  border-radius: 6px;\\n  padding: 6px;\\n  color: white;\\n}\\n.lesson-step-page .player-wrapper .player-overlay .play-btn .play-pause {\\n  flex: 2;\\n}\\n.lesson-step-page .player-wrapper .player-overlay .play-btn .play-pause .label {\\n  font-size: 44px;\\n  background-color: #fff;\\n  border-radius: 6px;\\n  padding: 6px;\\n  color: white;\\n}\\n.lesson-step-page .player-wrapper .react-player {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n}\\n.lesson-step-page .listen h5 {\\n  font-size: 18px;\\n}\\n.lesson-step-page .re-listen .tab-content .show-hide-btn {\\n  text-transform: capitalize;\\n  font-size: 11px;\\n  margin-right: 15px;\\n  --padding-start: 10px;\\n  --padding-end: 10px;\\n}\\n.lesson-step-page .re-listen .tab-content .scripts {\\n  margin-top: 16px;\\n  clear: both;\\n}\\n.dictionaryModal {\\n  --width: 360px;\\n  --height: 360px;\\n}\\n.dictionaryModal .modal-wrapper .ion-page {\\n  padding: 15px;\\n  overflow: scroll;\\n}\\n.dictionaryModal .modal-wrapper .ion-page .header {\\n  display: flex;\\n  align-items: center;\\n}\\n.dictionaryModal .modal-wrapper .ion-page .header #play-icon {\\n  width: 11%;\\n  float: left;\\n  margin-right: 10px;\\n}\\n.dictionaryModal .modal-wrapper .ion-page #modal-dismiss {\\n  font-size: 25px;\\n}\\n.reviewingStepInfo {\\n  --width: 310px;\\n  --height: 160px;\\n}\\n.reviewingStepInfo .modal-wrapper .ion-page {\\n  padding: 15px;\\n}\\n.reviewingStepInfo .modal-wrapper .ion-page #modal-dismiss {\\n  font-size: 25px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL0xlc3NvblN0ZXBzUGFnZS5zY3NzIiwiLi4vLi4vLi4vLi4vTGVzc29uU3RlcExpc3Rlbi5zY3NzIiwiLi4vLi4vLi4vLi4vTGVzc29uU3RlcFJlTGlzdGVuLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FBQ2Q7RUFDRSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7QUFDSjtBQUFJO0VBQ0UsZUFBQTtFQUNBLHNCQUFBO0FBRU47QUFJSTtFQUNFLHNCQUFBO0VBQ0EsZUFBQTtBQUZOO0FBSUk7RUFDRSxlQUFBO0FBRk47QUFNRTtFQUNFLHFCQUFBO0FBSko7QUFPRTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLE1BQUE7RUFDQSxTQUFBO0VBQ0EsT0FBQTtBQUxKO0FBT0U7RUFDRSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxNQUFBO0VBQ0EsU0FBQTtFQUNBLFFBQUE7QUFMSjtBQVFFO0VBQ0UsYUFBQTtBQU5KO0FBb0JFO0VBQ0UsV0FBQTtBQWxCSjtBQW9CRTtFQUNFLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7RUFDQSxTQUFBO0VBQ0EsZUFBQTtBQWxCSjtBQW9CRTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxTQUFBO0VBQ0EsZUFBQTtBQWxCSjtBQW9CRTtFQUNFLGdCQUFBO0VBQ0EsY0FBQTtBQWxCSjtBQXFCRTtFQUNFLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0FBbkJKO0FBcUJFO0VBQ0UsY0FBQTtFQUNBLGNBQUE7RUFDQSxhQUFBO0FBbkJKO0FBcUJFO0VBQ0UsaUJBQUE7QUFuQko7QUF1Qkk7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0FBckJOO0FBMEJJO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7QUF4Qk47QUEyQkk7RUFDRSwwQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNB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OUVOIiwiZmlsZSI6Ikxlc3NvblN0ZXBzUGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxlc3Nvbi1zdGVwLXBhZ2Uge1xuICAueW91dHViZS1oYW5kbGVyIHtcbiAgICBwYWRkaW5nLXRvcDogNHB4O1xuICAgIGJhY2tncm91bmQ6ICNlZmVmZWY7XG4gICAgcGFkZGluZy1ib3R0b206IDRweDtcbiAgICAuYWN0aW9uLWljb24ge1xuICAgICAgZm9udC1zaXplOiAzNHB4O1xuICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICAgIC8vIHBhZGRpbmc6IDVweCA1cHggNXB4IDUuNXB4O1xuICAgICAgLy8gYm9yZGVyLXJhZGl1czogMjVweDtcbiAgICAgIC8vIGJhY2tncm91bmQ6ICNlZmVmZWY7XG4gICAgICAvLyBib3JkZXI6IDJweCBzb2xpZCAjMDAwO1xuICAgIH1cbiAgICAuc3RlcHMtc2NlbmVzLWljb24ge1xuICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICAgIGZvbnQtc2l6ZTogMjhweDtcbiAgICB9XG4gICAgaW9uLWljb24ge1xuICAgICAgZm9udC1zaXplOiAzNXB4O1xuICAgIH1cbiAgfVxuXG4gIC5saW5lLWJyZWFrZXIge1xuICAgIHdoaXRlLXNwYWNlOiBwcmUtbGluZTtcbiAgfVxuXG4gIC5wbGF5LXJhdGUtYXJlYS1sZWZ0IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgd2lkdGg6IDMwJTtcbiAgICB0b3A6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGxlZnQ6IDA7XG4gIH1cbiAgLnBsYXktcmF0ZS1hcmVhLXJpZ2h0IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgd2lkdGg6IDMwJTtcbiAgICB0b3A6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIHJpZ2h0OiAwO1xuICB9XG5cbiAgLnBhZGRpbmcge1xuICAgIHBhZGRpbmc6IDE2cHg7XG4gIH1cblxuICAuZGljdGF0aW9uIHtcbiAgICBAZXh0ZW5kIC5wYWRkaW5nO1xuICB9XG5cbiAgLnByYWN0aWNlIHtcbiAgICBAZXh0ZW5kIC5wYWRkaW5nO1xuICB9XG5cbiAgLy8gaW9uLWNvbCB7XG4gIC8vICAgcG9zaXRpb246IGluaXRpYWwgIWltcG9ydGFudDtcbiAgLy8gfVxuICAuZGljdGlvbmFyeS1pY29uIHtcbiAgICB3aWR0aDogMjVweDtcbiAgfVxuICAjaW5mbyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMTBweDtcbiAgICByaWdodDogMTBweDtcbiAgICB3aWR0aDogNSU7XG4gICAgbWF4LXdpZHRoOiAzMnB4O1xuICB9XG4gICNwbGF5YmFjay1yYXRlIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm90dG9tOiAxMHB4O1xuICAgIHJpZ2h0OiAxMHB4O1xuICAgIHdpZHRoOiA1JTtcbiAgICBtYXgtd2lkdGg6IDMycHg7XG4gIH1cbiAgLmxlc3Nvbi1sb29wIHtcbiAgICBwYWRkaW5nOiAwcHggM3B4O1xuICAgIGNvbG9yOiAjN2U3ZDdkO1xuICB9XG5cbiAgaW9uLWl0ZW0uZGljdGF0aW9uLXRleHRhcmVhIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYzZjNmM2O1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgaGVpZ2h0OiAxMjFweDtcbiAgfVxuICBpb24tc3Bpbm5lciB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgaGVpZ2h0OiAyNzVweDtcbiAgfVxuICAubXQtMTAwIHtcbiAgICBtYXJnaW4tdG9wOiAxMDBweDtcbiAgfVxuXG4gIC5wcmFjdGljZSB7XG4gICAgaDUge1xuICAgICAgbWFyZ2luLWxlZnQ6IDdweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgfVxuICB9XG5cbiAgLnJldmlld2luZyB7XG4gICAgaDUge1xuICAgICAgbWFyZ2luLWxlZnQ6IDdweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICBtYXJnaW4tdG9wOiAxNnB4O1xuICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjI7XG4gICAgfVxuXG4gICAgLnRyYW5zbGF0aW9uLWJ0biB7XG4gICAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbiAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgIG1hcmdpbi1yaWdodDogMTVweDtcbiAgICAgIC0tcGFkZGluZy1zdGFydDogMTBweDtcbiAgICAgIC0tcGFkZGluZy1lbmQ6IDEwcHg7XG4gICAgfVxuICAgIGlvbi1pY29uIHtcbiAgICAgIGZvbnQtc2l6ZTogMzBweDtcbiAgICB9XG4gICAgI3N1YlRpdGxlIHtcbiAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcbiAgICAgIC8vIC13ZWJraXQtdG91Y2gtY2FsbG91dDogdW5zZXQ7XG4gICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiB0ZXh0O1xuICAgICAgLWtodG1sLXVzZXItc2VsZWN0OiB0ZXh0O1xuICAgICAgLW1vei11c2VyLXNlbGVjdDogdGV4dDtcbiAgICAgIC1tcy11c2VyLXNlbGVjdDogdGV4dDtcbiAgICAgIHVzZXItc2VsZWN0OiB0ZXh0O1xuICAgIH1cbiAgICAucmV2aWV3LWRpZmZzIHtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjNmM2YzY7XG4gICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgICAgaGVpZ2h0OiAxMjFweDtcbiAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICAgIHBhZGRpbmc6IDVweCA4cHg7XG4gICAgICBtYXJnaW4tdG9wOiAxNnB4O1xuICAgIH1cbiAgfVxuICAuc2hhZG93aW5nIHtcbiAgICBpb24tdGV4dCB7XG4gICAgICBjb2xvcjogIzdlN2Q3ZDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB9XG4gICAgaW9uLWltZyB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIHdpZHRoOiAxOCU7XG4gICAgICBtYXJnaW4tdG9wOiA3cHg7XG4gICAgfVxuICB9XG5cbiAgdWwudG9vbHMge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDRweCByZ2JhKDAsIDAsIDAsIDAuNSk7XG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzAwMDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgfVxuICB1bC50b29scyBsaSB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHdpZHRoOiAxMHB4O1xuICAgIGhlaWdodDogMjBweDtcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjMDAwO1xuICAgIG1hcmdpbjogNXB4O1xuICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuICBpb24tZm9vdGVyIHtcbiAgICBpb24tcm93IHtcbiAgICAgIGlvbi1jb2wge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA3cHg7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgI2xlc3Nvbi1zdGVwcyB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHBhZGRpbmctbGVmdDogMTBweDtcblxuICAgIC5zdGVwcy1zY2VuZXMtaWNvbiB7XG4gICAgICBmb250LXNpemU6IDI1cHg7XG4gICAgICBjb2xvcjogIzdlN2Q3ZDtcbiAgICB9XG4gIH1cblxuICAjbGVzc29uLXNjZW5lcyB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG5cbiAgICAuc3RlcHMtc2NlbmVzLWljb24ge1xuICAgICAgZm9udC1zaXplOiAyNXB4O1xuICAgICAgY29sb3I6ICM3ZTdkN2Q7XG4gICAgfVxuICB9XG5cbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0MTRweCkge1xuICAgICNpbmZvIHtcbiAgICAgIHdpZHRoOiA4JTtcbiAgICB9XG4gICAgI3BsYXliYWNrLXJhdGUge1xuICAgICAgd2lkdGg6IDglO1xuICAgIH1cbiAgICAuc2hhZG93aW5nIHtcbiAgICAgIGlvbi1pbWcge1xuICAgICAgICB3aWR0aDogMzUlO1xuICAgICAgfVxuICAgIH1cbiAgICAjbGVzc29uLXN0ZXBzIHtcbiAgICAgIHBhZGRpbmctbGVmdDogMTBweDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcblxuICAgICAgLnN0ZXBzLXNjZW5lcy1pY29uIHtcbiAgICAgICAgZm9udC1zaXplOiAyNXB4O1xuICAgICAgICBjb2xvcjogIzdlN2Q3ZDtcbiAgICAgIH1cbiAgICB9XG4gICAgI2xlc3Nvbi1zY2VuZXMge1xuICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuXG4gICAgICAuc3RlcHMtc2NlbmVzLWljb24ge1xuICAgICAgICBmb250LXNpemU6IDI1cHg7XG4gICAgICAgIGNvbG9yOiAjN2U3ZDdkO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAuY29uZmlkZW5jZS1sZXZlbCB7XG4gICAgI2NoZWNrbWFyay1pY29uIHtcbiAgICAgIGNvbG9yOiAjMDAwMDAwO1xuICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgaW9uLWljb24ge1xuICAgICAgICBmb250LXNpemU6IDI0cHg7XG4gICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gICAgICB9XG4gICAgfVxuICAgIGlvbi1wcm9ncmVzcy1iYXIge1xuICAgICAgaGVpZ2h0OiAxOHB4ICFpbXBvcnRhbnQ7XG4gICAgICBib3JkZXItcmFkaXVzOiAyNXB4ICFpbXBvcnRhbnQ7XG4gICAgICBtYXJnaW4tdG9wOiAzcHg7XG4gICAgICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gICAgICAtLWJhY2tncm91bmQ6ICNkOGQ4ZDg7XG4gICAgICAucHJvZ3Jlc3MsXG4gICAgICAucHJvZ3Jlc3MtaW5kZXRlcm1pbmF0ZSB7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDI1cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICB9XG4gICAgaW9uLXByb2dyZXNzLWJhci5sYXRlc3QtY29uZmlkZW5jZSB7XG4gICAgICAtLXByb2dyZXNzLWJhY2tncm91bmQ6ICNmOGQ5ODA7XG4gICAgfVxuICAgIGlvbi1wcm9ncmVzcy1iYXIub2xkLWNvbmZpZGVuY2Uge1xuICAgICAgLS1wcm9ncmVzcy1iYWNrZ3JvdW5kOiAjOTc5Nzk3O1xuICAgIH1cbiAgfVxuICAucGVyY2VudCB7XG4gICAgZm9udC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7XG4gIH1cbiAgLnRyYW5zY3JpcHQge1xuICAgIGlvbi10ZXh0IHtcbiAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICB9XG4gICAgcCB7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIH1cbiAgfVxuICAuaW5kaWNhdG9yIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTIyZDJkO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB6LWluZGV4OiAyO1xuXG4gICAgJl9fY3RhIHtcbiAgICAgIC8vIHRvcDogLTIwcHg7XG4gICAgICAvLyBsZWZ0OiA1MCU7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgfVxuXG4gICAgJl9fY3RhLWxpbmsge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2UyMmQyZDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDVweCA1cHggNXB4IDVweDtcbiAgICAgIGJvdHRvbTogMHB4O1xuICAgICAgLy8gYm94LXNoYWRvdzogMnB4IDJweCA1cHggI2UyMmQyZDtcbiAgICAgIGJveC1zaGFkb3c6IDAgM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMTMpLCAwIDNweCA2cHggcmdiYSgwLCAwLCAwLCAwLjEzKTtcbiAgICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgbGVmdDogMHB4O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgLy8gcGFkZGluZzogMTFweDtcbiAgICAgIHBhZGRpbmc6IDlweCAxMXB4O1xuICAgICAgLy8gcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xuICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcblxuICAgICAgJjpiZWZvcmUge1xuICAgICAgICAvLyBib3R0b206IDI3cHg7XG4gICAgICAgIC8vIGZvbnQtc2l6ZTogMTVweDtcbiAgICAgICAgLy8gbGVmdDogNTAlO1xuICAgICAgICAvLyBsaW5lLWhlaWdodDogMTFweDtcblxuICAgICAgICBib3R0b206IDMwcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcblxuICAgICAgICBjb250ZW50OiAn4payJztcbiAgICAgICAgY29sb3I6ICNlMjJkMmQ7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xuICAgICAgfVxuXG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2UyMmQyZDtcbiAgICAgICAgLy8gYmFja2dyb3VuZC1jb2xvcjogI2UyZmYyZDtcbiAgICAgICAgY29sb3I6ICNmZmZmZmY7XG5cbiAgICAgICAgJjphZnRlciB7XG4gICAgICAgICAgY29sb3I6ICNlMjJkMmQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAuZGljdGF0aW9uLWd1aWRlLW5vdGkge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDMwJTtcbiAgICAvLyBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgLy8gdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICB6LWluZGV4OiAxO1xuICAgIC5ub3RpLW1lc3NhZ2Uge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2UyMmQyZDtcbiAgICAgIG1heC13aWR0aDogMjUwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiAyNXB4O1xuICAgICAgYm9yZGVyLWNvbG9yOiAjZTIyZDJkO1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBwYWRkaW5nOiAxNHB4IDE2cHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBib3gtc2hhZG93OiAwIDNweCA1cHggLTFweCByZ2JhKDAsIDAsIDAsIDAuMiksIDAgNnB4IDEwcHggMCByZ2JhKDAsIDAsIDAsIDAuMTQpLFxuICAgICAgICAwIDFweCAxOHB4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKTtcbiAgICB9XG4gIH1cblxuICBAa2V5ZnJhbWVzIGZhZGVvdXQge1xuICAgIGZyb20ge1xuICAgICAgb3BhY2l0eTogMTtcbiAgICB9XG4gICAgdG8ge1xuICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG4gIH1cblxuICAucGxheWVyLXdyYXBwZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIC8vIHBhZGRpbmctdG9wOiA1Ni4yNSU7IC8qIFBsYXllciByYXRpbzogMTAwIC8gKDEyODAgLyA3MjApICovXG4gICAgLnBsYXllci1vdmVybGF5IHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMDtcbiAgICAgIGxlZnQ6IDA7XG4gICAgICByaWdodDogMDtcbiAgICAgIGJvdHRvbTogMDtcbiAgICAgIHotaW5kZXg6IDIwMDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgIC8vIGJhY2tncm91bmQtY29sb3I6ICM0NDQ0O1xuICAgICAgLm92ZXJsYXktbXNnIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDc7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIC5wbGF5LWJ0biB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgLy8gYmFja2dyb3VuZC1jb2xvcjogIzgyMjtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgd2lkdGg6IDk1JTtcbiAgICAgICAgaGVpZ2h0OiA2MCU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIC50b3VjaC1ibG9jayB7XG4gICAgICAgICAgZmxleDogMTtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgLmZhZGVPdXQge1xuICAgICAgICAgICAgYW5pbWF0aW9uLW5hbWU6IGZhZGVPdXQ7XG4gICAgICAgICAgICBhbmltYXRpb24tZHVyYXRpb246IDFzO1xuICAgICAgICAgICAgYW5pbWF0aW9uLWRlbGF5OiAwLjFzO1xuICAgICAgICAgICAgLy8gYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGU7XG4gICAgICAgICAgICAvLyBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBsaW5lYXI7XG4gICAgICAgICAgICAvLyBhbmltYXRpb24tZGlyZWN0aW9uOiBhbHRlcm5hdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5sYWJlbCB7XG4gICAgICAgICAgICAvLyB3aWR0aDogMzBweDtcbiAgICAgICAgICAgIC8vIGhlaWdodDogMzBweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyMjJhO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgICAgcGFkZGluZzogNnB4O1xuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgLy8gYmFja2dyb3VuZC1jb2xvcjogcmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAuYmFja3dhcmQge1xuICAgICAgICAgIC8vIGJhY2tncm91bmQtY29sb3I6ICNhZmY7XG4gICAgICAgIH1cbiAgICAgICAgLnBsYXktcGF1c2Uge1xuICAgICAgICAgIGZsZXg6IDI7XG4gICAgICAgICAgLmxhYmVsIHtcbiAgICAgICAgICAgIC8vIHdpZHRoOiAzMHB4O1xuICAgICAgICAgICAgLy8gaGVpZ2h0OiAzMHB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiA0NHB4O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDZweDtcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIC8vIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gYmFja2dyb3VuZC1jb2xvcjogI2ZhYTtcbiAgICAgICAgfVxuICAgICAgICAuZm9yd2FyZCB7XG4gICAgICAgICAgLy8gYmFja2dyb3VuZC1jb2xvcjogI2ZmYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAucmVhY3QtcGxheWVyIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMDtcbiAgICAgIGxlZnQ6IDA7XG4gICAgfVxuICB9XG5cbiAgLy8gU3RlcDNcbn1cbkBpbXBvcnQgJ0xlc3NvblN0ZXBMaXN0ZW4uc2Nzcyc7XG5AaW1wb3J0ICdMZXNzb25TdGVwUmVMaXN0ZW4uc2Nzcyc7XG5cbi5kaWN0aW9uYXJ5TW9kYWwge1xuICAtLXdpZHRoOiAzNjBweDtcbiAgLS1oZWlnaHQ6IDM2MHB4O1xuICAubW9kYWwtd3JhcHBlciAuaW9uLXBhZ2Uge1xuICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgICAuaGVhZGVyIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgI3BsYXktaWNvbiB7XG4gICAgICAgIHdpZHRoOiAxMSU7XG4gICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gICAgICB9XG4gICAgfVxuICAgICNtb2RhbC1kaXNtaXNzIHtcbiAgICAgIGZvbnQtc2l6ZTogMjVweDtcbiAgICB9XG4gIH1cbn1cblxuLnJldmlld2luZ1N0ZXBJbmZvIHtcbiAgLS13aWR0aDogMzEwcHg7XG4gIC0taGVpZ2h0OiAxNjBweDtcbiAgLm1vZGFsLXdyYXBwZXIgLmlvbi1wYWdlIHtcbiAgICBwYWRkaW5nOiAxNXB4O1xuICAgICNtb2RhbC1kaXNtaXNzIHtcbiAgICAgIGZvbnQtc2l6ZTogMjVweDtcbiAgICB9XG4gIH1cbn1cbiIsIi5sZXNzb24tc3RlcC1wYWdlIHtcbiAgLmxpc3RlbiB7XG4gICAgQGV4dGVuZCAucGFkZGluZztcbiAgICBoNSB7XG4gICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgfVxuICB9XG59XG4iLCIubGVzc29uLXN0ZXAtcGFnZSB7XG4gIC5yZS1saXN0ZW4ge1xuICAgIC50YWItY29udGVudCB7XG4gICAgICAvLyBwYWRkaW5nOiAxNnB4IDEwcHg7XG4gICAgICBAZXh0ZW5kIC5wYWRkaW5nO1xuICAgICAgLy8gaDUge1xuICAgICAgLy8gICBmb250LXNpemU6IDE4cHg7XG4gICAgICAvLyB9XG4gICAgICAuc2hvdy1oaWRlLWJ0biB7XG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xuICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTVweDtcbiAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiAxMHB4O1xuICAgICAgICAtLXBhZGRpbmctZW5kOiAxMHB4O1xuICAgICAgfVxuICAgICAgLnNjcmlwdHMge1xuICAgICAgICBtYXJnaW4tdG9wOiAxNnB4O1xuICAgICAgICBjbGVhcjogYm90aDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ== */\";","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","import {\n  IonButton,\n  IonButtons,\n  IonHeader,\n  IonIcon,\n  IonTitle,\n  IonToolbar,\n  useIonAlert,\n} from '@ionic/react'\nimport * as React from 'react'\nimport {useLessonStore} from './useLessonStore'\nimport {useStore} from 'src/reactapp/useStore'\nimport {chevronBack} from 'ionicons/icons'\n\nconst stepTitles = {\n  1: 'Step 1 : Listen',\n  2: 'Step 2 : Dictation',\n  3: 'Step 3 : Review',\n  4: 'Step 4 : Practice',\n  5: 'Step 5 : Re-listen',\n}\nexport function LessonStepHeader() {\n  const navController = useStore((state) => state.navController)\n  const [present] = useIonAlert()\n  const lesson = useLessonStore((state) => state.lesson)\n  const step = useLessonStore((state) => state.step)\n\n  return (\n    <IonHeader mode=\"ios\">\n      <IonToolbar mode=\"ios\">\n        <IonButtons slot=\"start\">\n          <IonButton\n            mode=\"md\"\n            onClick={() => {\n              present({\n                message: 'Are you sure you want to exit lesson?',\n                buttons: [\n                  {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    cssClass: 'secondary',\n                    handler: (blah) => {\n                      console.log('Confirm Cancel: blah')\n                    },\n                  },\n                  {\n                    text: 'Okay',\n                    handler: () => {\n                      navController.pop().catch(() => {\n                        navController.navigateBack(`/dashboard/lessons`)\n                      })\n                    },\n                  },\n                ],\n              })\n            }}\n          >\n            <IonIcon color=\"dark\" slot=\"icon-only\" icon={chevronBack}></IonIcon>\n          </IonButton>\n        </IonButtons>\n        <IonTitle>{stepTitles[step] || lesson.lessonName}</IonTitle>\n        <div style={{textAlign: 'center'}}></div>\n        <IonButtons slot=\"end\">\n          <IonButton\n            mode=\"md\"\n            // routerDirection=\"root\"\n            // routerLink=\"/dashboard/lessons\"\n            onClick={() => {\n              present({\n                message: 'Are you sure you want to exit lesson?',\n                buttons: [\n                  {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    cssClass: 'secondary',\n                    handler: (blah) => {\n                      console.log('Confirm Cancel: blah')\n                    },\n                  },\n                  {\n                    text: 'Okay',\n                    handler: () => {\n                      navController.navigateRoot('/dashboard/lessons')\n                    },\n                  },\n                ],\n              })\n\n              // navController.navigateRoot()\n            }}\n          >\n            <IonIcon\n              color=\"dark\"\n              mode=\"md\"\n              slot=\"icon-only\"\n              src=\"/assets/images/home.svg\"\n            ></IonIcon>\n          </IonButton>\n        </IonButtons>\n      </IonToolbar>\n    </IonHeader>\n  )\n}\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","import {createContext, useContext} from 'React'\n\ninterface ContextValue {\n  isRecording: boolean\n  isPlaying: boolean\n  setIsRecording: React.Dispatch<React.SetStateAction<boolean>>\n  setIsPlaying: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nexport const PracticeContext = createContext<ContextValue>({\n  isRecording: false,\n  isPlaying: false,\n  setIsRecording: (v) => {},\n  setIsPlaying: (v) => {},\n})\n\nexport function usePracticeContext() {\n  return useContext(PracticeContext)\n}\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","import * as React from 'react'\nimport {IonCol, IonRow} from '@ionic/react'\nimport {useLessonStore} from './useLessonStore'\nimport PlayerStates from 'youtube-player/dist/constants/PlayerStates'\nimport {NextButton} from './NextButton'\nimport {ActionBar} from './ActionBar'\nimport {useCurrentLesson} from './lessonHooks'\n\nexport function LessonStepListen({Footer}) {\n  const lesson = useCurrentLesson()\n  const [sceneIdx, setSceneIdx] = React.useState(0)\n  const [isEnd, setIsEnd] = React.useState(false)\n  const moveNext = useLessonStore((state) => state.moveNext)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const play = useLessonStore((state) => state.play)\n  const playerState = useLessonStore((state) => state.playerState)\n  const setOverlay = useLessonStore((state) => state.setOverlay)\n\n  const scene = lesson.scenes[sceneIdx]\n\n  React.useEffect(() => {\n    ytPlayer.seekTo(scene.start, true)\n    ytPlayer.playVideo()\n    // setOverlay(<p>Scene {sceneIdx + 1}</p>)\n    setTimeout(() => {\n      setOverlay(null)\n    }, 500)\n  }, [scene])\n\n  React.useEffect(() => {\n    if (playerState === PlayerStates.PLAYING) {\n      const itv = setInterval(() => {\n        const cur = ytPlayer.getCurrentTime()\n        if (cur > scene.end) {\n          clearInterval(itv)\n          const lastIdx = lesson.scenes.length - 1\n          if (sceneIdx < lastIdx) {\n            ytPlayer.seekTo(scene.start, true)\n            setSceneIdx(sceneIdx + 1)\n          } else {\n            ytPlayer.pauseVideo()\n            setIsEnd(true)\n          }\n        }\n      }, 100)\n      return () => clearInterval(itv)\n    }\n  }, [playerState, scene, sceneIdx])\n\n  return (\n    <>\n      <ActionBar\n        onPlayClick={() => {\n          if (isEnd) {\n            ytPlayer.seekTo(lesson.scenes[0].start, true)\n            setSceneIdx(0)\n            setIsEnd(false)\n          } else {\n            play()\n          }\n        }}\n      />\n\n      <IonRow className=\"listen ion-align-items-center ion-justify-content-center\">\n        <IonCol\n          sizeXs=\"12\"\n          sizeSm=\"12\"\n          sizeMd=\"10\"\n          sizeLg=\"8\"\n          sizeXl=\"8\"\n          className=\"mt-100 ion-align-self-center\"\n        >\n          <h5 className=\"ion-text-center\">\n            First, listen carefully to the whole dialogue to see how much you can\n            understand.\n          </h5>\n        </IonCol>\n      </IonRow>\n      <Footer>\n        <NextButton onClick={moveNext} />\n      </Footer>\n    </>\n  )\n}\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","import printValue from './util/printValue';\nexport let mixed = {\n  default: '${path} is invalid',\n  required: '${path} is a required field',\n  oneOf: '${path} must be one of the following values: ${values}',\n  notOneOf: '${path} must not be one of the following values: ${values}',\n  notType: ({\n    path,\n    type,\n    value,\n    originalValue\n  }) => {\n    let isCast = originalValue != null && originalValue !== value;\n    let msg = `${path} must be a \\`${type}\\` type, ` + `but the final value was: \\`${printValue(value, true)}\\`` + (isCast ? ` (cast from the value \\`${printValue(originalValue, true)}\\`).` : '.');\n\n    if (value === null) {\n      msg += `\\n If \"null\" is intended as an empty value be sure to mark the schema as \\`.nullable()\\``;\n    }\n\n    return msg;\n  },\n  defined: '${path} must be defined'\n};\nexport let string = {\n  length: '${path} must be exactly ${length} characters',\n  min: '${path} must be at least ${min} characters',\n  max: '${path} must be at most ${max} characters',\n  matches: '${path} must match the following: \"${regex}\"',\n  email: '${path} must be a valid email',\n  url: '${path} must be a valid URL',\n  uuid: '${path} must be a valid UUID',\n  trim: '${path} must be a trimmed string',\n  lowercase: '${path} must be a lowercase string',\n  uppercase: '${path} must be a upper case string'\n};\nexport let number = {\n  min: '${path} must be greater than or equal to ${min}',\n  max: '${path} must be less than or equal to ${max}',\n  lessThan: '${path} must be less than ${less}',\n  moreThan: '${path} must be greater than ${more}',\n  positive: '${path} must be a positive number',\n  negative: '${path} must be a negative number',\n  integer: '${path} must be an integer'\n};\nexport let date = {\n  min: '${path} field must be later than ${min}',\n  max: '${path} field must be at earlier than ${max}'\n};\nexport let boolean = {\n  isValue: '${path} field must be ${value}'\n};\nexport let object = {\n  noUnknown: '${path} field has unspecified keys: ${unknown}'\n};\nexport let array = {\n  min: '${path} field must have at least ${min} items',\n  max: '${path} field must have less than or equal to ${max} items',\n  length: '${path} must be have ${length} items'\n};\nexport default Object.assign(Object.create(null), {\n  mixed,\n  string,\n  number,\n  date,\n  object,\n  array,\n  boolean\n});","/* eslint-disable */\n\n/**\n *\n * Date.parse with progressive enhancement for ISO 8601 <https://github.com/csnover/js-iso8601>\n * NON-CONFORMANT EDITION.\n * © 2011 Colin Snover <http://zetafleet.com>\n * Released under MIT license.\n */\n//              1 YYYY                 2 MM        3 DD              4 HH     5 mm        6 ss            7 msec         8 Z 9 ±    10 tzHH    11 tzmm\nvar isoReg = /^(\\d{4}|[+\\-]\\d{6})(?:-?(\\d{2})(?:-?(\\d{2}))?)?(?:[ T]?(\\d{2}):?(\\d{2})(?::?(\\d{2})(?:[,\\.](\\d{1,}))?)?(?:(Z)|([+\\-])(\\d{2})(?::?(\\d{2}))?)?)?$/;\nexport default function parseIsoDate(date) {\n  var numericKeys = [1, 4, 5, 6, 7, 10, 11],\n      minutesOffset = 0,\n      timestamp,\n      struct;\n\n  if (struct = isoReg.exec(date)) {\n    // avoid NaN timestamps caused by “undefined” values being passed to Date.UTC\n    for (var i = 0, k; k = numericKeys[i]; ++i) struct[k] = +struct[k] || 0; // allow undefined days and months\n\n\n    struct[2] = (+struct[2] || 1) - 1;\n    struct[3] = +struct[3] || 1; // allow arbitrary sub-second precision beyond milliseconds\n\n    struct[7] = struct[7] ? String(struct[7]).substr(0, 3) : 0; // timestamps without timezone identifiers should be considered local time\n\n    if ((struct[8] === undefined || struct[8] === '') && (struct[9] === undefined || struct[9] === '')) timestamp = +new Date(struct[1], struct[2], struct[3], struct[4], struct[5], struct[6], struct[7]);else {\n      if (struct[8] !== 'Z' && struct[9] !== undefined) {\n        minutesOffset = struct[10] * 60 + struct[11];\n        if (struct[9] === '+') minutesOffset = 0 - minutesOffset;\n      }\n\n      timestamp = Date.UTC(struct[1], struct[2], struct[3], struct[4], struct[5] + minutesOffset, struct[6], struct[7]);\n    }\n  } else timestamp = Date.parse ? Date.parse(date) : NaN;\n\n  return timestamp;\n}","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * The opposite of `_.mapValues`; this method creates an object with the\n * same values as `object` and keys generated by running each own enumerable\n * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n * with three arguments: (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapValues\n * @example\n *\n * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n *   return key + value;\n * });\n * // => { 'a1': 1, 'b2': 2 }\n */\nfunction mapKeys(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, iteratee(value, key, object), value);\n  });\n  return result;\n}\n\nmodule.exports = mapKeys;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","//@ts-nocheck\nimport React from 'react'\nimport {Diagnostic} from '@ionic-native/diagnostic'\nimport {File} from '@ionic-native/file'\nimport {Media, MediaObject} from '@ionic-native/media'\nimport {useIonAlert} from '@ionic/react'\nimport {useGetRecordsQuery} from 'src/reactapp/types-and-hooks'\nimport {useLessonStore} from '../useLessonStore'\nimport {usePracticeContext} from './PracticeContext'\nimport {RecordButton} from './RecordButton'\nimport {RecordResultItem, RecordView} from './RecordView'\nimport {setRecord, setRecordSTT, useRecordAndroid} from './useRecordAndroid'\nimport {AndroidPermissions} from '@ionic-native/android-permissions'\nimport {zip} from 'lodash'\n\ninterface AudioMedia {\n  audioFile: MediaObject\n  fileName: string\n}\n\n//@ts-ignore\nasync function checkMicrophonePermission(androidPermissions: AndroidPermissions) {\n  const permissions = [\n    androidPermissions.PERMISSION.RECORD_AUDIO,\n    androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE,\n    androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE,\n  ]\n  const results = await Promise.all(\n    permissions.map((p) => androidPermissions.checkPermission(p)),\n  )\n  const hasPermissions = results.map((r) => r.hasPermission)\n  const reqPerms = zip(hasPermissions, permissions)\n    .filter(([hasPerm]) => !hasPerm)\n    .map(([_, perm]) => perm)\n\n  console.log(reqPerms)\n\n  if (reqPerms.length > 0) {\n    try {\n      const reqRes = await androidPermissions.requestPermissions(reqPerms)\n\n      console.log('reqRes', reqRes.hasPermission)\n      if (!reqRes.hasPermission) {\n        return false\n      }\n    } catch (err) {\n      console.log('err reqPerm', err)\n      return false\n    }\n  }\n\n  return true\n}\n\nexport default function AndroidRecordingView() {\n  const {setIsPlaying, setIsRecording} = usePracticeContext()\n  const [audioMedia, setAudioMedia] = React.useState<AudioMedia>()\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const [audioPlaying, setAudioPaying] = React.useState(false)\n  const {data} = useGetRecordsQuery({variables: {sceneIdx}})\n  const diagnostic = React.useMemo(() => new Diagnostic(), [])\n  //@ts-ignore\n  const androidPermissions = React.useMemo(() => new AndroidPermissions(), [])\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const [present] = useIonAlert()\n\n  const {status, startRecording, stopRecording} = useRecordAndroid({\n    onStop: (result) => {\n      console.log('onStop')\n      setRecord(sceneIdx, {...result, stt: null})\n    },\n  })\n\n  async function handleAudioPlay(fileName: string) {\n    ytPlayer.pauseVideo()\n    handleAudioStop()\n    const media = new Media()\n    const file = new File()\n    const audioFile = media.create(\n      file.externalDataDirectory.replace(/^file:\\/\\//, '') + fileName,\n    )\n    audioFile.play()\n    setAudioMedia({audioFile, fileName})\n    audioFile.onStatusUpdate.subscribe((status) => {\n      console.log({status})\n      if (status === media.MEDIA_STOPPED) {\n        handleAudioStop()\n      }\n    })\n\n    setAudioPaying(true)\n    setIsPlaying(true)\n  }\n\n  async function handleAudioStop() {\n    if (audioMedia) {\n      const {audioFile, fileName} = audioMedia\n      audioFile.stop()\n      audioFile.release()\n      setAudioMedia(null)\n    }\n    setAudioPaying(false)\n    setIsPlaying(false)\n  }\n\n  async function handleRecordStart() {\n    ytPlayer.pauseVideo()\n    handleAudioStop()\n\n    const status = await checkMicrophonePermission(androidPermissions)\n    if (!status) {\n      return present('No Mic Permisson')\n    }\n\n    startRecording()\n    setIsRecording(true)\n  }\n  async function handleRecordStop() {\n    stopRecording()\n    setIsRecording(false)\n  }\n\n  return (\n    <>\n      {data.records.map((r, i) =>\n        r.stt ? (\n          <RecordResultItem\n            key={r.audioUrl}\n            data={r.stt}\n            loading={false}\n            error={r.stt.error}\n            index={i}\n            isPlaying={audioMedia?.fileName === r.audioUrl && audioPlaying}\n            onPlay={() => {\n              handleAudioPlay(r.audioUrl)\n            }}\n            onStop={handleAudioStop}\n          />\n        ) : (\n          <RecordView\n            key={r.audioUrl}\n            audioAsBase64={r.audioAsBase64}\n            sampleRate={r.sampleRate}\n            index={i}\n            isPlaying={audioMedia?.fileName === r.audioUrl && audioPlaying}\n            onPlay={() => {\n              handleAudioPlay(r.audioUrl)\n            }}\n            onStop={handleAudioStop}\n            onCompleted={(data) => {\n              console.log('oncomplt', {data})\n              setRecordSTT(sceneIdx, i, data)\n            }}\n          />\n        ),\n      )}\n\n      <RecordButton\n        status={status}\n        onRecordStart={handleRecordStart}\n        onRecordStop={handleRecordStop}\n      />\n    </>\n  )\n}\n","var deburrLetter = require('./_deburrLetter'),\n    toString = require('./toString');\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('déjà vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nmodule.exports = deburr;\n","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { createMemoryHistory, createLocation, locationsAreEqual, createPath } from 'history';\nimport warning from 'tiny-warning';\nimport createContext from 'mini-create-react-context';\nimport invariant from 'tiny-invariant';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport pathToRegexp from 'path-to-regexp';\nimport { isValidElementType } from 'react-is';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport hoistStatics from 'hoist-non-react-statics';\n\n// TODO: Replace with React.createContext once we can assume React 16+\n\nvar createNamedContext = function createNamedContext(name) {\n  var context = createContext();\n  context.displayName = name;\n  return context;\n};\n\nvar historyContext =\n/*#__PURE__*/\ncreateNamedContext(\"Router-History\");\n\n// TODO: Replace with React.createContext once we can assume React 16+\n\nvar createNamedContext$1 = function createNamedContext(name) {\n  var context = createContext();\n  context.displayName = name;\n  return context;\n};\n\nvar context =\n/*#__PURE__*/\ncreateNamedContext$1(\"Router\");\n\n/**\n * The public API for putting history on context.\n */\n\nvar Router =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Router, _React$Component);\n\n  Router.computeRootMatch = function computeRootMatch(pathname) {\n    return {\n      path: \"/\",\n      url: \"/\",\n      params: {},\n      isExact: pathname === \"/\"\n    };\n  };\n\n  function Router(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.state = {\n      location: props.history.location\n    }; // This is a bit of a hack. We have to start listening for location\n    // changes here in the constructor in case there are any <Redirect>s\n    // on the initial render. If there are, they will replace/push when\n    // they mount and since cDM fires in children before parents, we may\n    // get a new location before the <Router> is mounted.\n\n    _this._isMounted = false;\n    _this._pendingLocation = null;\n\n    if (!props.staticContext) {\n      _this.unlisten = props.history.listen(function (location) {\n        if (_this._isMounted) {\n          _this.setState({\n            location: location\n          });\n        } else {\n          _this._pendingLocation = location;\n        }\n      });\n    }\n\n    return _this;\n  }\n\n  var _proto = Router.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._isMounted = true;\n\n    if (this._pendingLocation) {\n      this.setState({\n        location: this._pendingLocation\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.unlisten) this.unlisten();\n  };\n\n  _proto.render = function render() {\n    return React.createElement(context.Provider, {\n      value: {\n        history: this.props.history,\n        location: this.state.location,\n        match: Router.computeRootMatch(this.state.location.pathname),\n        staticContext: this.props.staticContext\n      }\n    }, React.createElement(historyContext.Provider, {\n      children: this.props.children || null,\n      value: this.props.history\n    }));\n  };\n\n  return Router;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  Router.propTypes = {\n    children: PropTypes.node,\n    history: PropTypes.object.isRequired,\n    staticContext: PropTypes.object\n  };\n\n  Router.prototype.componentDidUpdate = function (prevProps) {\n    process.env.NODE_ENV !== \"production\" ? warning(prevProps.history === this.props.history, \"You cannot change <Router history>\") : void 0;\n  };\n}\n\n/**\n * The public API for a <Router> that stores location in memory.\n */\n\nvar MemoryRouter =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(MemoryRouter, _React$Component);\n\n  function MemoryRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.history = createMemoryHistory(_this.props);\n    return _this;\n  }\n\n  var _proto = MemoryRouter.prototype;\n\n  _proto.render = function render() {\n    return React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return MemoryRouter;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  MemoryRouter.propTypes = {\n    initialEntries: PropTypes.array,\n    initialIndex: PropTypes.number,\n    getUserConfirmation: PropTypes.func,\n    keyLength: PropTypes.number,\n    children: PropTypes.node\n  };\n\n  MemoryRouter.prototype.componentDidMount = function () {\n    process.env.NODE_ENV !== \"production\" ? warning(!this.props.history, \"<MemoryRouter> ignores the history prop. To use a custom history, \" + \"use `import { Router }` instead of `import { MemoryRouter as Router }`.\") : void 0;\n  };\n}\n\nvar Lifecycle =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Lifecycle, _React$Component);\n\n  function Lifecycle() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Lifecycle.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.props.onMount) this.props.onMount.call(this, this);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.props.onUpdate) this.props.onUpdate.call(this, this, prevProps);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.props.onUnmount) this.props.onUnmount.call(this, this);\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return Lifecycle;\n}(React.Component);\n\n/**\n * The public API for prompting the user before navigating away from a screen.\n */\n\nfunction Prompt(_ref) {\n  var message = _ref.message,\n      _ref$when = _ref.when,\n      when = _ref$when === void 0 ? true : _ref$when;\n  return React.createElement(context.Consumer, null, function (context) {\n    !context ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <Prompt> outside a <Router>\") : invariant(false) : void 0;\n    if (!when || context.staticContext) return null;\n    var method = context.history.block;\n    return React.createElement(Lifecycle, {\n      onMount: function onMount(self) {\n        self.release = method(message);\n      },\n      onUpdate: function onUpdate(self, prevProps) {\n        if (prevProps.message !== message) {\n          self.release();\n          self.release = method(message);\n        }\n      },\n      onUnmount: function onUnmount(self) {\n        self.release();\n      },\n      message: message\n    });\n  });\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  var messageType = PropTypes.oneOfType([PropTypes.func, PropTypes.string]);\n  Prompt.propTypes = {\n    when: PropTypes.bool,\n    message: messageType.isRequired\n  };\n}\n\nvar cache = {};\nvar cacheLimit = 10000;\nvar cacheCount = 0;\n\nfunction compilePath(path) {\n  if (cache[path]) return cache[path];\n  var generator = pathToRegexp.compile(path);\n\n  if (cacheCount < cacheLimit) {\n    cache[path] = generator;\n    cacheCount++;\n  }\n\n  return generator;\n}\n/**\n * Public API for generating a URL pathname from a path and parameters.\n */\n\n\nfunction generatePath(path, params) {\n  if (path === void 0) {\n    path = \"/\";\n  }\n\n  if (params === void 0) {\n    params = {};\n  }\n\n  return path === \"/\" ? path : compilePath(path)(params, {\n    pretty: true\n  });\n}\n\n/**\n * The public API for navigating programmatically with a component.\n */\n\nfunction Redirect(_ref) {\n  var computedMatch = _ref.computedMatch,\n      to = _ref.to,\n      _ref$push = _ref.push,\n      push = _ref$push === void 0 ? false : _ref$push;\n  return React.createElement(context.Consumer, null, function (context) {\n    !context ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <Redirect> outside a <Router>\") : invariant(false) : void 0;\n    var history = context.history,\n        staticContext = context.staticContext;\n    var method = push ? history.push : history.replace;\n    var location = createLocation(computedMatch ? typeof to === \"string\" ? generatePath(to, computedMatch.params) : _extends({}, to, {\n      pathname: generatePath(to.pathname, computedMatch.params)\n    }) : to); // When rendering in a static context,\n    // set the new location immediately.\n\n    if (staticContext) {\n      method(location);\n      return null;\n    }\n\n    return React.createElement(Lifecycle, {\n      onMount: function onMount() {\n        method(location);\n      },\n      onUpdate: function onUpdate(self, prevProps) {\n        var prevLocation = createLocation(prevProps.to);\n\n        if (!locationsAreEqual(prevLocation, _extends({}, location, {\n          key: prevLocation.key\n        }))) {\n          method(location);\n        }\n      },\n      to: to\n    });\n  });\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  Redirect.propTypes = {\n    push: PropTypes.bool,\n    from: PropTypes.string,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired\n  };\n}\n\nvar cache$1 = {};\nvar cacheLimit$1 = 10000;\nvar cacheCount$1 = 0;\n\nfunction compilePath$1(path, options) {\n  var cacheKey = \"\" + options.end + options.strict + options.sensitive;\n  var pathCache = cache$1[cacheKey] || (cache$1[cacheKey] = {});\n  if (pathCache[path]) return pathCache[path];\n  var keys = [];\n  var regexp = pathToRegexp(path, keys, options);\n  var result = {\n    regexp: regexp,\n    keys: keys\n  };\n\n  if (cacheCount$1 < cacheLimit$1) {\n    pathCache[path] = result;\n    cacheCount$1++;\n  }\n\n  return result;\n}\n/**\n * Public API for matching a URL pathname to a path.\n */\n\n\nfunction matchPath(pathname, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (typeof options === \"string\" || Array.isArray(options)) {\n    options = {\n      path: options\n    };\n  }\n\n  var _options = options,\n      path = _options.path,\n      _options$exact = _options.exact,\n      exact = _options$exact === void 0 ? false : _options$exact,\n      _options$strict = _options.strict,\n      strict = _options$strict === void 0 ? false : _options$strict,\n      _options$sensitive = _options.sensitive,\n      sensitive = _options$sensitive === void 0 ? false : _options$sensitive;\n  var paths = [].concat(path);\n  return paths.reduce(function (matched, path) {\n    if (!path && path !== \"\") return null;\n    if (matched) return matched;\n\n    var _compilePath = compilePath$1(path, {\n      end: exact,\n      strict: strict,\n      sensitive: sensitive\n    }),\n        regexp = _compilePath.regexp,\n        keys = _compilePath.keys;\n\n    var match = regexp.exec(pathname);\n    if (!match) return null;\n    var url = match[0],\n        values = match.slice(1);\n    var isExact = pathname === url;\n    if (exact && !isExact) return null;\n    return {\n      path: path,\n      // the path used to match\n      url: path === \"/\" && url === \"\" ? \"/\" : url,\n      // the matched portion of the URL\n      isExact: isExact,\n      // whether or not we matched exactly\n      params: keys.reduce(function (memo, key, index) {\n        memo[key.name] = values[index];\n        return memo;\n      }, {})\n    };\n  }, null);\n}\n\nfunction isEmptyChildren(children) {\n  return React.Children.count(children) === 0;\n}\n\nfunction evalChildrenDev(children, props, path) {\n  var value = children(props);\n  process.env.NODE_ENV !== \"production\" ? warning(value !== undefined, \"You returned `undefined` from the `children` function of \" + (\"<Route\" + (path ? \" path=\\\"\" + path + \"\\\"\" : \"\") + \">, but you \") + \"should have returned a React element or `null`\") : void 0;\n  return value || null;\n}\n/**\n * The public API for matching a single path and rendering.\n */\n\n\nvar Route =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Route, _React$Component);\n\n  function Route() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Route.prototype;\n\n  _proto.render = function render() {\n    var _this = this;\n\n    return React.createElement(context.Consumer, null, function (context$1) {\n      !context$1 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <Route> outside a <Router>\") : invariant(false) : void 0;\n      var location = _this.props.location || context$1.location;\n      var match = _this.props.computedMatch ? _this.props.computedMatch // <Switch> already computed the match for us\n      : _this.props.path ? matchPath(location.pathname, _this.props) : context$1.match;\n\n      var props = _extends({}, context$1, {\n        location: location,\n        match: match\n      });\n\n      var _this$props = _this.props,\n          children = _this$props.children,\n          component = _this$props.component,\n          render = _this$props.render; // Preact uses an empty array as children by\n      // default, so use null if that's the case.\n\n      if (Array.isArray(children) && children.length === 0) {\n        children = null;\n      }\n\n      return React.createElement(context.Provider, {\n        value: props\n      }, props.match ? children ? typeof children === \"function\" ? process.env.NODE_ENV !== \"production\" ? evalChildrenDev(children, props, _this.props.path) : children(props) : children : component ? React.createElement(component, props) : render ? render(props) : null : typeof children === \"function\" ? process.env.NODE_ENV !== \"production\" ? evalChildrenDev(children, props, _this.props.path) : children(props) : null);\n    });\n  };\n\n  return Route;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  Route.propTypes = {\n    children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n    component: function component(props, propName) {\n      if (props[propName] && !isValidElementType(props[propName])) {\n        return new Error(\"Invalid prop 'component' supplied to 'Route': the prop is not a valid React component\");\n      }\n    },\n    exact: PropTypes.bool,\n    location: PropTypes.object,\n    path: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n    render: PropTypes.func,\n    sensitive: PropTypes.bool,\n    strict: PropTypes.bool\n  };\n\n  Route.prototype.componentDidMount = function () {\n    process.env.NODE_ENV !== \"production\" ? warning(!(this.props.children && !isEmptyChildren(this.props.children) && this.props.component), \"You should not use <Route component> and <Route children> in the same route; <Route component> will be ignored\") : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(!(this.props.children && !isEmptyChildren(this.props.children) && this.props.render), \"You should not use <Route render> and <Route children> in the same route; <Route render> will be ignored\") : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(!(this.props.component && this.props.render), \"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored\") : void 0;\n  };\n\n  Route.prototype.componentDidUpdate = function (prevProps) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(this.props.location && !prevProps.location), '<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no \"location\" prop and then provided one on a subsequent render.') : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(!(!this.props.location && prevProps.location), '<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a \"location\" prop initially but omitted it on a subsequent render.') : void 0;\n  };\n}\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === \"/\" ? path : \"/\" + path;\n}\n\nfunction addBasename(basename, location) {\n  if (!basename) return location;\n  return _extends({}, location, {\n    pathname: addLeadingSlash(basename) + location.pathname\n  });\n}\n\nfunction stripBasename(basename, location) {\n  if (!basename) return location;\n  var base = addLeadingSlash(basename);\n  if (location.pathname.indexOf(base) !== 0) return location;\n  return _extends({}, location, {\n    pathname: location.pathname.substr(base.length)\n  });\n}\n\nfunction createURL(location) {\n  return typeof location === \"string\" ? location : createPath(location);\n}\n\nfunction staticHandler(methodName) {\n  return function () {\n     process.env.NODE_ENV !== \"production\" ? invariant(false, \"You cannot %s with <StaticRouter>\", methodName) : invariant(false) ;\n  };\n}\n\nfunction noop() {}\n/**\n * The public top-level API for a \"static\" <Router>, so-called because it\n * can't actually change the current location. Instead, it just records\n * location changes in a context object. Useful mainly in testing and\n * server-rendering scenarios.\n */\n\n\nvar StaticRouter =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(StaticRouter, _React$Component);\n\n  function StaticRouter() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handlePush = function (location) {\n      return _this.navigateTo(location, \"PUSH\");\n    };\n\n    _this.handleReplace = function (location) {\n      return _this.navigateTo(location, \"REPLACE\");\n    };\n\n    _this.handleListen = function () {\n      return noop;\n    };\n\n    _this.handleBlock = function () {\n      return noop;\n    };\n\n    return _this;\n  }\n\n  var _proto = StaticRouter.prototype;\n\n  _proto.navigateTo = function navigateTo(location, action) {\n    var _this$props = this.props,\n        _this$props$basename = _this$props.basename,\n        basename = _this$props$basename === void 0 ? \"\" : _this$props$basename,\n        _this$props$context = _this$props.context,\n        context = _this$props$context === void 0 ? {} : _this$props$context;\n    context.action = action;\n    context.location = addBasename(basename, createLocation(location));\n    context.url = createURL(context.location);\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        _this$props2$basename = _this$props2.basename,\n        basename = _this$props2$basename === void 0 ? \"\" : _this$props2$basename,\n        _this$props2$context = _this$props2.context,\n        context = _this$props2$context === void 0 ? {} : _this$props2$context,\n        _this$props2$location = _this$props2.location,\n        location = _this$props2$location === void 0 ? \"/\" : _this$props2$location,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"basename\", \"context\", \"location\"]);\n\n    var history = {\n      createHref: function createHref(path) {\n        return addLeadingSlash(basename + createURL(path));\n      },\n      action: \"POP\",\n      location: stripBasename(basename, createLocation(location)),\n      push: this.handlePush,\n      replace: this.handleReplace,\n      go: staticHandler(\"go\"),\n      goBack: staticHandler(\"goBack\"),\n      goForward: staticHandler(\"goForward\"),\n      listen: this.handleListen,\n      block: this.handleBlock\n    };\n    return React.createElement(Router, _extends({}, rest, {\n      history: history,\n      staticContext: context\n    }));\n  };\n\n  return StaticRouter;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  StaticRouter.propTypes = {\n    basename: PropTypes.string,\n    context: PropTypes.object,\n    location: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n  };\n\n  StaticRouter.prototype.componentDidMount = function () {\n    process.env.NODE_ENV !== \"production\" ? warning(!this.props.history, \"<StaticRouter> ignores the history prop. To use a custom history, \" + \"use `import { Router }` instead of `import { StaticRouter as Router }`.\") : void 0;\n  };\n}\n\n/**\n * The public API for rendering the first <Route> that matches.\n */\n\nvar Switch =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Switch, _React$Component);\n\n  function Switch() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Switch.prototype;\n\n  _proto.render = function render() {\n    var _this = this;\n\n    return React.createElement(context.Consumer, null, function (context) {\n      !context ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <Switch> outside a <Router>\") : invariant(false) : void 0;\n      var location = _this.props.location || context.location;\n      var element, match; // We use React.Children.forEach instead of React.Children.toArray().find()\n      // here because toArray adds keys to all child elements and we do not want\n      // to trigger an unmount/remount for two <Route>s that render the same\n      // component at different URLs.\n\n      React.Children.forEach(_this.props.children, function (child) {\n        if (match == null && React.isValidElement(child)) {\n          element = child;\n          var path = child.props.path || child.props.from;\n          match = path ? matchPath(location.pathname, _extends({}, child.props, {\n            path: path\n          })) : context.match;\n        }\n      });\n      return match ? React.cloneElement(element, {\n        location: location,\n        computedMatch: match\n      }) : null;\n    });\n  };\n\n  return Switch;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  Switch.propTypes = {\n    children: PropTypes.node,\n    location: PropTypes.object\n  };\n\n  Switch.prototype.componentDidUpdate = function (prevProps) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(this.props.location && !prevProps.location), '<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no \"location\" prop and then provided one on a subsequent render.') : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(!(!this.props.location && prevProps.location), '<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a \"location\" prop initially but omitted it on a subsequent render.') : void 0;\n  };\n}\n\n/**\n * A public higher-order component to access the imperative API\n */\n\nfunction withRouter(Component) {\n  var displayName = \"withRouter(\" + (Component.displayName || Component.name) + \")\";\n\n  var C = function C(props) {\n    var wrappedComponentRef = props.wrappedComponentRef,\n        remainingProps = _objectWithoutPropertiesLoose(props, [\"wrappedComponentRef\"]);\n\n    return React.createElement(context.Consumer, null, function (context) {\n      !context ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You should not use <\" + displayName + \" /> outside a <Router>\") : invariant(false) : void 0;\n      return React.createElement(Component, _extends({}, remainingProps, context, {\n        ref: wrappedComponentRef\n      }));\n    });\n  };\n\n  C.displayName = displayName;\n  C.WrappedComponent = Component;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    C.propTypes = {\n      wrappedComponentRef: PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.object])\n    };\n  }\n\n  return hoistStatics(C, Component);\n}\n\nvar useContext = React.useContext;\nfunction useHistory() {\n  if (process.env.NODE_ENV !== \"production\") {\n    !(typeof useContext === \"function\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You must use React >= 16.8 in order to use useHistory()\") : invariant(false) : void 0;\n  }\n\n  return useContext(historyContext);\n}\nfunction useLocation() {\n  if (process.env.NODE_ENV !== \"production\") {\n    !(typeof useContext === \"function\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You must use React >= 16.8 in order to use useLocation()\") : invariant(false) : void 0;\n  }\n\n  return useContext(context).location;\n}\nfunction useParams() {\n  if (process.env.NODE_ENV !== \"production\") {\n    !(typeof useContext === \"function\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You must use React >= 16.8 in order to use useParams()\") : invariant(false) : void 0;\n  }\n\n  var match = useContext(context).match;\n  return match ? match.params : {};\n}\nfunction useRouteMatch(path) {\n  if (process.env.NODE_ENV !== \"production\") {\n    !(typeof useContext === \"function\") ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"You must use React >= 16.8 in order to use useRouteMatch()\") : invariant(false) : void 0;\n  }\n\n  var location = useLocation();\n  var match = useContext(context).match;\n  return path ? matchPath(location.pathname, path) : match;\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  if (typeof window !== \"undefined\") {\n    var global = window;\n    var key = \"__react_router_build__\";\n    var buildNames = {\n      cjs: \"CommonJS\",\n      esm: \"ES modules\",\n      umd: \"UMD\"\n    };\n\n    if (global[key] && global[key] !== \"esm\") {\n      var initialBuildName = buildNames[global[key]];\n      var secondaryBuildName = buildNames[\"esm\"]; // TODO: Add link to article that explains in detail how to avoid\n      // loading 2 different builds.\n\n      throw new Error(\"You are loading the \" + secondaryBuildName + \" build of React Router \" + (\"on a page that is already running the \" + initialBuildName + \" \") + \"build, so things won't work right.\");\n    }\n\n    global[key] = \"esm\";\n  }\n}\n\nexport { MemoryRouter, Prompt, Redirect, Route, Router, StaticRouter, Switch, historyContext as __HistoryContext, context as __RouterContext, generatePath, matchPath, useHistory, useLocation, useParams, useRouteMatch, withRouter };\n//# sourceMappingURL=react-router.js.map\n","import MixedSchema, { create as mixedCreate } from './mixed';\nimport BooleanSchema, { create as boolCreate } from './boolean';\nimport StringSchema, { create as stringCreate } from './string';\nimport NumberSchema, { create as numberCreate } from './number';\nimport DateSchema, { create as dateCreate } from './date';\nimport ObjectSchema, { create as objectCreate } from './object';\nimport ArraySchema, { create as arrayCreate } from './array';\nimport { create as refCreate } from './Reference';\nimport { create as lazyCreate } from './Lazy';\nimport ValidationError from './ValidationError';\nimport reach from './util/reach';\nimport isSchema from './util/isSchema';\nimport setLocale from './setLocale';\nimport BaseSchema from './schema';\n\nfunction addMethod(schemaType, name, fn) {\n  if (!schemaType || !isSchema(schemaType.prototype)) throw new TypeError('You must provide a yup schema constructor function');\n  if (typeof name !== 'string') throw new TypeError('A Method name must be provided');\n  if (typeof fn !== 'function') throw new TypeError('Method function must be provided');\n  schemaType.prototype[name] = fn;\n}\n\nexport { mixedCreate as mixed, boolCreate as bool, boolCreate as boolean, stringCreate as string, numberCreate as number, dateCreate as date, objectCreate as object, arrayCreate as array, refCreate as ref, lazyCreate as lazy, reach, isSchema, addMethod, setLocale, ValidationError };\nexport { BaseSchema, MixedSchema, BooleanSchema, StringSchema, NumberSchema, DateSchema, ObjectSchema, ArraySchema };","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","import * as React from 'react'\nimport {\n  IonAlert,\n  IonImg,\n  IonItem,\n  IonItemGroup,\n  IonLabel,\n  IonRippleEffect,\n  useIonPopover,\n} from '@ionic/react'\nimport YouTube from 'react-youtube'\nimport {useLessonStore} from './useLessonStore'\nimport clsx from 'clsx'\n\nconst playRates = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2]\n\nexport function LessonPlayer({youtubeId, onClickReportIssue}) {\n  const playerRef = React.useRef<YouTube>(null)\n  const setPlayer = useLessonStore((state) => state.setPlayer)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const setPlayerState = useLessonStore((state) => state.setPlayerState)\n  const play = useLessonStore((state) => state.play)\n  const overlay = useLessonStore((state) => state.overlay)\n  const [showAlert, setShowAlert] = React.useState(false)\n  const [playedSeconds, setPlayedSeconds] = React.useState(0)\n  //   const [playbackRate, setPlaybackRate] = React.useState(1)\n\n  function handleUnstarted() {\n    console.log('Unstarted')\n    // const st = playerRef.current?.getCurrentTime()\n    // setTimeout(() => {\n    //   const ed = playerRef.current?.getCurrentTime()\n    //   if (st === ed) {\n    //     stop()\n    //     setShowAlert(true)\n    //   }\n    // }, 1200)\n  }\n\n  function handleProgress(data: any) {\n    setPlayedSeconds(data.playedSeconds)\n    // if (data.playedSeconds >= firstScene.start + 20) {\n    // setPlaying(false)\n    // playerRef.current?.seekTo(firstScene.start)\n  }\n\n  return (\n    <div className=\"player-wrapper\">\n      <YouTube\n        ref={playerRef}\n        videoId={youtubeId}\n        opts={{\n          playerVars: {\n            showinfo: 0,\n            disablekb: 1,\n            controls: 0,\n            //@ts-ignore\n            cc_load_policy: 0,\n            playsinline: 1,\n            autoplay: 0,\n            origin: window.location.origin,\n          },\n          width: '100%',\n          height: 'auto',\n        }}\n        onReady={(event) => {\n          const player = event.target\n          //   player.setVolume(0.2)\n          setTimeout(() => {\n            setPlayer(player)\n            setPlayerState(player.getPlayerState())\n          }, 200)\n          //   player.playVideo()\n\n          //   console.log('on ready')\n        }}\n        onStateChange={(e) => {\n          setPlayerState(e.data)\n          //   console.log({onStateChange: e.data})\n        }}\n      />\n\n      <div className=\"player-overlay\">\n        <div\n          id=\"info\"\n          className=\"ion-activatable ripple-parent pointer\"\n          onClick={onClickReportIssue}\n        >\n          <IonImg src=\"/assets/images/info_for_lesson.png\" />\n          <IonRippleEffect />\n        </div>\n        {ytPlayer && <PlaybackMenu />}\n\n        {overlay && <div className=\"overlay-msg\">{overlay}</div>}\n      </div>\n      <IonAlert\n        isOpen={showAlert}\n        onDidDismiss={() => setShowAlert(false)}\n        cssClass=\"my-custom-class\"\n        header={'Can not Autoplay!'}\n        message={'Autoplay is not allowed without <strong>User interacts</strong>!!!'}\n        buttons={[\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            cssClass: 'secondary',\n          },\n          {\n            text: 'Play',\n            handler: () => {\n              // console.log('Confirm Okay')\n              play()\n            },\n          },\n        ]}\n      />\n    </div>\n  )\n}\n\nfunction Menus({onDissmis}) {\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const playbackRate = ytPlayer?.getPlaybackRate() || 1\n  function handlePlaybackRateChange(playbackRate: number) {\n    ytPlayer.setPlaybackRate(playbackRate)\n    onDissmis()\n  }\n\n  return (\n    <IonItemGroup class=\"playrate-menu\">\n      {playRates.map((r) => (\n        <IonItem key={r} lines=\"none\" onClick={() => handlePlaybackRateChange(r)}>\n          <IonLabel className={clsx(playbackRate === r && 'playrate-active')}>\n            {r === 1 ? 'normal' : r}\n          </IonLabel>\n        </IonItem>\n      ))}\n    </IonItemGroup>\n  )\n}\n\nfunction PlaybackMenu() {\n  const [presentMenu, dissmis] = useIonPopover(Menus, {\n    onDissmis: () => dissmis(),\n  })\n\n  return (\n    <div id=\"playback-rate\">\n      <div\n        className=\"ion-activatable ripple-parent pointer\"\n        onClick={(e) => {\n          presentMenu({\n            cssClass: 'playRatePopover',\n            mode: 'md',\n            event: e.nativeEvent,\n          })\n        }}\n      >\n        <IonImg src=\"/assets/images/lesson_snail.png\" />\n        <IonRippleEffect />\n      </div>\n    </div>\n  )\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _Highlighter = __webpack_require__(2);\n\t\n\tvar _Highlighter2 = _interopRequireDefault(_Highlighter);\n\n\texports['default'] = _Highlighter2['default'];\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports['default'] = Highlighter;\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tvar _highlightWordsCore = __webpack_require__(3);\n\t\n\tvar _propTypes = __webpack_require__(4);\n\t\n\tvar _propTypes2 = _interopRequireDefault(_propTypes);\n\t\n\tvar _react = __webpack_require__(14);\n\t\n\tvar _memoizeOne = __webpack_require__(15);\n\t\n\tvar _memoizeOne2 = _interopRequireDefault(_memoizeOne);\n\t\n\tHighlighter.propTypes = {\n\t  activeClassName: _propTypes2['default'].string,\n\t  activeIndex: _propTypes2['default'].number,\n\t  activeStyle: _propTypes2['default'].object,\n\t  autoEscape: _propTypes2['default'].bool,\n\t  className: _propTypes2['default'].string,\n\t  findChunks: _propTypes2['default'].func,\n\t  highlightClassName: _propTypes2['default'].oneOfType([_propTypes2['default'].object, _propTypes2['default'].string]),\n\t  highlightStyle: _propTypes2['default'].object,\n\t  highlightTag: _propTypes2['default'].oneOfType([_propTypes2['default'].node, _propTypes2['default'].func, _propTypes2['default'].string]),\n\t  sanitize: _propTypes2['default'].func,\n\t  searchWords: _propTypes2['default'].arrayOf(_propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].instanceOf(RegExp)])).isRequired,\n\t  textToHighlight: _propTypes2['default'].string.isRequired,\n\t  unhighlightClassName: _propTypes2['default'].string,\n\t  unhighlightStyle: _propTypes2['default'].object\n\t};\n\t\n\t/**\r\n\t * Highlights all occurrences of search terms (searchText) within a string (textToHighlight).\r\n\t * This function returns an array of strings and <span>s (wrapping highlighted words).\r\n\t */\n\t\n\tfunction Highlighter(_ref) {\n\t  var _ref$activeClassName = _ref.activeClassName;\n\t  var activeClassName = _ref$activeClassName === undefined ? '' : _ref$activeClassName;\n\t  var _ref$activeIndex = _ref.activeIndex;\n\t  var activeIndex = _ref$activeIndex === undefined ? -1 : _ref$activeIndex;\n\t  var activeStyle = _ref.activeStyle;\n\t  var autoEscape = _ref.autoEscape;\n\t  var _ref$caseSensitive = _ref.caseSensitive;\n\t  var caseSensitive = _ref$caseSensitive === undefined ? false : _ref$caseSensitive;\n\t  var className = _ref.className;\n\t  var findChunks = _ref.findChunks;\n\t  var _ref$highlightClassName = _ref.highlightClassName;\n\t  var highlightClassName = _ref$highlightClassName === undefined ? '' : _ref$highlightClassName;\n\t  var _ref$highlightStyle = _ref.highlightStyle;\n\t  var highlightStyle = _ref$highlightStyle === undefined ? {} : _ref$highlightStyle;\n\t  var _ref$highlightTag = _ref.highlightTag;\n\t  var highlightTag = _ref$highlightTag === undefined ? 'mark' : _ref$highlightTag;\n\t  var sanitize = _ref.sanitize;\n\t  var searchWords = _ref.searchWords;\n\t  var textToHighlight = _ref.textToHighlight;\n\t  var _ref$unhighlightClassName = _ref.unhighlightClassName;\n\t  var unhighlightClassName = _ref$unhighlightClassName === undefined ? '' : _ref$unhighlightClassName;\n\t  var unhighlightStyle = _ref.unhighlightStyle;\n\t\n\t  var rest = _objectWithoutProperties(_ref, ['activeClassName', 'activeIndex', 'activeStyle', 'autoEscape', 'caseSensitive', 'className', 'findChunks', 'highlightClassName', 'highlightStyle', 'highlightTag', 'sanitize', 'searchWords', 'textToHighlight', 'unhighlightClassName', 'unhighlightStyle']);\n\t\n\t  var chunks = (0, _highlightWordsCore.findAll)({\n\t    autoEscape: autoEscape,\n\t    caseSensitive: caseSensitive,\n\t    findChunks: findChunks,\n\t    sanitize: sanitize,\n\t    searchWords: searchWords,\n\t    textToHighlight: textToHighlight\n\t  });\n\t  var HighlightTag = highlightTag;\n\t  var highlightIndex = -1;\n\t  var highlightClassNames = '';\n\t  var highlightStyles = undefined;\n\t\n\t  var lowercaseProps = function lowercaseProps(object) {\n\t    var mapped = {};\n\t    for (var key in object) {\n\t      mapped[key.toLowerCase()] = object[key];\n\t    }\n\t    return mapped;\n\t  };\n\t  var memoizedLowercaseProps = (0, _memoizeOne2['default'])(lowercaseProps);\n\t\n\t  return (0, _react.createElement)('span', _extends({\n\t    className: className\n\t  }, rest, {\n\t    children: chunks.map(function (chunk, index) {\n\t      var text = textToHighlight.substr(chunk.start, chunk.end - chunk.start);\n\t\n\t      if (chunk.highlight) {\n\t        highlightIndex++;\n\t\n\t        var highlightClass = undefined;\n\t        if (typeof highlightClassName === 'object') {\n\t          if (!caseSensitive) {\n\t            highlightClassName = memoizedLowercaseProps(highlightClassName);\n\t            highlightClass = highlightClassName[text.toLowerCase()];\n\t          } else {\n\t            highlightClass = highlightClassName[text];\n\t          }\n\t        } else {\n\t          highlightClass = highlightClassName;\n\t        }\n\t\n\t        var isActive = highlightIndex === +activeIndex;\n\t\n\t        highlightClassNames = highlightClass + ' ' + (isActive ? activeClassName : '');\n\t        highlightStyles = isActive === true && activeStyle != null ? Object.assign({}, highlightStyle, activeStyle) : highlightStyle;\n\t\n\t        var props = {\n\t          children: text,\n\t          className: highlightClassNames,\n\t          key: index,\n\t          style: highlightStyles\n\t        };\n\t\n\t        // Don't attach arbitrary props to DOM elements; this triggers React DEV warnings (https://fb.me/react-unknown-prop)\n\t        // Only pass through the highlightIndex attribute for custom components.\n\t        if (typeof HighlightTag !== 'string') {\n\t          props.highlightIndex = highlightIndex;\n\t        }\n\t\n\t        return (0, _react.createElement)(HighlightTag, props);\n\t      } else {\n\t        return (0, _react.createElement)('span', {\n\t          children: text,\n\t          className: unhighlightClassName,\n\t          key: index,\n\t          style: unhighlightStyle\n\t        });\n\t      }\n\t    })\n\t  }));\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\tmodule.exports =\n\t/******/ (function(modules) { // webpackBootstrap\n\t/******/ \t// The module cache\n\t/******/ \tvar installedModules = {};\n\t/******/\n\t/******/ \t// The require function\n\t/******/ \tfunction __webpack_require__(moduleId) {\n\t/******/\n\t/******/ \t\t// Check if module is in cache\n\t/******/ \t\tif(installedModules[moduleId])\n\t/******/ \t\t\treturn installedModules[moduleId].exports;\n\t/******/\n\t/******/ \t\t// Create a new module (and put it into the cache)\n\t/******/ \t\tvar module = installedModules[moduleId] = {\n\t/******/ \t\t\texports: {},\n\t/******/ \t\t\tid: moduleId,\n\t/******/ \t\t\tloaded: false\n\t/******/ \t\t};\n\t/******/\n\t/******/ \t\t// Execute the module function\n\t/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\t/******/\n\t/******/ \t\t// Flag the module as loaded\n\t/******/ \t\tmodule.loaded = true;\n\t/******/\n\t/******/ \t\t// Return the exports of the module\n\t/******/ \t\treturn module.exports;\n\t/******/ \t}\n\t/******/\n\t/******/\n\t/******/ \t// expose the modules object (__webpack_modules__)\n\t/******/ \t__webpack_require__.m = modules;\n\t/******/\n\t/******/ \t// expose the module cache\n\t/******/ \t__webpack_require__.c = installedModules;\n\t/******/\n\t/******/ \t// __webpack_public_path__\n\t/******/ \t__webpack_require__.p = \"\";\n\t/******/\n\t/******/ \t// Load entry module and return exports\n\t/******/ \treturn __webpack_require__(0);\n\t/******/ })\n\t/************************************************************************/\n\t/******/ ([\n\t/* 0 */\n\t/***/ (function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(1);\n\t\n\t\n\t/***/ }),\n\t/* 1 */\n\t/***/ (function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _utils = __webpack_require__(2);\n\t\t\n\t\tObject.defineProperty(exports, 'combineChunks', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _utils.combineChunks;\n\t\t  }\n\t\t});\n\t\tObject.defineProperty(exports, 'fillInChunks', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _utils.fillInChunks;\n\t\t  }\n\t\t});\n\t\tObject.defineProperty(exports, 'findAll', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _utils.findAll;\n\t\t  }\n\t\t});\n\t\tObject.defineProperty(exports, 'findChunks', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _utils.findChunks;\n\t\t  }\n\t\t});\n\t\n\t/***/ }),\n\t/* 2 */\n\t/***/ (function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t/**\n\t\t * Creates an array of chunk objects representing both higlightable and non highlightable pieces of text that match each search word.\n\t\t * @return Array of \"chunks\" (where a Chunk is { start:number, end:number, highlight:boolean })\n\t\t */\n\t\tvar findAll = exports.findAll = function findAll(_ref) {\n\t\t  var autoEscape = _ref.autoEscape,\n\t\t      _ref$caseSensitive = _ref.caseSensitive,\n\t\t      caseSensitive = _ref$caseSensitive === undefined ? false : _ref$caseSensitive,\n\t\t      _ref$findChunks = _ref.findChunks,\n\t\t      findChunks = _ref$findChunks === undefined ? defaultFindChunks : _ref$findChunks,\n\t\t      sanitize = _ref.sanitize,\n\t\t      searchWords = _ref.searchWords,\n\t\t      textToHighlight = _ref.textToHighlight;\n\t\t  return fillInChunks({\n\t\t    chunksToHighlight: combineChunks({\n\t\t      chunks: findChunks({\n\t\t        autoEscape: autoEscape,\n\t\t        caseSensitive: caseSensitive,\n\t\t        sanitize: sanitize,\n\t\t        searchWords: searchWords,\n\t\t        textToHighlight: textToHighlight\n\t\t      })\n\t\t    }),\n\t\t    totalLength: textToHighlight ? textToHighlight.length : 0\n\t\t  });\n\t\t};\n\t\t\n\t\t/**\n\t\t * Takes an array of {start:number, end:number} objects and combines chunks that overlap into single chunks.\n\t\t * @return {start:number, end:number}[]\n\t\t */\n\t\tvar combineChunks = exports.combineChunks = function combineChunks(_ref2) {\n\t\t  var chunks = _ref2.chunks;\n\t\t\n\t\t  chunks = chunks.sort(function (first, second) {\n\t\t    return first.start - second.start;\n\t\t  }).reduce(function (processedChunks, nextChunk) {\n\t\t    // First chunk just goes straight in the array...\n\t\t    if (processedChunks.length === 0) {\n\t\t      return [nextChunk];\n\t\t    } else {\n\t\t      // ... subsequent chunks get checked to see if they overlap...\n\t\t      var prevChunk = processedChunks.pop();\n\t\t      if (nextChunk.start <= prevChunk.end) {\n\t\t        // It may be the case that prevChunk completely surrounds nextChunk, so take the\n\t\t        // largest of the end indeces.\n\t\t        var endIndex = Math.max(prevChunk.end, nextChunk.end);\n\t\t        processedChunks.push({ start: prevChunk.start, end: endIndex });\n\t\t      } else {\n\t\t        processedChunks.push(prevChunk, nextChunk);\n\t\t      }\n\t\t      return processedChunks;\n\t\t    }\n\t\t  }, []);\n\t\t\n\t\t  return chunks;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Examine text for any matches.\n\t\t * If we find matches, add them to the returned array as a \"chunk\" object ({start:number, end:number}).\n\t\t * @return {start:number, end:number}[]\n\t\t */\n\t\tvar defaultFindChunks = function defaultFindChunks(_ref3) {\n\t\t  var autoEscape = _ref3.autoEscape,\n\t\t      caseSensitive = _ref3.caseSensitive,\n\t\t      _ref3$sanitize = _ref3.sanitize,\n\t\t      sanitize = _ref3$sanitize === undefined ? identity : _ref3$sanitize,\n\t\t      searchWords = _ref3.searchWords,\n\t\t      textToHighlight = _ref3.textToHighlight;\n\t\t\n\t\t  textToHighlight = sanitize(textToHighlight);\n\t\t\n\t\t  return searchWords.filter(function (searchWord) {\n\t\t    return searchWord;\n\t\t  }) // Remove empty words\n\t\t  .reduce(function (chunks, searchWord) {\n\t\t    searchWord = sanitize(searchWord);\n\t\t\n\t\t    if (autoEscape) {\n\t\t      searchWord = escapeRegExpFn(searchWord);\n\t\t    }\n\t\t\n\t\t    var regex = new RegExp(searchWord, caseSensitive ? 'g' : 'gi');\n\t\t\n\t\t    var match = void 0;\n\t\t    while (match = regex.exec(textToHighlight)) {\n\t\t      var start = match.index;\n\t\t      var end = regex.lastIndex;\n\t\t      // We do not return zero-length matches\n\t\t      if (end > start) {\n\t\t        chunks.push({ start: start, end: end });\n\t\t      }\n\t\t\n\t\t      // Prevent browsers like Firefox from getting stuck in an infinite loop\n\t\t      // See http://www.regexguru.com/2008/04/watch-out-for-zero-length-matches/\n\t\t      if (match.index == regex.lastIndex) {\n\t\t        regex.lastIndex++;\n\t\t      }\n\t\t    }\n\t\t\n\t\t    return chunks;\n\t\t  }, []);\n\t\t};\n\t\t// Allow the findChunks to be overridden in findAll,\n\t\t// but for backwards compatibility we export as the old name\n\t\texports.findChunks = defaultFindChunks;\n\t\t\n\t\t/**\n\t\t * Given a set of chunks to highlight, create an additional set of chunks\n\t\t * to represent the bits of text between the highlighted text.\n\t\t * @param chunksToHighlight {start:number, end:number}[]\n\t\t * @param totalLength number\n\t\t * @return {start:number, end:number, highlight:boolean}[]\n\t\t */\n\t\t\n\t\tvar fillInChunks = exports.fillInChunks = function fillInChunks(_ref4) {\n\t\t  var chunksToHighlight = _ref4.chunksToHighlight,\n\t\t      totalLength = _ref4.totalLength;\n\t\t\n\t\t  var allChunks = [];\n\t\t  var append = function append(start, end, highlight) {\n\t\t    if (end - start > 0) {\n\t\t      allChunks.push({\n\t\t        start: start,\n\t\t        end: end,\n\t\t        highlight: highlight\n\t\t      });\n\t\t    }\n\t\t  };\n\t\t\n\t\t  if (chunksToHighlight.length === 0) {\n\t\t    append(0, totalLength, false);\n\t\t  } else {\n\t\t    var lastIndex = 0;\n\t\t    chunksToHighlight.forEach(function (chunk) {\n\t\t      append(lastIndex, chunk.start, false);\n\t\t      append(chunk.start, chunk.end, true);\n\t\t      lastIndex = chunk.end;\n\t\t    });\n\t\t    append(lastIndex, totalLength, false);\n\t\t  }\n\t\t  return allChunks;\n\t\t};\n\t\t\n\t\tfunction identity(value) {\n\t\t  return value;\n\t\t}\n\t\t\n\t\tfunction escapeRegExpFn(str) {\n\t\t  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n\t\t}\n\t\n\t/***/ })\n\t/******/ ]);\n\t//# sourceMappingURL=index.js.map\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\t\n\tif (process.env.NODE_ENV !== 'production') {\n\t  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n\t    Symbol.for &&\n\t    Symbol.for('react.element')) ||\n\t    0xeac7;\n\t\n\t  var isValidElement = function(object) {\n\t    return typeof object === 'object' &&\n\t      object !== null &&\n\t      object.$$typeof === REACT_ELEMENT_TYPE;\n\t  };\n\t\n\t  // By explicitly using `prop-types` you are opting into new development behavior.\n\t  // http://fb.me/prop-types-in-prod\n\t  var throwOnDirectAccess = true;\n\t  module.exports = __webpack_require__(6)(isValidElement, throwOnDirectAccess);\n\t} else {\n\t  // By explicitly using `prop-types` you are opting into new production behavior.\n\t  // http://fb.me/prop-types-in-prod\n\t  module.exports = __webpack_require__(13)();\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\tprocess.prependListener = noop;\n\tprocess.prependOnceListener = noop;\n\t\n\tprocess.listeners = function (name) { return [] }\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\t\n\t'use strict';\n\t\n\tvar emptyFunction = __webpack_require__(7);\n\tvar invariant = __webpack_require__(8);\n\tvar warning = __webpack_require__(9);\n\tvar assign = __webpack_require__(10);\n\t\n\tvar ReactPropTypesSecret = __webpack_require__(11);\n\tvar checkPropTypes = __webpack_require__(12);\n\t\n\tmodule.exports = function(isValidElement, throwOnDirectAccess) {\n\t  /* global Symbol */\n\t  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n\t  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\t\n\t  /**\n\t   * Returns the iterator method function contained on the iterable object.\n\t   *\n\t   * Be sure to invoke the function with the iterable as context:\n\t   *\n\t   *     var iteratorFn = getIteratorFn(myIterable);\n\t   *     if (iteratorFn) {\n\t   *       var iterator = iteratorFn.call(myIterable);\n\t   *       ...\n\t   *     }\n\t   *\n\t   * @param {?object} maybeIterable\n\t   * @return {?function}\n\t   */\n\t  function getIteratorFn(maybeIterable) {\n\t    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n\t    if (typeof iteratorFn === 'function') {\n\t      return iteratorFn;\n\t    }\n\t  }\n\t\n\t  /**\n\t   * Collection of methods that allow declaration and validation of props that are\n\t   * supplied to React components. Example usage:\n\t   *\n\t   *   var Props = require('ReactPropTypes');\n\t   *   var MyArticle = React.createClass({\n\t   *     propTypes: {\n\t   *       // An optional string prop named \"description\".\n\t   *       description: Props.string,\n\t   *\n\t   *       // A required enum prop named \"category\".\n\t   *       category: Props.oneOf(['News','Photos']).isRequired,\n\t   *\n\t   *       // A prop named \"dialog\" that requires an instance of Dialog.\n\t   *       dialog: Props.instanceOf(Dialog).isRequired\n\t   *     },\n\t   *     render: function() { ... }\n\t   *   });\n\t   *\n\t   * A more formal specification of how these methods are used:\n\t   *\n\t   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n\t   *   decl := ReactPropTypes.{type}(.isRequired)?\n\t   *\n\t   * Each and every declaration produces a function with the same signature. This\n\t   * allows the creation of custom validation functions. For example:\n\t   *\n\t   *  var MyLink = React.createClass({\n\t   *    propTypes: {\n\t   *      // An optional string or URI prop named \"href\".\n\t   *      href: function(props, propName, componentName) {\n\t   *        var propValue = props[propName];\n\t   *        if (propValue != null && typeof propValue !== 'string' &&\n\t   *            !(propValue instanceof URI)) {\n\t   *          return new Error(\n\t   *            'Expected a string or an URI for ' + propName + ' in ' +\n\t   *            componentName\n\t   *          );\n\t   *        }\n\t   *      }\n\t   *    },\n\t   *    render: function() {...}\n\t   *  });\n\t   *\n\t   * @internal\n\t   */\n\t\n\t  var ANONYMOUS = '<<anonymous>>';\n\t\n\t  // Important!\n\t  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n\t  var ReactPropTypes = {\n\t    array: createPrimitiveTypeChecker('array'),\n\t    bool: createPrimitiveTypeChecker('boolean'),\n\t    func: createPrimitiveTypeChecker('function'),\n\t    number: createPrimitiveTypeChecker('number'),\n\t    object: createPrimitiveTypeChecker('object'),\n\t    string: createPrimitiveTypeChecker('string'),\n\t    symbol: createPrimitiveTypeChecker('symbol'),\n\t\n\t    any: createAnyTypeChecker(),\n\t    arrayOf: createArrayOfTypeChecker,\n\t    element: createElementTypeChecker(),\n\t    instanceOf: createInstanceTypeChecker,\n\t    node: createNodeChecker(),\n\t    objectOf: createObjectOfTypeChecker,\n\t    oneOf: createEnumTypeChecker,\n\t    oneOfType: createUnionTypeChecker,\n\t    shape: createShapeTypeChecker,\n\t    exact: createStrictShapeTypeChecker,\n\t  };\n\t\n\t  /**\n\t   * inlined Object.is polyfill to avoid requiring consumers ship their own\n\t   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n\t   */\n\t  /*eslint-disable no-self-compare*/\n\t  function is(x, y) {\n\t    // SameValue algorithm\n\t    if (x === y) {\n\t      // Steps 1-5, 7-10\n\t      // Steps 6.b-6.e: +0 != -0\n\t      return x !== 0 || 1 / x === 1 / y;\n\t    } else {\n\t      // Step 6.a: NaN == NaN\n\t      return x !== x && y !== y;\n\t    }\n\t  }\n\t  /*eslint-enable no-self-compare*/\n\t\n\t  /**\n\t   * We use an Error-like object for backward compatibility as people may call\n\t   * PropTypes directly and inspect their output. However, we don't use real\n\t   * Errors anymore. We don't inspect their stack anyway, and creating them\n\t   * is prohibitively expensive if they are created too often, such as what\n\t   * happens in oneOfType() for any type before the one that matched.\n\t   */\n\t  function PropTypeError(message) {\n\t    this.message = message;\n\t    this.stack = '';\n\t  }\n\t  // Make `instanceof Error` still work for returned errors.\n\t  PropTypeError.prototype = Error.prototype;\n\t\n\t  function createChainableTypeChecker(validate) {\n\t    if (process.env.NODE_ENV !== 'production') {\n\t      var manualPropTypeCallCache = {};\n\t      var manualPropTypeWarningCount = 0;\n\t    }\n\t    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n\t      componentName = componentName || ANONYMOUS;\n\t      propFullName = propFullName || propName;\n\t\n\t      if (secret !== ReactPropTypesSecret) {\n\t        if (throwOnDirectAccess) {\n\t          // New behavior only for users of `prop-types` package\n\t          invariant(\n\t            false,\n\t            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n\t            'Use `PropTypes.checkPropTypes()` to call them. ' +\n\t            'Read more at http://fb.me/use-check-prop-types'\n\t          );\n\t        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n\t          // Old behavior for people using React.PropTypes\n\t          var cacheKey = componentName + ':' + propName;\n\t          if (\n\t            !manualPropTypeCallCache[cacheKey] &&\n\t            // Avoid spamming the console because they are often not actionable except for lib authors\n\t            manualPropTypeWarningCount < 3\n\t          ) {\n\t            warning(\n\t              false,\n\t              'You are manually calling a React.PropTypes validation ' +\n\t              'function for the `%s` prop on `%s`. This is deprecated ' +\n\t              'and will throw in the standalone `prop-types` package. ' +\n\t              'You may be seeing this warning due to a third-party PropTypes ' +\n\t              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.',\n\t              propFullName,\n\t              componentName\n\t            );\n\t            manualPropTypeCallCache[cacheKey] = true;\n\t            manualPropTypeWarningCount++;\n\t          }\n\t        }\n\t      }\n\t      if (props[propName] == null) {\n\t        if (isRequired) {\n\t          if (props[propName] === null) {\n\t            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n\t          }\n\t          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n\t        }\n\t        return null;\n\t      } else {\n\t        return validate(props, propName, componentName, location, propFullName);\n\t      }\n\t    }\n\t\n\t    var chainedCheckType = checkType.bind(null, false);\n\t    chainedCheckType.isRequired = checkType.bind(null, true);\n\t\n\t    return chainedCheckType;\n\t  }\n\t\n\t  function createPrimitiveTypeChecker(expectedType) {\n\t    function validate(props, propName, componentName, location, propFullName, secret) {\n\t      var propValue = props[propName];\n\t      var propType = getPropType(propValue);\n\t      if (propType !== expectedType) {\n\t        // `propValue` being instance of, say, date/regexp, pass the 'object'\n\t        // check, but we can offer a more precise error message here rather than\n\t        // 'of type `object`'.\n\t        var preciseType = getPreciseType(propValue);\n\t\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createAnyTypeChecker() {\n\t    return createChainableTypeChecker(emptyFunction.thatReturnsNull);\n\t  }\n\t\n\t  function createArrayOfTypeChecker(typeChecker) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      if (typeof typeChecker !== 'function') {\n\t        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n\t      }\n\t      var propValue = props[propName];\n\t      if (!Array.isArray(propValue)) {\n\t        var propType = getPropType(propValue);\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n\t      }\n\t      for (var i = 0; i < propValue.length; i++) {\n\t        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n\t        if (error instanceof Error) {\n\t          return error;\n\t        }\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createElementTypeChecker() {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      var propValue = props[propName];\n\t      if (!isValidElement(propValue)) {\n\t        var propType = getPropType(propValue);\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createInstanceTypeChecker(expectedClass) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      if (!(props[propName] instanceof expectedClass)) {\n\t        var expectedClassName = expectedClass.name || ANONYMOUS;\n\t        var actualClassName = getClassName(props[propName]);\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createEnumTypeChecker(expectedValues) {\n\t    if (!Array.isArray(expectedValues)) {\n\t      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n\t      return emptyFunction.thatReturnsNull;\n\t    }\n\t\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      var propValue = props[propName];\n\t      for (var i = 0; i < expectedValues.length; i++) {\n\t        if (is(propValue, expectedValues[i])) {\n\t          return null;\n\t        }\n\t      }\n\t\n\t      var valuesString = JSON.stringify(expectedValues);\n\t      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createObjectOfTypeChecker(typeChecker) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      if (typeof typeChecker !== 'function') {\n\t        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n\t      }\n\t      var propValue = props[propName];\n\t      var propType = getPropType(propValue);\n\t      if (propType !== 'object') {\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n\t      }\n\t      for (var key in propValue) {\n\t        if (propValue.hasOwnProperty(key)) {\n\t          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\t          if (error instanceof Error) {\n\t            return error;\n\t          }\n\t        }\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createUnionTypeChecker(arrayOfTypeCheckers) {\n\t    if (!Array.isArray(arrayOfTypeCheckers)) {\n\t      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n\t      return emptyFunction.thatReturnsNull;\n\t    }\n\t\n\t    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n\t      var checker = arrayOfTypeCheckers[i];\n\t      if (typeof checker !== 'function') {\n\t        warning(\n\t          false,\n\t          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n\t          'received %s at index %s.',\n\t          getPostfixForTypeWarning(checker),\n\t          i\n\t        );\n\t        return emptyFunction.thatReturnsNull;\n\t      }\n\t    }\n\t\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n\t        var checker = arrayOfTypeCheckers[i];\n\t        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n\t          return null;\n\t        }\n\t      }\n\t\n\t      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createNodeChecker() {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      if (!isNode(props[propName])) {\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createShapeTypeChecker(shapeTypes) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      var propValue = props[propName];\n\t      var propType = getPropType(propValue);\n\t      if (propType !== 'object') {\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n\t      }\n\t      for (var key in shapeTypes) {\n\t        var checker = shapeTypes[key];\n\t        if (!checker) {\n\t          continue;\n\t        }\n\t        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\t        if (error) {\n\t          return error;\n\t        }\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createStrictShapeTypeChecker(shapeTypes) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      var propValue = props[propName];\n\t      var propType = getPropType(propValue);\n\t      if (propType !== 'object') {\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n\t      }\n\t      // We need to check all keys in case some are required but missing from\n\t      // props.\n\t      var allKeys = assign({}, props[propName], shapeTypes);\n\t      for (var key in allKeys) {\n\t        var checker = shapeTypes[key];\n\t        if (!checker) {\n\t          return new PropTypeError(\n\t            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n\t            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n\t            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n\t          );\n\t        }\n\t        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\t        if (error) {\n\t          return error;\n\t        }\n\t      }\n\t      return null;\n\t    }\n\t\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function isNode(propValue) {\n\t    switch (typeof propValue) {\n\t      case 'number':\n\t      case 'string':\n\t      case 'undefined':\n\t        return true;\n\t      case 'boolean':\n\t        return !propValue;\n\t      case 'object':\n\t        if (Array.isArray(propValue)) {\n\t          return propValue.every(isNode);\n\t        }\n\t        if (propValue === null || isValidElement(propValue)) {\n\t          return true;\n\t        }\n\t\n\t        var iteratorFn = getIteratorFn(propValue);\n\t        if (iteratorFn) {\n\t          var iterator = iteratorFn.call(propValue);\n\t          var step;\n\t          if (iteratorFn !== propValue.entries) {\n\t            while (!(step = iterator.next()).done) {\n\t              if (!isNode(step.value)) {\n\t                return false;\n\t              }\n\t            }\n\t          } else {\n\t            // Iterator will provide entry [k,v] tuples rather than values.\n\t            while (!(step = iterator.next()).done) {\n\t              var entry = step.value;\n\t              if (entry) {\n\t                if (!isNode(entry[1])) {\n\t                  return false;\n\t                }\n\t              }\n\t            }\n\t          }\n\t        } else {\n\t          return false;\n\t        }\n\t\n\t        return true;\n\t      default:\n\t        return false;\n\t    }\n\t  }\n\t\n\t  function isSymbol(propType, propValue) {\n\t    // Native Symbol.\n\t    if (propType === 'symbol') {\n\t      return true;\n\t    }\n\t\n\t    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\t    if (propValue['@@toStringTag'] === 'Symbol') {\n\t      return true;\n\t    }\n\t\n\t    // Fallback for non-spec compliant Symbols which are polyfilled.\n\t    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n\t      return true;\n\t    }\n\t\n\t    return false;\n\t  }\n\t\n\t  // Equivalent of `typeof` but with special handling for array and regexp.\n\t  function getPropType(propValue) {\n\t    var propType = typeof propValue;\n\t    if (Array.isArray(propValue)) {\n\t      return 'array';\n\t    }\n\t    if (propValue instanceof RegExp) {\n\t      // Old webkits (at least until Android 4.0) return 'function' rather than\n\t      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n\t      // passes PropTypes.object.\n\t      return 'object';\n\t    }\n\t    if (isSymbol(propType, propValue)) {\n\t      return 'symbol';\n\t    }\n\t    return propType;\n\t  }\n\t\n\t  // This handles more types than `getPropType`. Only used for error messages.\n\t  // See `createPrimitiveTypeChecker`.\n\t  function getPreciseType(propValue) {\n\t    if (typeof propValue === 'undefined' || propValue === null) {\n\t      return '' + propValue;\n\t    }\n\t    var propType = getPropType(propValue);\n\t    if (propType === 'object') {\n\t      if (propValue instanceof Date) {\n\t        return 'date';\n\t      } else if (propValue instanceof RegExp) {\n\t        return 'regexp';\n\t      }\n\t    }\n\t    return propType;\n\t  }\n\t\n\t  // Returns a string that is postfixed to a warning about an invalid type.\n\t  // For example, \"undefined\" or \"of type array\"\n\t  function getPostfixForTypeWarning(value) {\n\t    var type = getPreciseType(value);\n\t    switch (type) {\n\t      case 'array':\n\t      case 'object':\n\t        return 'an ' + type;\n\t      case 'boolean':\n\t      case 'date':\n\t      case 'regexp':\n\t        return 'a ' + type;\n\t      default:\n\t        return type;\n\t    }\n\t  }\n\t\n\t  // Returns class name of the object, if any.\n\t  function getClassName(propValue) {\n\t    if (!propValue.constructor || !propValue.constructor.name) {\n\t      return ANONYMOUS;\n\t    }\n\t    return propValue.constructor.name;\n\t  }\n\t\n\t  ReactPropTypes.checkPropTypes = checkPropTypes;\n\t  ReactPropTypes.PropTypes = ReactPropTypes;\n\t\n\t  return ReactPropTypes;\n\t};\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t *\n\t * \n\t */\n\t\n\tfunction makeEmptyFunction(arg) {\n\t  return function () {\n\t    return arg;\n\t  };\n\t}\n\t\n\t/**\n\t * This function accepts and discards inputs; it has no side effects. This is\n\t * primarily useful idiomatically for overridable function endpoints which\n\t * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n\t */\n\tvar emptyFunction = function emptyFunction() {};\n\t\n\temptyFunction.thatReturns = makeEmptyFunction;\n\temptyFunction.thatReturnsFalse = makeEmptyFunction(false);\n\temptyFunction.thatReturnsTrue = makeEmptyFunction(true);\n\temptyFunction.thatReturnsNull = makeEmptyFunction(null);\n\temptyFunction.thatReturnsThis = function () {\n\t  return this;\n\t};\n\temptyFunction.thatReturnsArgument = function (arg) {\n\t  return arg;\n\t};\n\t\n\tmodule.exports = emptyFunction;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t *\n\t */\n\t\n\t'use strict';\n\t\n\t/**\n\t * Use invariant() to assert state which your program assumes to be true.\n\t *\n\t * Provide sprintf-style format (only %s is supported) and arguments\n\t * to provide information about what broke and what you were\n\t * expecting.\n\t *\n\t * The invariant message will be stripped in production, but the invariant\n\t * will remain to ensure logic does not differ in production.\n\t */\n\t\n\tvar validateFormat = function validateFormat(format) {};\n\t\n\tif (process.env.NODE_ENV !== 'production') {\n\t  validateFormat = function validateFormat(format) {\n\t    if (format === undefined) {\n\t      throw new Error('invariant requires an error message argument');\n\t    }\n\t  };\n\t}\n\t\n\tfunction invariant(condition, format, a, b, c, d, e, f) {\n\t  validateFormat(format);\n\t\n\t  if (!condition) {\n\t    var error;\n\t    if (format === undefined) {\n\t      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n\t    } else {\n\t      var args = [a, b, c, d, e, f];\n\t      var argIndex = 0;\n\t      error = new Error(format.replace(/%s/g, function () {\n\t        return args[argIndex++];\n\t      }));\n\t      error.name = 'Invariant Violation';\n\t    }\n\t\n\t    error.framesToPop = 1; // we don't care about invariant's own frame\n\t    throw error;\n\t  }\n\t}\n\t\n\tmodule.exports = invariant;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright (c) 2014-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t *\n\t */\n\t\n\t'use strict';\n\t\n\tvar emptyFunction = __webpack_require__(7);\n\t\n\t/**\n\t * Similar to invariant but only logs a warning if the condition is not met.\n\t * This can be used to log issues in development environments in critical\n\t * paths. Removing the logging code for production environments will keep the\n\t * same logic and follow the same code paths.\n\t */\n\t\n\tvar warning = emptyFunction;\n\t\n\tif (process.env.NODE_ENV !== 'production') {\n\t  var printWarning = function printWarning(format) {\n\t    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t      args[_key - 1] = arguments[_key];\n\t    }\n\t\n\t    var argIndex = 0;\n\t    var message = 'Warning: ' + format.replace(/%s/g, function () {\n\t      return args[argIndex++];\n\t    });\n\t    if (typeof console !== 'undefined') {\n\t      console.error(message);\n\t    }\n\t    try {\n\t      // --- Welcome to debugging React ---\n\t      // This error was thrown as a convenience so that you can use this stack\n\t      // to find the callsite that caused this warning to fire.\n\t      throw new Error(message);\n\t    } catch (x) {}\n\t  };\n\t\n\t  warning = function warning(condition, format) {\n\t    if (format === undefined) {\n\t      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n\t    }\n\t\n\t    if (format.indexOf('Failed Composite propType: ') === 0) {\n\t      return; // Ignore CompositeComponent proptype check.\n\t    }\n\t\n\t    if (!condition) {\n\t      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n\t        args[_key2 - 2] = arguments[_key2];\n\t      }\n\t\n\t      printWarning.apply(undefined, [format].concat(args));\n\t    }\n\t  };\n\t}\n\t\n\tmodule.exports = warning;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t/*\n\tobject-assign\n\t(c) Sindre Sorhus\n\t@license MIT\n\t*/\n\t\n\t'use strict';\n\t/* eslint-disable no-unused-vars */\n\tvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\tvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\t\n\tfunction toObject(val) {\n\t\tif (val === null || val === undefined) {\n\t\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t\t}\n\t\n\t\treturn Object(val);\n\t}\n\t\n\tfunction shouldUseNative() {\n\t\ttry {\n\t\t\tif (!Object.assign) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// Detect buggy property enumeration order in older V8 versions.\n\t\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\t\ttest1[5] = 'de';\n\t\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\t\tvar test2 = {};\n\t\t\tfor (var i = 0; i < 10; i++) {\n\t\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t\t}\n\t\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\t\treturn test2[n];\n\t\t\t});\n\t\t\tif (order2.join('') !== '0123456789') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\t\tvar test3 = {};\n\t\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\t\ttest3[letter] = letter;\n\t\t\t});\n\t\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t} catch (err) {\n\t\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\t\tvar from;\n\t\tvar to = toObject(target);\n\t\tvar symbols;\n\t\n\t\tfor (var s = 1; s < arguments.length; s++) {\n\t\t\tfrom = Object(arguments[s]);\n\t\n\t\t\tfor (var key in from) {\n\t\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\t\tto[key] = from[key];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (getOwnPropertySymbols) {\n\t\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn to;\n\t};\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\t\n\t'use strict';\n\t\n\tvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\t\n\tmodule.exports = ReactPropTypesSecret;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\t\n\t'use strict';\n\t\n\tif (process.env.NODE_ENV !== 'production') {\n\t  var invariant = __webpack_require__(8);\n\t  var warning = __webpack_require__(9);\n\t  var ReactPropTypesSecret = __webpack_require__(11);\n\t  var loggedTypeFailures = {};\n\t}\n\t\n\t/**\n\t * Assert that the values match with the type specs.\n\t * Error messages are memorized and will only be shown once.\n\t *\n\t * @param {object} typeSpecs Map of name to a ReactPropType\n\t * @param {object} values Runtime values that need to be type-checked\n\t * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n\t * @param {string} componentName Name of the component for error messages.\n\t * @param {?Function} getStack Returns the component stack.\n\t * @private\n\t */\n\tfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n\t  if (process.env.NODE_ENV !== 'production') {\n\t    for (var typeSpecName in typeSpecs) {\n\t      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n\t        var error;\n\t        // Prop type validation may throw. In case they do, we don't want to\n\t        // fail the render phase where it didn't fail before. So we log it.\n\t        // After these have been cleaned up, we'll let them throw.\n\t        try {\n\t          // This is intentionally an invariant that gets caught. It's the same\n\t          // behavior as without this statement except with a better message.\n\t          invariant(typeof typeSpecs[typeSpecName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'the `prop-types` package, but received `%s`.', componentName || 'React class', location, typeSpecName, typeof typeSpecs[typeSpecName]);\n\t          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n\t        } catch (ex) {\n\t          error = ex;\n\t        }\n\t        warning(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error);\n\t        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n\t          // Only monitor this failure once because there tends to be a lot of the\n\t          // same error.\n\t          loggedTypeFailures[error.message] = true;\n\t\n\t          var stack = getStack ? getStack() : '';\n\t\n\t          warning(false, 'Failed %s type: %s%s', location, error.message, stack != null ? stack : '');\n\t        }\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\tmodule.exports = checkPropTypes;\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\t\n\t'use strict';\n\t\n\tvar emptyFunction = __webpack_require__(7);\n\tvar invariant = __webpack_require__(8);\n\tvar ReactPropTypesSecret = __webpack_require__(11);\n\t\n\tmodule.exports = function() {\n\t  function shim(props, propName, componentName, location, propFullName, secret) {\n\t    if (secret === ReactPropTypesSecret) {\n\t      // It is still safe when called from React.\n\t      return;\n\t    }\n\t    invariant(\n\t      false,\n\t      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n\t      'Use PropTypes.checkPropTypes() to call them. ' +\n\t      'Read more at http://fb.me/use-check-prop-types'\n\t    );\n\t  };\n\t  shim.isRequired = shim;\n\t  function getShim() {\n\t    return shim;\n\t  };\n\t  // Important!\n\t  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\t  var ReactPropTypes = {\n\t    array: shim,\n\t    bool: shim,\n\t    func: shim,\n\t    number: shim,\n\t    object: shim,\n\t    string: shim,\n\t    symbol: shim,\n\t\n\t    any: shim,\n\t    arrayOf: getShim,\n\t    element: shim,\n\t    instanceOf: getShim,\n\t    node: shim,\n\t    objectOf: getShim,\n\t    oneOf: getShim,\n\t    oneOfType: getShim,\n\t    shape: getShim,\n\t    exact: getShim\n\t  };\n\t\n\t  ReactPropTypes.checkPropTypes = emptyFunction;\n\t  ReactPropTypes.PropTypes = ReactPropTypes;\n\t\n\t  return ReactPropTypes;\n\t};\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = require(\"react\");\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar simpleIsEqual = function simpleIsEqual(a, b) {\n\t  return a === b;\n\t};\n\t\n\tfunction index (resultFn) {\n\t  var isEqual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : simpleIsEqual;\n\t\n\t  var lastThis = void 0;\n\t  var lastArgs = [];\n\t  var lastResult = void 0;\n\t  var calledOnce = false;\n\t\n\t  var isNewArgEqualToLast = function isNewArgEqualToLast(newArg, index) {\n\t    return isEqual(newArg, lastArgs[index]);\n\t  };\n\t\n\t  var result = function result() {\n\t    for (var _len = arguments.length, newArgs = Array(_len), _key = 0; _key < _len; _key++) {\n\t      newArgs[_key] = arguments[_key];\n\t    }\n\t\n\t    if (calledOnce && lastThis === this && newArgs.length === lastArgs.length && newArgs.every(isNewArgEqualToLast)) {\n\t      return lastResult;\n\t    }\n\t\n\t    calledOnce = true;\n\t    lastThis = this;\n\t    lastArgs = newArgs;\n\t    lastResult = resultFn.apply(this, newArgs);\n\t    return lastResult;\n\t  };\n\t\n\t  return result;\n\t}\n\t\n\tmodule.exports = index;\n\n\n/***/ })\n/******/ ]);\n//# sourceMappingURL=main.js.map","import bestSubSequence from 'fast-array-diff/dist/diff/lcs'\n\nexport interface Change {\n  value: string\n  added?: boolean\n  removed?: boolean\n}\n\nexport function diffArr<T>(\n  a: T[],\n  b: T[],\n  compareFunc: (ia: T, ib: T) => boolean = (ia: T, ib: T) => ia === ib,\n): Change[] {\n  const list = []\n  bestSubSequence(\n    a,\n    b,\n    compareFunc,\n    (type, oldArr, oldStart, oldEnd, newArr, newStart, newEnd) => {\n      if (type === 'add') {\n        for (let i = newStart; i < newEnd; ++i) {\n          // ret.added.push(newArr[i]);\n          list.push({value: newArr[i], added: true})\n        }\n      } else if (type === 'remove') {\n        for (let i = oldStart; i < oldEnd; ++i) {\n          // ret.removed.push(oldArr[i]);\n          list.push({value: oldArr[i], removed: true})\n        }\n      } else {\n        for (let i = newStart; i < newEnd; ++i) {\n          list.push({value: newArr[i]})\n        }\n      }\n    },\n  )\n  return list\n}\n\nexport const replaceApostrophe = (str: string) =>\n  str\n    .replace(/”/g, '\"')\n    .replace(/“/g, '\"')\n    .replace(/’/g, \"'\")\n    .replace(/‘/g, \"'\")\n    .replace(/[\\u2018\\u2019]/g, \"'\")\n    .replace(/[\\u201C\\u201D]/g, '\"')\n// .replace(/[\\u2013\\u2014]/g, '-')\n// .replace(/[\\u2026]/g, '...')\n\nconst normalizeWord = (w) => replaceApostrophe(w.replace(/[\\s,.?]/, '').toLowerCase())\n\nfunction compareWord(wa, wb) {\n  if (wb === '') return false\n  if (wa === ' ' && wb === ' ') return true\n  return normalizeWord(wa) === normalizeWord(wb)\n}\n\nexport function diffText(oldString: string, newString: string): Change[] {\n  const oldArr = oldString.replace(/\\s\\s+/g, ' ').split(/( )/g)\n  const newArr = newString.replace(/\\s\\s+/g, ' ').split(/( )/g)\n  return diffArr(oldArr, newArr, compareWord)\n}\n\n// diffText(\n//   'Who are you? My name is Andy Sacks. I’m good',\n//   \"who is are you by my name is Andy sacs. I'm good\",\n// ) //?\n\n// diffText('Who are you? My name is Andy Sacks. I’m good', '') //?\n// diffText('They buy more guns', 'they more') //?\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","/**\n * Based on Kendo UI Core expression code <https://github.com/telerik/kendo-ui-core#license-information>\n */\n'use strict'\n\nfunction Cache(maxSize) {\n  this._maxSize = maxSize\n  this.clear()\n}\nCache.prototype.clear = function () {\n  this._size = 0\n  this._values = Object.create(null)\n}\nCache.prototype.get = function (key) {\n  return this._values[key]\n}\nCache.prototype.set = function (key, value) {\n  this._size >= this._maxSize && this.clear()\n  if (!(key in this._values)) this._size++\n\n  return (this._values[key] = value)\n}\n\nvar SPLIT_REGEX = /[^.^\\]^[]+|(?=\\[\\]|\\.\\.)/g,\n  DIGIT_REGEX = /^\\d+$/,\n  LEAD_DIGIT_REGEX = /^\\d/,\n  SPEC_CHAR_REGEX = /[~`!#$%\\^&*+=\\-\\[\\]\\\\';,/{}|\\\\\":<>\\?]/g,\n  CLEAN_QUOTES_REGEX = /^\\s*(['\"]?)(.*?)(\\1)\\s*$/,\n  MAX_CACHE_SIZE = 512\n\nvar pathCache = new Cache(MAX_CACHE_SIZE),\n  setCache = new Cache(MAX_CACHE_SIZE),\n  getCache = new Cache(MAX_CACHE_SIZE)\n\nvar config\n\nmodule.exports = {\n  Cache: Cache,\n\n  split: split,\n\n  normalizePath: normalizePath,\n\n  setter: function (path) {\n    var parts = normalizePath(path)\n\n    return (\n      setCache.get(path) ||\n      setCache.set(path, function setter(obj, value) {\n        var index = 0\n        var len = parts.length\n        var data = obj\n\n        while (index < len - 1) {\n          var part = parts[index]\n          if (\n            part === '__proto__' ||\n            part === 'constructor' ||\n            part === 'prototype'\n          ) {\n            return obj\n          }\n\n          data = data[parts[index++]]\n        }\n        data[parts[index]] = value\n      })\n    )\n  },\n\n  getter: function (path, safe) {\n    var parts = normalizePath(path)\n    return (\n      getCache.get(path) ||\n      getCache.set(path, function getter(data) {\n        var index = 0,\n          len = parts.length\n        while (index < len) {\n          if (data != null || !safe) data = data[parts[index++]]\n          else return\n        }\n        return data\n      })\n    )\n  },\n\n  join: function (segments) {\n    return segments.reduce(function (path, part) {\n      return (\n        path +\n        (isQuoted(part) || DIGIT_REGEX.test(part)\n          ? '[' + part + ']'\n          : (path ? '.' : '') + part)\n      )\n    }, '')\n  },\n\n  forEach: function (path, cb, thisArg) {\n    forEach(Array.isArray(path) ? path : split(path), cb, thisArg)\n  },\n}\n\nfunction normalizePath(path) {\n  return (\n    pathCache.get(path) ||\n    pathCache.set(\n      path,\n      split(path).map(function (part) {\n        return part.replace(CLEAN_QUOTES_REGEX, '$2')\n      })\n    )\n  )\n}\n\nfunction split(path) {\n  return path.match(SPLIT_REGEX)\n}\n\nfunction forEach(parts, iter, thisArg) {\n  var len = parts.length,\n    part,\n    idx,\n    isArray,\n    isBracket\n\n  for (idx = 0; idx < len; idx++) {\n    part = parts[idx]\n\n    if (part) {\n      if (shouldBeQuoted(part)) {\n        part = '\"' + part + '\"'\n      }\n\n      isBracket = isQuoted(part)\n      isArray = !isBracket && /^\\d+$/.test(part)\n\n      iter.call(thisArg, part, isBracket, isArray, idx, parts)\n    }\n  }\n}\n\nfunction isQuoted(str) {\n  return (\n    typeof str === 'string' && str && [\"'\", '\"'].indexOf(str.charAt(0)) !== -1\n  )\n}\n\nfunction hasLeadingNumber(part) {\n  return part.match(LEAD_DIGIT_REGEX) && !part.match(DIGIT_REGEX)\n}\n\nfunction hasSpecialChars(part) {\n  return SPEC_CHAR_REGEX.test(part)\n}\n\nfunction shouldBeQuoted(part) {\n  return !isQuoted(part) && (hasLeadingNumber(part) || hasSpecialChars(part))\n}\n","import {Injectable} from '@angular/core'\nimport {HammerGestureConfig} from '@angular/platform-browser'\n\n/**\n * @hidden\n * This class overrides the default Angular gesture config.\n */\n@Injectable()\nexport class IonicGestureConfig extends HammerGestureConfig {\n  buildHammer(element: HTMLElement) {\n    const mc = new (window as any).Hammer(element, {\n      cssProps: {\n        userSelect: true,\n      },\n    })\n    for (const eventName in this.overrides) {\n      if (eventName) {\n        mc.get(eventName).set(this.overrides[eventName])\n      }\n    }\n\n    return mc\n  }\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import BaseSchema from './schema';\nconst Mixed = BaseSchema;\nexport default Mixed;\nexport function create() {\n  return new Mixed();\n} // XXX: this is using the Base schema so that `addMethod(mixed)` works as a base class\n\ncreate.prototype = Mixed.prototype;","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n","import {CommonModule} from '@angular/common'\nimport {CUSTOM_ELEMENTS_SCHEMA, NgModule} from '@angular/core'\nimport {FormsModule} from '@angular/forms'\nimport {HAMMER_GESTURE_CONFIG} from '@angular/platform-browser'\nimport {RouterModule, Routes} from '@angular/router'\nimport {IonicModule} from '@ionic/angular'\nimport {Media} from '@ionic-native/media/ngx/'\nimport {File} from '@ionic-native/file/ngx/'\nimport {AndroidPermissions} from '@ionic-native/android-permissions/ngx/'\nimport {Diagnostic} from '@ionic-native/diagnostic/ngx/'\nimport {IonicGestureConfig} from './../../../../_helpers/IonicGestureConfig'\nimport {LessonStepsPage} from './lesson-steps.page'\n\nconst routes: Routes = [\n  {\n    path: '**',\n    component: LessonStepsPage,\n  },\n]\n\n@NgModule({\n  declarations: [LessonStepsPage],\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes)],\n  providers: [\n    Media,\n    File,\n    {\n      provide: HAMMER_GESTURE_CONFIG,\n      useClass: IonicGestureConfig,\n    },\n    AndroidPermissions,\n    Diagnostic,\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n})\nexport class LessonStepsPageModule {}\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nmodule.exports = asciiToArray;\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","export default function toArray(value) {\n  return value == null ? [] : [].concat(value);\n}","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nmodule.exports = asciiWords;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","import {gql} from '@apollo/client'\nimport {currentLessonIdVar} from 'src/reactapp/apollo-client'\nimport {useGetLessonDeatilQuery} from 'src/reactapp/types-and-hooks'\n\nexport const GET_DICTATION = gql`\n  query getDictation($lessonId: Int!, $sceneIdx: Int!) {\n    dictation(lessonId: $lessonId, sceneIdx: $sceneIdx) @client\n  }\n`\n\nexport function useCurrentLesson() {\n  const {data} = useGetLessonDeatilQuery({\n    variables: {\n      id: currentLessonIdVar(),\n    },\n    fetchPolicy: 'cache-only',\n  })\n  return data.lesson\n}\n","import Reference from '../Reference';\nexport default class ReferenceSet {\n  constructor() {\n    this.list = new Set();\n    this.refs = new Map();\n  }\n\n  get size() {\n    return this.list.size + this.refs.size;\n  }\n\n  describe() {\n    const description = [];\n\n    for (const item of this.list) description.push(item);\n\n    for (const [, ref] of this.refs) description.push(ref.describe());\n\n    return description;\n  }\n\n  toArray() {\n    return Array.from(this.list).concat(Array.from(this.refs.values()));\n  }\n\n  add(value) {\n    Reference.isRef(value) ? this.refs.set(value.key, value) : this.list.add(value);\n  }\n\n  delete(value) {\n    Reference.isRef(value) ? this.refs.delete(value.key) : this.list.delete(value);\n  }\n\n  has(value, resolve) {\n    if (this.list.has(value)) return true;\n    let item,\n        values = this.refs.values();\n\n    while (item = values.next(), !item.done) if (resolve(item.value) === value) return true;\n\n    return false;\n  }\n\n  clone() {\n    const next = new ReferenceSet();\n    next.list = new Set(this.list);\n    next.refs = new Map(this.refs);\n    return next;\n  }\n\n  merge(newItems, removeItems) {\n    const next = this.clone();\n    newItems.list.forEach(value => next.add(value));\n    newItems.refs.forEach(value => next.add(value));\n    removeItems.list.forEach(value => next.delete(value));\n    removeItems.refs.forEach(value => next.delete(value));\n    return next;\n  }\n\n}","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nmodule.exports = hasUnicodeWord;\n","import * as React from 'react'\nimport {\n  IonButton,\n  IonCol,\n  IonLabel,\n  IonRow,\n  IonSegment,\n  IonSegmentButton,\n} from '@ionic/react'\nimport {useLessonStore} from './useLessonStore'\nimport PlayerStates from 'youtube-player/dist/constants/PlayerStates'\nimport {NextButton} from './NextButton'\nimport {ActionBar} from './ActionBar'\nimport {useCurrentLesson} from './lessonHooks'\nimport {\n  useGetProfileQuery,\n  useSetLessonCompletedMutation,\n} from 'src/reactapp/types-and-hooks'\nimport {Box} from '@chakra-ui/react'\nimport {Comments} from 'src/app/dashboard/lessons/lesson-details/comments/Comments'\nimport {useStore} from 'src/reactapp/useStore'\nimport clsx from 'clsx'\n\nexport function LessonStepReListen({Footer}) {\n  const {\n    data: {profile},\n  } = useGetProfileQuery()\n  const [showScript, setShowScript] = React.useState(true)\n  const navController = useStore((state) => state.navController)\n  const sharedService = useStore((state) => state.sharedService)\n  const platform = useStore((state) => state.platform)\n  const lesson = useCurrentLesson()\n  const [sceneIdx, setSceneIdx] = React.useState(0)\n  const [segment, setSegment] = React.useState('comments')\n  const [isEnd, setIsEnd] = React.useState(false)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const play = useLessonStore((state) => state.play)\n  const playerState = useLessonStore((state) => state.playerState)\n  const setOverlay = useLessonStore((state) => state.setOverlay)\n  const [setLessonCompleted] = useSetLessonCompletedMutation({\n    onCompleted: (data) => {\n      sharedService.removeNativeStorage('leftOfData')\n    },\n  })\n\n  const scene = lesson.scenes[sceneIdx]\n\n  React.useEffect(() => {\n    if (!lesson.isCompleted) {\n      setLessonCompleted({variables: {lessonId: lesson._id}})\n    }\n  }, [lesson])\n\n  React.useEffect(() => {\n    ytPlayer.seekTo(scene.start, true)\n    ytPlayer.playVideo()\n    if (sceneIdx === 0) {\n      setOverlay(\n        <div\n          style={{textAlign: 'center', fontWeight: 400, textShadow: '0px 0px 4px black'}}\n        >\n          <div>\n            Listen again <br />\n            to see how much more <br />\n            you can understand <br />\n          </div>\n        </div>,\n      )\n    } else {\n      setOverlay(null)\n    }\n\n    const to = setTimeout(\n      () => {\n        setOverlay(null)\n      },\n      sceneIdx === 0 ? 2000 : 800,\n    )\n\n    return () => {\n      setOverlay(null)\n      clearTimeout(to)\n    }\n  }, [sceneIdx])\n\n  React.useEffect(() => {\n    if (playerState === PlayerStates.PLAYING) {\n      const itv = setInterval(() => {\n        const cur = ytPlayer.getCurrentTime()\n        if (cur > scene.end) {\n          clearInterval(itv)\n          const lastIdx = lesson.scenes.length - 1\n          if (sceneIdx < lastIdx) {\n            ytPlayer.seekTo(scene.start, true)\n            setSceneIdx(sceneIdx + 1)\n          } else {\n            ytPlayer.pauseVideo()\n            setIsEnd(true)\n          }\n        }\n      }, 100)\n      return () => clearInterval(itv)\n    }\n  }, [playerState, scene, sceneIdx])\n\n  return (\n    <>\n      <ActionBar\n        onPlayClick={() => {\n          if (isEnd) {\n            ytPlayer.seekTo(lesson.scenes[0].start, true)\n            setSceneIdx(0)\n            setIsEnd(false)\n          } else {\n            play()\n          }\n        }}\n      />\n      <div className=\"re-listen\">\n        <IonRow className=\"ion-align-items-center ion-justify-content-center\">\n          <IonCol\n            size-xs=\"12\"\n            size-sm=\"12\"\n            size-md=\"10\"\n            size-xl=\"8\"\n            size-lg=\"8\"\n            className=\"ion-align-self-center ion-no-padding\"\n          >\n            <IonSegment\n              color=\"danger\"\n              mode=\"md\"\n              value={segment}\n              onIonChange={(e) => setSegment(e.detail.value)}\n            >\n              <IonSegmentButton id=\"highlight-comment\" mode=\"md\" value=\"comments\">\n                <IonLabel>Comments</IonLabel>\n              </IonSegmentButton>\n              <IonSegmentButton mode=\"md\" value=\"scripts\">\n                <IonLabel>Script</IonLabel>\n              </IonSegmentButton>\n            </IonSegment>\n          </IonCol>\n        </IonRow>\n        <div className=\"tab-content\">\n          {segment === 'comments' ? (\n            <Box>\n              <p>\n                How was this lesson? Leave your thoughts and share new things you’ve\n                learned.\n              </p>\n              <Comments\n                lessonId={lesson?.lessonId}\n                subLessonId={lesson?._id}\n                profile={profile}\n                platform={platform}\n              />\n            </Box>\n          ) : (\n            <Box p={1}>\n              <div>\n                {showScript ? (\n                  <IonButton\n                    onClick={() => setShowScript(false)}\n                    className=\"ion-float-right show-hide-btn\"\n                    color=\"dark\"\n                    mode=\"ios\"\n                    shape=\"round\"\n                    size=\"small\"\n                    fill=\"outline\"\n                    id=\"script-label\"\n                  >\n                    Hide\n                  </IonButton>\n                ) : (\n                  <IonButton\n                    onClick={() => setShowScript(true)}\n                    className=\"ion-float-right show-hide-btn\"\n                    color=\"dark\"\n                    mode=\"ios\"\n                    fill=\"solid\"\n                    shape=\"round\"\n                    size=\"small\"\n                  >\n                    Show\n                  </IonButton>\n                )}\n              </div>\n              <div className=\"scripts\">\n                {showScript &&\n                  lesson.scenes.map((scene, i) => (\n                    <p key={i} className={clsx(sceneIdx === i && 'c-red')}>\n                      {i + 1}. {scene.langs.En.txt}\n                    </p>\n                  ))}\n              </div>\n            </Box>\n          )}\n        </div>\n      </div>\n\n      <Footer>\n        <NextButton\n          onClick={() => {\n            ytPlayer.stopVideo()\n            navController.navigateRoot('/lesson-complete')\n          }}\n        />\n      </Footer>\n    </>\n  )\n}\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","var createCaseFirst = require('./_createCaseFirst');\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\nmodule.exports = upperFirst;\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core'\nimport {ActivatedRoute, Router} from '@angular/router'\nimport {AlertController, NavController} from '@ionic/angular'\nimport * as React from 'react'\nimport * as ReactDOM from 'react-dom'\nimport {BrowserRouter, Route, Switch} from 'react-router-dom'\nimport AppProvider from 'src/reactapp/AppProvider'\nimport RLessonStepsPage from 'src/reactapp/pages/lessonSteps/LessonStepsPage'\nimport {SharedService} from './../../../../services/shared.service'\n// import {ScenesPopoverComponent} from './scenes-popover/scenes-popover.component'\n// import {StepsPopoverComponent} from './steps-popover/steps-popover.component'\n// import '../../../../../reactapp/pages/lessonSteps/LessonStepsPage.scss'\n\ndelete (window as any).Hammer.defaults.cssProps.userSelect\n\n// Sentry.init({\n//   dsn: 'https://01711b0158cb4cb0933f572b35a02f01@o507769.ingest.sentry.io/5599313',\n//   integrations: [new Integrations.BrowserTracing()],\n//   tracesSampleRate: 1.0,\n//   maxBreadcrumbs: 1,\n// })\n\nfunction LessonStepsApp() {\n  return (\n    <AppProvider>\n      {/* <ChakraProvider> */}\n      <BrowserRouter\n      // basename=\"/lesson-steps\"\n      >\n        <Switch>\n          <Route\n            path=\"/lesson-steps/:subLessonId/:isDraft\"\n            exact={false}\n            component={RLessonStepsPage}\n          />\n          {/* <Redirect from=\"/\" to=\"/s1\" /> */}\n        </Switch>\n      </BrowserRouter>\n      {/* </ChakraProvider> */}\n    </AppProvider>\n  )\n}\n\nconst containerElementName = 'rcLessonSteps'\n\n@Component({\n  selector: 'app-lesson-steps',\n  template: `<div #${containerElementName}></div>`,\n  styleUrls: [\n    '../../../../../reactapp/pages/lessonSteps/LessonStepsPage.scss',\n    '../comments/Comments.scss',\n  ],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class LessonStepsPage implements OnInit, OnDestroy, OnChanges, AfterViewInit {\n  @ViewChild(containerElementName, {static: false}) containerRef: ElementRef\n\n  isLoaded: boolean = false\n\n  dictationPlayCount = 0\n  reviewingPlayCount = 0\n  practicePlayCount = 0\n\n  subLessonId\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    private sharedService: SharedService,\n    private alertController: AlertController,\n    private navController: NavController,\n  ) {\n    // window['platform'] = platform\n    // console.log(platform.is())\n\n    this.sharedService.gaTrackView('Lesson Steps Screen')\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    console.log({changes})\n    this.render()\n  }\n\n  ngAfterViewInit() {\n    this.render()\n  }\n\n  ngOnDestroy() {\n    console.log('destory')\n    ReactDOM.unmountComponentAtNode(this.containerRef.nativeElement)\n  }\n\n  private render() {\n    if (this.containerRef) {\n      ReactDOM.render(<LessonStepsApp />, this.containerRef.nativeElement)\n    }\n  }\n\n  ngOnInit() {\n    this.route.params.subscribe(async (params) => {\n      try {\n        const subLessonId = params.subLessonId\n        if (!subLessonId) {\n          throw new Error('No SubLessonId')\n        }\n        console.log({params})\n        this.subLessonId = subLessonId\n        const isDraft = JSON.parse(params.isDraft)\n        this.isLoaded = false\n        // this.setCompletedRepetitionFalse()\n        // await this.loadDatas(subLessonId, isDraft)\n      } catch (error) {\n        this.showAlertAndExit(error)\n      }\n    })\n  }\n\n  showAlertAndExit(error) {\n    this.alertController\n      .create({\n        header: 'Alert!',\n        message: error,\n        buttons: [\n          {\n            text: 'OK',\n            handler: () => {\n              console.log('Confirm Okay')\n              this.router.navigate(['/dashboard/lessons'])\n              this.navController.setDirection('root')\n            },\n          },\n        ],\n      })\n      .then((alert) => alert.present())\n  }\n\n  back() {\n    this.navController.pop()\n  }\n}\n","import { forEach } from 'property-expr';\n\nlet trim = part => part.substr(0, part.length - 1).substr(1);\n\nexport function getIn(schema, path, value, context = value) {\n  let parent, lastPart, lastPartDebug; // root path: ''\n\n  if (!path) return {\n    parent,\n    parentPath: path,\n    schema\n  };\n  forEach(path, (_part, isBracket, isArray) => {\n    let part = isBracket ? trim(_part) : _part;\n    schema = schema.resolve({\n      context,\n      parent,\n      value\n    });\n\n    if (schema.innerType) {\n      let idx = isArray ? parseInt(part, 10) : 0;\n\n      if (value && idx >= value.length) {\n        throw new Error(`Yup.reach cannot resolve an array item at index: ${_part}, in the path: ${path}. ` + `because there is no value at that index. `);\n      }\n\n      parent = value;\n      value = value && value[idx];\n      schema = schema.innerType;\n    } // sometimes the array index part of a path doesn't exist: \"nested.arr.child\"\n    // in these cases the current part is the next schema and should be processed\n    // in this iteration. For cases where the index signature is included this\n    // check will fail and we'll handle the `child` part on the next iteration like normal\n\n\n    if (!isArray) {\n      if (!schema.fields || !schema.fields[part]) throw new Error(`The schema does not contain the path: ${path}. ` + `(failed at: ${lastPartDebug} which is a type: \"${schema._type}\")`);\n      parent = value;\n      value = value && value[part];\n      schema = schema.fields[part];\n    }\n\n    lastPart = part;\n    lastPartDebug = isBracket ? '[' + _part + ']' : '.' + _part;\n  });\n  return {\n    schema,\n    parent,\n    parentPath: lastPart\n  };\n}\n\nconst reach = (obj, path, value, context) => getIn(obj, path, value, context).schema;\n\nexport default reach;","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","import { __extends } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { IonicNativePlugin, cordova, cordovaPropertyGet, cordovaPropertySet } from '@ionic-native/core';\nvar Diagnostic = /** @class */ (function (_super) {\n    __extends(Diagnostic, _super);\n    function Diagnostic() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.permission = {\n            READ_CALENDAR: 'READ_CALENDAR',\n            WRITE_CALENDAR: 'WRITE_CALENDAR',\n            CAMERA: 'CAMERA',\n            READ_CONTACTS: 'READ_CONTACTS',\n            WRITE_CONTACTS: 'WRITE_CONTACTS',\n            GET_ACCOUNTS: 'GET_ACCOUNTS',\n            ACCESS_FINE_LOCATION: 'ACCESS_FINE_LOCATION',\n            ACCESS_COARSE_LOCATION: 'ACCESS_COARSE_LOCATION',\n            RECORD_AUDIO: 'RECORD_AUDIO',\n            READ_PHONE_STATE: 'READ_PHONE_STATE',\n            CALL_PHONE: 'CALL_PHONE',\n            ADD_VOICEMAIL: 'ADD_VOICEMAIL',\n            USE_SIP: 'USE_SIP',\n            PROCESS_OUTGOING_CALLS: 'PROCESS_OUTGOING_CALLS',\n            READ_CALL_LOG: 'READ_CALL_LOG',\n            WRITE_CALL_LOG: 'WRITE_CALL_LOG',\n            SEND_SMS: 'SEND_SMS',\n            RECEIVE_SMS: 'RECEIVE_SMS',\n            READ_SMS: 'READ_SMS',\n            RECEIVE_WAP_PUSH: 'RECEIVE_WAP_PUSH',\n            RECEIVE_MMS: 'RECEIVE_MMS',\n            WRITE_EXTERNAL_STORAGE: 'WRITE_EXTERNAL_STORAGE',\n            READ_EXTERNAL_STORAGE: 'READ_EXTERNAL_STORAGE',\n            BODY_SENSORS: 'BODY_SENSORS',\n        };\n        _this.locationAuthorizationMode = {\n            ALWAYS: 'always',\n            WHEN_IN_USE: 'when_in_use',\n        };\n        _this.permissionGroups = {\n            CALENDAR: ['READ_CALENDAR', 'WRITE_CALENDAR'],\n            CAMERA: ['CAMERA'],\n            CONTACTS: ['READ_CONTACTS', 'WRITE_CONTACTS', 'GET_ACCOUNTS'],\n            LOCATION: ['ACCESS_FINE_LOCATION', 'ACCESS_COARSE_LOCATION'],\n            MICROPHONE: ['RECORD_AUDIO'],\n            PHONE: [\n                'READ_PHONE_STATE',\n                'CALL_PHONE',\n                'ADD_VOICEMAIL',\n                'USE_SIP',\n                'PROCESS_OUTGOING_CALLS',\n                'READ_CALL_LOG',\n                'WRITE_CALL_LOG',\n            ],\n            SENSORS: ['BODY_SENSORS'],\n            SMS: ['SEND_SMS', 'RECEIVE_SMS', 'READ_SMS', 'RECEIVE_WAP_PUSH', 'RECEIVE_MMS'],\n            STORAGE: ['READ_EXTERNAL_STORAGE', 'WRITE_EXTERNAL_STORAGE'],\n        };\n        _this.locationMode = {\n            HIGH_ACCURACY: 'high_accuracy',\n            DEVICE_ONLY: 'device_only',\n            BATTERY_SAVING: 'battery_saving',\n            LOCATION_OFF: 'location_off',\n        };\n        _this.bluetoothState = {\n            UNKNOWN: 'unknown',\n            RESETTING: 'resetting',\n            UNSUPPORTED: 'unsupported',\n            UNAUTHORIZED: 'unauthorized',\n            POWERED_OFF: 'powered_off',\n            POWERED_ON: 'powered_on',\n            POWERING_OFF: 'powering_off',\n            POWERING_ON: 'powering_on',\n        };\n        return _this;\n    }\n    Diagnostic.prototype.isLocationAvailable = function () { return cordova(this, \"isLocationAvailable\", {}, arguments); };\n    Diagnostic.prototype.isWifiAvailable = function () { return cordova(this, \"isWifiAvailable\", {}, arguments); };\n    Diagnostic.prototype.isCameraAvailable = function (externalStorage) { return cordova(this, \"isCameraAvailable\", { \"callbackOrder\": \"reverse\" }, arguments); };\n    Diagnostic.prototype.isBluetoothAvailable = function () { return cordova(this, \"isBluetoothAvailable\", {}, arguments); };\n    Diagnostic.prototype.switchToLocationSettings = function () { return cordova(this, \"switchToLocationSettings\", { \"sync\": true, \"platforms\": [\"Android\", \"Windows 10\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.switchToMobileDataSettings = function () { return cordova(this, \"switchToMobileDataSettings\", { \"sync\": true, \"platforms\": [\"Android\", \"Windows 10\"] }, arguments); };\n    Diagnostic.prototype.switchToBluetoothSettings = function () { return cordova(this, \"switchToBluetoothSettings\", { \"sync\": true, \"platforms\": [\"Android\", \"Windows 10\"] }, arguments); };\n    Diagnostic.prototype.switchToWifiSettings = function () { return cordova(this, \"switchToWifiSettings\", { \"sync\": true, \"platforms\": [\"Android\", \"Windows 10\"] }, arguments); };\n    Diagnostic.prototype.isWifiEnabled = function () { return cordova(this, \"isWifiEnabled\", { \"platforms\": [\"Android\", \"Windows 10\"] }, arguments); };\n    Diagnostic.prototype.setWifiState = function (state) { return cordova(this, \"setWifiState\", { \"callbackOrder\": \"reverse\", \"platforms\": [\"Android\", \"Windows 10\"] }, arguments); };\n    Diagnostic.prototype.setBluetoothState = function (state) { return cordova(this, \"setBluetoothState\", { \"callbackOrder\": \"reverse\", \"platforms\": [\"Android\", \"Windows 10\"] }, arguments); };\n    Diagnostic.prototype.isLocationEnabled = function () { return cordova(this, \"isLocationEnabled\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.isLocationAuthorized = function () { return cordova(this, \"isLocationAuthorized\", {}, arguments); };\n    Diagnostic.prototype.getLocationAuthorizationStatus = function () { return cordova(this, \"getLocationAuthorizationStatus\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.requestLocationAuthorization = function (mode) { return cordova(this, \"requestLocationAuthorization\", { \"platforms\": [\"Android\", \"iOS\"], \"callbackOrder\": \"reverse\" }, arguments); };\n    Diagnostic.prototype.isCameraPresent = function () { return cordova(this, \"isCameraPresent\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.isCameraAuthorized = function (externalStorage) { return cordova(this, \"isCameraAuthorized\", { \"platforms\": [\"Android\", \"iOS\"], \"callbackOrder\": \"reverse\" }, arguments); };\n    Diagnostic.prototype.getCameraAuthorizationStatus = function (externalStorage) { return cordova(this, \"getCameraAuthorizationStatus\", { \"platforms\": [\"Android\", \"iOS\"], \"callbackOrder\": \"reverse\" }, arguments); };\n    Diagnostic.prototype.requestCameraAuthorization = function (externalStorage) { return cordova(this, \"requestCameraAuthorization\", { \"platforms\": [\"Android\", \"iOS\"], \"callbackOrder\": \"reverse\" }, arguments); };\n    Diagnostic.prototype.isMicrophoneAuthorized = function () { return cordova(this, \"isMicrophoneAuthorized\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.getMicrophoneAuthorizationStatus = function () { return cordova(this, \"getMicrophoneAuthorizationStatus\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.requestMicrophoneAuthorization = function () { return cordova(this, \"requestMicrophoneAuthorization\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.isContactsAuthorized = function () { return cordova(this, \"isContactsAuthorized\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.getContactsAuthorizationStatus = function () { return cordova(this, \"getContactsAuthorizationStatus\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.requestContactsAuthorization = function () { return cordova(this, \"requestContactsAuthorization\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.isCalendarAuthorized = function () { return cordova(this, \"isCalendarAuthorized\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.getCalendarAuthorizationStatus = function () { return cordova(this, \"getCalendarAuthorizationStatus\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.requestCalendarAuthorization = function () { return cordova(this, \"requestCalendarAuthorization\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.switchToSettings = function () { return cordova(this, \"switchToSettings\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.getBluetoothState = function () { return cordova(this, \"getBluetoothState\", { \"platforms\": [\"Android\", \"iOS\"] }, arguments); };\n    Diagnostic.prototype.registerBluetoothStateChangeHandler = function (handler) { return cordova(this, \"registerBluetoothStateChangeHandler\", { \"platforms\": [\"Android\", \"iOS\"], \"sync\": true }, arguments); };\n    Diagnostic.prototype.registerLocationStateChangeHandler = function (handler) { return cordova(this, \"registerLocationStateChangeHandler\", { \"platforms\": [\"Android\", \"iOS\"], \"sync\": true }, arguments); };\n    Diagnostic.prototype.isGpsLocationAvailable = function () { return cordova(this, \"isGpsLocationAvailable\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.isGpsLocationEnabled = function () { return cordova(this, \"isGpsLocationEnabled\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.isNetworkLocationAvailable = function () { return cordova(this, \"isNetworkLocationAvailable\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.isNetworkLocationEnabled = function () { return cordova(this, \"isNetworkLocationEnabled\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.getLocationMode = function () { return cordova(this, \"getLocationMode\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.getPermissionAuthorizationStatus = function (permission) { return cordova(this, \"getPermissionAuthorizationStatus\", { \"platforms\": [\"Android\"], \"callbackOrder\": \"reverse\" }, arguments); };\n    Diagnostic.prototype.getPermissionsAuthorizationStatus = function (permissions) { return cordova(this, \"getPermissionsAuthorizationStatus\", { \"platforms\": [\"Android\"], \"callbackOrder\": \"reverse\" }, arguments); };\n    Diagnostic.prototype.requestRuntimePermission = function (permission) { return cordova(this, \"requestRuntimePermission\", { \"platforms\": [\"Android\"], \"callbackOrder\": \"reverse\" }, arguments); };\n    Diagnostic.prototype.requestRuntimePermissions = function (permissions) { return cordova(this, \"requestRuntimePermissions\", { \"platforms\": [\"Android\"], \"callbackOrder\": \"reverse\" }, arguments); };\n    Diagnostic.prototype.isRequestingPermission = function () { return cordova(this, \"isRequestingPermission\", { \"sync\": true }, arguments); };\n    Diagnostic.prototype.registerPermissionRequestCompleteHandler = function (handler) { return cordova(this, \"registerPermissionRequestCompleteHandler\", { \"sync\": true }, arguments); };\n    Diagnostic.prototype.isBluetoothEnabled = function () { return cordova(this, \"isBluetoothEnabled\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.hasBluetoothSupport = function () { return cordova(this, \"hasBluetoothSupport\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.hasBluetoothLESupport = function () { return cordova(this, \"hasBluetoothLESupport\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.hasBluetoothLEPeripheralSupport = function () { return cordova(this, \"hasBluetoothLEPeripheralSupport\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.isExternalStorageAuthorized = function () { return cordova(this, \"isExternalStorageAuthorized\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.getExternalStorageAuthorizationStatus = function () { return cordova(this, \"getExternalStorageAuthorizationStatus\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.requestExternalStorageAuthorization = function () { return cordova(this, \"requestExternalStorageAuthorization\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.getExternalSdCardDetails = function () { return cordova(this, \"getExternalSdCardDetails\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.switchToWirelessSettings = function () { return cordova(this, \"switchToWirelessSettings\", { \"platforms\": [\"Android\"], \"sync\": true }, arguments); };\n    Diagnostic.prototype.switchToNFCSettings = function () { return cordova(this, \"switchToNFCSettings\", { \"platforms\": [\"Android\"], \"sync\": true }, arguments); };\n    Diagnostic.prototype.isNFCPresent = function () { return cordova(this, \"isNFCPresent\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.isNFCEnabled = function () { return cordova(this, \"isNFCEnabled\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.isNFCAvailable = function () { return cordova(this, \"isNFCAvailable\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.registerNFCStateChangeHandler = function (handler) { return cordova(this, \"registerNFCStateChangeHandler\", { \"platforms\": [\"Android\"], \"sync\": true }, arguments); };\n    Diagnostic.prototype.isDataRoamingEnabled = function () { return cordova(this, \"isDataRoamingEnabled\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.isADBModeEnabled = function () { return cordova(this, \"isADBModeEnabled\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.isDeviceRooted = function () { return cordova(this, \"isDeviceRooted\", { \"platforms\": [\"Android\"] }, arguments); };\n    Diagnostic.prototype.isCameraRollAuthorized = function () { return cordova(this, \"isCameraRollAuthorized\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.getCameraRollAuthorizationStatus = function () { return cordova(this, \"getCameraRollAuthorizationStatus\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.requestCameraRollAuthorization = function () { return cordova(this, \"requestCameraRollAuthorization\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.isRemoteNotificationsEnabled = function () { return cordova(this, \"isRemoteNotificationsEnabled\", { \"platforms\": [\"iOS\", \"Android\"] }, arguments); };\n    Diagnostic.prototype.isRegisteredForRemoteNotifications = function () { return cordova(this, \"isRegisteredForRemoteNotifications\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.getRemoteNotificationsAuthorizationStatus = function () { return cordova(this, \"getRemoteNotificationsAuthorizationStatus\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.requestRemoteNotificationsAuthorization = function (types, omitRegistration) { return cordova(this, \"requestRemoteNotificationsAuthorization\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.getRemoteNotificationTypes = function () { return cordova(this, \"getRemoteNotificationTypes\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.isRemindersAuthorized = function () { return cordova(this, \"isRemindersAuthorized\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.getRemindersAuthorizationStatus = function () { return cordova(this, \"getRemindersAuthorizationStatus\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.requestRemindersAuthorization = function () { return cordova(this, \"requestRemindersAuthorization\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.isBackgroundRefreshAuthorized = function () { return cordova(this, \"isBackgroundRefreshAuthorized\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.getBackgroundRefreshStatus = function () { return cordova(this, \"getBackgroundRefreshStatus\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.requestBluetoothAuthorization = function () { return cordova(this, \"requestBluetoothAuthorization\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.isMotionAvailable = function () { return cordova(this, \"isMotionAvailable\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.isMotionRequestOutcomeAvailable = function () { return cordova(this, \"isMotionRequestOutcomeAvailable\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.requestMotionAuthorization = function () { return cordova(this, \"requestMotionAuthorization\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.getMotionAuthorizationStatus = function () { return cordova(this, \"getMotionAuthorizationStatus\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.getLocationAccuracyAuthorization = function () { return cordova(this, \"getLocationAccuracyAuthorization\", { \"platform\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.requestTemporaryFullAccuracyAuthorization = function (purpose) { return cordova(this, \"requestTemporaryFullAccuracyAuthorization\", { \"platforms\": [\"iOS\"] }, arguments); };\n    Diagnostic.prototype.registerLocationAccuracyAuthorizationChangeHandler = function (handler) { return cordova(this, \"registerLocationAccuracyAuthorizationChangeHandler\", { \"platforms\": [\"iOS\"], \"sync\": true }, arguments); };\n    Object.defineProperty(Diagnostic.prototype, \"permissionStatus\", {\n        get: function () { return cordovaPropertyGet(this, \"permissionStatus\"); },\n        set: function (value) { cordovaPropertySet(this, \"permissionStatus\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Diagnostic.prototype, \"NFCState\", {\n        get: function () { return cordovaPropertyGet(this, \"NFCState\"); },\n        set: function (value) { cordovaPropertySet(this, \"NFCState\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Diagnostic.prototype, \"motionStatus\", {\n        get: function () { return cordovaPropertyGet(this, \"motionStatus\"); },\n        set: function (value) { cordovaPropertySet(this, \"motionStatus\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Diagnostic.pluginName = \"Diagnostic\";\n    Diagnostic.plugin = \"cordova.plugins.diagnostic\";\n    Diagnostic.pluginRef = \"cordova.plugins.diagnostic\";\n    Diagnostic.repo = \"https://github.com/dpa99c/cordova-diagnostic-plugin\";\n    Diagnostic.platforms = [\"Android\", \"iOS\", \"Windows\"];\n    Diagnostic.decorators = [\n        { type: Injectable }\n    ];\n    return Diagnostic;\n}(IonicNativePlugin));\nexport { Diagnostic };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2RpYWdub3N0aWMvbmd4L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sc0VBQXVELE1BQU0sb0JBQW9CLENBQUM7O0lBMkN6RCw4QkFBaUI7OztRQUMvQyxnQkFBVSxHQUFHO1lBQ1gsYUFBYSxFQUFFLGVBQWU7WUFDOUIsY0FBYyxFQUFFLGdCQUFnQjtZQUNoQyxNQUFNLEVBQUUsUUFBUTtZQUNoQixhQUFhLEVBQUUsZUFBZTtZQUM5QixjQUFjLEVBQUUsZ0JBQWdCO1lBQ2hDLFlBQVksRUFBRSxjQUFjO1lBQzVCLG9CQUFvQixFQUFFLHNCQUFzQjtZQUM1QyxzQkFBc0IsRUFBRSx3QkFBd0I7WUFDaEQsWUFBWSxFQUFFLGNBQWM7WUFDNUIsZ0JBQWdCLEVBQUUsa0JBQWtCO1lBQ3BDLFVBQVUsRUFBRSxZQUFZO1lBQ3hCLGFBQWEsRUFBRSxlQUFlO1lBQzlCLE9BQU8sRUFBRSxTQUFTO1lBQ2xCLHNCQUFzQixFQUFFLHdCQUF3QjtZQUNoRCxhQUFhLEVBQUUsZUFBZTtZQUM5QixjQUFjLEVBQUUsZ0JBQWdCO1lBQ2hDLFFBQVEsRUFBRSxVQUFVO1lBQ3BCLFdBQVcsRUFBRSxhQUFhO1lBQzFCLFFBQVEsRUFBRSxVQUFVO1lBQ3BCLGdCQUFnQixFQUFFLGtCQUFrQjtZQUNwQyxXQUFXLEVBQUUsYUFBYTtZQUMxQixzQkFBc0IsRUFBRSx3QkFBd0I7WUFDaEQscUJBQXFCLEVBQUUsdUJBQXVCO1lBQzlDLFlBQVksRUFBRSxjQUFjO1NBQzdCLENBQUM7UUFnQkYsK0JBQXlCLEdBQUc7WUFDMUIsTUFBTSxFQUFFLFFBQVE7WUFDaEIsV0FBVyxFQUFFLGFBQWE7U0FDM0IsQ0FBQztRQVdGLHNCQUFnQixHQUFHO1lBQ2pC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QUFFLGdCQUEwQjtJQVVwRiwrQ0FBMEI7SUFTMUIsMENBQXFCO0lBU3JCLG9EQUErQjtJQVMvQixrREFBNkI7SUFTN0Isa0RBQTZCO0lBUzdCLCtDQUEwQjtJQVcxQixrREFBNkI7SUFTN0Isc0NBQWlCO0lBWWpCLG9EQUErQjtJQVkvQiwrQ0FBMEI7SUFZMUIsaURBQTRCO0lBWTVCLHFEQUFnQztJQVloQyw4REFBeUMsYUFBQyxPQUFlO0lBVXpELHVFQUFrRCxhQUFDLE9BQWlCOzBCQWw0QnBFLHdDQUFnQjs7Ozs7OzBCQWtFaEIsZ0NBQVE7Ozs7OzswQkFTUixvQ0FBWTs7Ozs7Ozs7Ozs7O2dCQXpHYixVQUFVOztxQkEzQ1g7RUE0Q2dDLGlCQUFpQjtTQUFwQyxVQUFVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29yZG92YSwgQ29yZG92YVByb3BlcnR5LCBJb25pY05hdGl2ZVBsdWdpbiwgUGx1Z2luIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9jb3JlJztcblxuLyoqXG4gKiBAbmFtZSBEaWFnbm9zdGljXG4gKiBAZGVzY3JpcHRpb25cbiAqIENoZWNrcyB3aGV0aGVyIGRldmljZSBoYXJkd2FyZSBmZWF0dXJlcyBhcmUgZW5hYmxlZCBvciBhdmFpbGFibGUgdG8gdGhlIGFwcCwgZS5nLiBjYW1lcmEsIEdQUywgd2lmaVxuICpcbiAqIEB1c2FnZVxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgRGlhZ25vc3RpYyB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvZGlhZ25vc3RpYy9uZ3gnO1xuICpcbiAqIGNvbnN0cnVjdG9yKHByaXZhdGUgZGlhZ25vc3RpYzogRGlhZ25vc3RpYykgeyB9XG4gKlxuICogLi4uXG4gKlxuICogbGV0IHN1Y2Nlc3NDYWxsYmFjayA9IChpc0F2YWlsYWJsZSkgPT4geyBjb25zb2xlLmxvZygnSXMgYXZhaWxhYmxlPyAnICsgaXNBdmFpbGFibGUpOyB9XG4gKiBsZXQgZXJyb3JDYWxsYmFjayA9IChlKSA9PiBjb25zb2xlLmVycm9yKGUpO1xuICpcbiAqIHRoaXMuZGlhZ25vc3RpYy5pc0NhbWVyYUF2YWlsYWJsZSgpLnRoZW4oc3VjY2Vzc0NhbGxiYWNrKS5jYXRjaChlcnJvckNhbGxiYWNrKTtcbiAqXG4gKiB0aGlzLmRpYWdub3N0aWMuaXNCbHVldG9vdGhBdmFpbGFibGUoKS50aGVuKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gKlxuICpcbiAqIHRoaXMuZGlhZ25vc3RpYy5nZXRCbHVldG9vdGhTdGF0ZSgpXG4gKiAgIC50aGVuKChzdGF0ZSkgPT4ge1xuICogICAgIGlmIChzdGF0ZSA9PSB0aGlzLmRpYWdub3N0aWMuYmx1ZXRvb3RoU3RhdGUuUE9XRVJFRF9PTil7XG4gKiAgICAgICAvLyBkbyBzb21ldGhpbmdcbiAqICAgICB9IGVsc2Uge1xuICogICAgICAgLy8gZG8gc29tZXRoaW5nIGVsc2VcbiAqICAgICB9XG4gKiAgIH0pLmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcihlKSk7XG4gKlxuICogYGBgXG4gKlxuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ0RpYWdub3N0aWMnLFxuICBwbHVnaW46ICdjb3Jkb3ZhLnBsdWdpbnMuZGlhZ25vc3RpYycsXG4gIHBsdWdpblJlZjogJ2NvcmRvdmEucGx1Z2lucy5kaWFnbm9zdGljJyxcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9kcGE5OWMvY29yZG92YS1kaWFnbm9zdGljLXBsdWdpbicsXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUycsICdXaW5kb3dzJ10sXG59KVxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERpYWdub3N0aWMgZXh0ZW5kcyBJb25pY05hdGl2ZVBsdWdpbiB7XG4gIHBlcm1pc3Npb24gPSB7XG4gICAgUkVBRF9DQUxFTkRBUjogJ1JFQURfQ0FMRU5EQVInLFxuICAgIFdSSVRFX0NBTEVOREFSOiAnV1JJVEVfQ0FMRU5EQVInLFxuICAgIENBTUVSQTogJ0NBTUVSQScsXG4gICAgUkVBRF9DT05UQUNUUzogJ1JFQURfQ09OVEFDVFMnLFxuICAgIFdSSVRFX0NPTlRBQ1RTOiAnV1JJVEVfQ09OVEFDVFMnLFxuICAgIEdFVF9BQ0NPVU5UUzogJ0dFVF9BQ0NPVU5UUycsXG4gICAgQUNDRVNTX0ZJTkVfTE9DQVRJT046ICdBQ0NFU1NfRklORV9MT0NBVElPTicsXG4gICAgQUNDRVNTX0NPQVJTRV9MT0NBVElPTjogJ0FDQ0VTU19DT0FSU0VfTE9DQVRJT04nLFxuICAgIFJFQ09SRF9BVURJTzogJ1JFQ09SRF9BVURJTycsXG4gICAgUkVBRF9QSE9ORV9TVEFURTogJ1JFQURfUEhPTkVfU1RBVEUnLFxuICAgIENBTExfUEhPTkU6ICdDQUxMX1BIT05FJyxcbiAgICBBRERfVk9JQ0VNQUlMOiAnQUREX1ZPSUNFTUFJTCcsXG4gICAgVVNFX1NJUDogJ1VTRV9TSVAnLFxuICAgIFBST0NFU1NfT1VUR09JTkdfQ0FMTFM6ICdQUk9DRVNTX09VVEdPSU5HX0NBTExTJyxcbiAgICBSRUFEX0NBTExfTE9HOiAnUkVBRF9DQUxMX0xPRycsXG4gICAgV1JJVEVfQ0FMTF9MT0c6ICdXUklURV9DQUxMX0xPRycsXG4gICAgU0VORF9TTVM6ICdTRU5EX1NNUycsXG4gICAgUkVDRUlWRV9TTVM6ICdSRUNFSVZFX1NNUycsXG4gICAgUkVBRF9TTVM6ICdSRUFEX1NNUycsXG4gICAgUkVDRUlWRV9XQVBfUFVTSDogJ1JFQ0VJVkVfV0FQX1BVU0gnLFxuICAgIFJFQ0VJVkVfTU1TOiAnUkVDRUlWRV9NTVMnLFxuICAgIFdSSVRFX0VYVEVSTkFMX1NUT1JBR0U6ICdXUklURV9FWFRFUk5BTF9TVE9SQUdFJyxcbiAgICBSRUFEX0VYVEVSTkFMX1NUT1JBR0U6ICdSRUFEX0VYVEVSTkFMX1NUT1JBR0UnLFxuICAgIEJPRFlfU0VOU09SUzogJ0JPRFlfU0VOU09SUycsXG4gIH07XG5cbiAgQENvcmRvdmFQcm9wZXJ0eSgpXG4gIHBlcm1pc3Npb25TdGF0dXM6IHtcbiAgICBHUkFOVEVEOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgY29yZG92YS5wbHVnaW5zLmRpYWdub3N0aWNANS4wLjAgdXNlcyBERU5JRURfT05DRSB0byB1bmlmeSBERU5JRUQqIHN0YXR1c2VzIGFjcm9zcyBpT1MvQW5kcm9pZFxuICAgICAqL1xuICAgIERFTklFRDogc3RyaW5nO1xuICAgIERFTklFRF9PTkNFOiBzdHJpbmc7XG4gICAgTk9UX1JFUVVFU1RFRDogc3RyaW5nO1xuICAgIERFTklFRF9BTFdBWVM6IHN0cmluZztcbiAgICBSRVNUUklDVEVEOiBzdHJpbmc7XG4gICAgR1JBTlRFRF9XSEVOX0lOX1VTRTogc3RyaW5nO1xuICB9O1xuXG4gIGxvY2F0aW9uQXV0aG9yaXphdGlvbk1vZGUgPSB7XG4gICAgQUxXQVlTOiAnYWx3YXlzJyxcbiAgICBXSEVOX0lOX1VTRTogJ3doZW5faW5fdXNlJyxcbiAgfTtcblxuICAvKipcbiAgICogaU9TIE9OTFlcbiAgICogTG9jYXRpb24gYWNjdXJhY3kgYXV0aG9yaXphdGlvblxuICAgKi9cbiAgbG9jYXRpb25BY2N1cmFjeUF1dGhvcml6YXRpb246IHtcbiAgICBGVUxMOiAnZnVsbCcsXG4gICAgUkVEVUNFRDogJ3JlZHVjZWQnLFxuICB9O1xuXG4gIHBlcm1pc3Npb25Hcm91cHMgPSB7XG4gICAgQ0FMRU5EQVI6IFsnUkVBRF9DQUxFTkRBUicsICdXUklURV9DQUxFTkRBUiddLFxuICAgIENBTUVSQTogWydDQU1FUkEnXSxcbiAgICBDT05UQUNUUzogWydSRUFEX0NPTlRBQ1RTJywgJ1dSSVRFX0NPTlRBQ1RTJywgJ0dFVF9BQ0NPVU5UUyddLFxuICAgIExPQ0FUSU9OOiBbJ0FDQ0VTU19GSU5FX0xPQ0FUSU9OJywgJ0FDQ0VTU19DT0FSU0VfTE9DQVRJT04nXSxcbiAgICBNSUNST1BIT05FOiBbJ1JFQ09SRF9BVURJTyddLFxuICAgIFBIT05FOiBbXG4gICAgICAnUkVBRF9QSE9ORV9TVEFURScsXG4gICAgICAnQ0FMTF9QSE9ORScsXG4gICAgICAnQUREX1ZPSUNFTUFJTCcsXG4gICAgICAnVVNFX1NJUCcsXG4gICAgICAnUFJPQ0VTU19PVVRHT0lOR19DQUxMUycsXG4gICAgICAnUkVBRF9DQUxMX0xPRycsXG4gICAgICAnV1JJVEVfQ0FMTF9MT0cnLFxuICAgIF0sXG4gICAgU0VOU09SUzogWydCT0RZX1NFTlNPUlMnXSxcbiAgICBTTVM6IFsnU0VORF9TTVMnLCAnUkVDRUlWRV9TTVMnLCAnUkVBRF9TTVMnLCAnUkVDRUlWRV9XQVBfUFVTSCcsICdSRUNFSVZFX01NUyddLFxuICAgIFNUT1JBR0U6IFsnUkVBRF9FWFRFUk5BTF9TVE9SQUdFJywgJ1dSSVRFX0VYVEVSTkFMX1NUT1JBR0UnXSxcbiAgfTtcblxuICBsb2NhdGlvbk1vZGUgPSB7XG4gICAgSElHSF9BQ0NVUkFDWTogJ2hpZ2hfYWNjdXJhY3knLFxuICAgIERFVklDRV9PTkxZOiAnZGV2aWNlX29ubHknLFxuICAgIEJBVFRFUllfU0FWSU5HOiAnYmF0dGVyeV9zYXZpbmcnLFxuICAgIExPQ0FUSU9OX09GRjogJ2xvY2F0aW9uX29mZicsXG4gIH07XG5cbiAgYmx1ZXRvb3RoU3RhdGUgPSB7XG4gICAgVU5LTk9XTjogJ3Vua25vd24nLFxuICAgIFJFU0VUVElORzogJ3Jlc2V0dGluZycsIC8vIGlPU1xuICAgIFVOU1VQUE9SVEVEOiAndW5zdXBwb3J0ZWQnLCAvLyBpT1NcbiAgICBVTkFVVEhPUklaRUQ6ICd1bmF1dGhvcml6ZWQnLCAvLyBpT1NcbiAgICBQT1dFUkVEX09GRjogJ3Bvd2VyZWRfb2ZmJyxcbiAgICBQT1dFUkVEX09OOiAncG93ZXJlZF9vbicsXG4gICAgUE9XRVJJTkdfT0ZGOiAncG93ZXJpbmdfb2ZmJyxcbiAgICBQT1dFUklOR19PTjogJ3Bvd2VyaW5nX29uJyxcbiAgfTtcblxuICBAQ29yZG92YVByb3BlcnR5KClcbiAgTkZDU3RhdGU6IHtcbiAgICBVTktOT1dOOiBzdHJpbmc7XG4gICAgUE9XRVJFRF9PRkY6IHN0cmluZztcbiAgICBQT1dFUkVEX09OOiBzdHJpbmc7XG4gICAgUE9XRVJJTkdfT046IHN0cmluZztcbiAgICBQT1dFUklOR19PRkY6IHN0cmluZztcbiAgfTtcblxuICBAQ29yZG92YVByb3BlcnR5KClcbiAgbW90aW9uU3RhdHVzOiB7XG4gICAgTk9UX1JFUVVFU1RFRDogc3RyaW5nO1xuICAgIEdSQU5URUQ6IHN0cmluZztcbiAgICBERU5JRUQ6IHN0cmluZztcbiAgICBSRVNUUklDVEVEOiBzdHJpbmc7XG4gICAgTk9UX0FWQUlMQUJMRTogc3RyaW5nO1xuICAgIE5PVF9ERVRFUk1JTkVEOiBzdHJpbmc7XG4gICAgVU5LTk9XTjogc3RyaW5nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYXBwIGlzIGFibGUgdG8gYWNjZXNzIGRldmljZSBsb2NhdGlvbi5cbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgaXNMb2NhdGlvbkF2YWlsYWJsZSgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgV2lmaSBpcyBjb25uZWN0ZWQvZW5hYmxlZC4gT24gaU9TIHRoaXMgcmV0dXJucyB0cnVlIGlmIHRoZSBkZXZpY2UgaXMgY29ubmVjdGVkIHRvIGEgbmV0d29yayBieSBXaUZpLiBPbiBBbmRyb2lkIGFuZCBXaW5kb3dzIDEwIE1vYmlsZSB0aGlzIHJldHVybnMgdHJ1ZSBpZiB0aGUgV2lGaSBzZXR0aW5nIGlzIHNldCB0byBlbmFibGVkLlxuICAgKiBPbiBBbmRyb2lkIHRoaXMgcmVxdWlyZXMgcGVybWlzc2lvbi4gYDx1c2VzLXBlcm1pc3Npb24gYW5kcm9pZDpuYW1lPVwiYW5kcm9pZC5wZXJtaXNzaW9uLkFDQ0VTU19XSUZJX1NUQVRFXCIgLz5gXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGlzV2lmaUF2YWlsYWJsZSgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGRldmljZSBoYXMgYSBjYW1lcmEuIE9uIEFuZHJvaWQgdGhpcyByZXR1cm5zIHRydWUgaWYgdGhlIGRldmljZSBoYXMgYSBjYW1lcmEuIE9uIGlPUyB0aGlzIHJldHVybnMgdHJ1ZSBpZiBib3RoIHRoZSBkZXZpY2UgaGFzIGEgY2FtZXJhIEFORCB0aGUgYXBwbGljYXRpb24gaXMgYXV0aG9yaXplZCB0byB1c2UgaXQuIE9uIFdpbmRvd3MgMTAgTW9iaWxlIHRoaXMgcmV0dXJucyB0cnVlIGlmIGJvdGggdGhlIGRldmljZSBoYXMgYSByZWFyLWZhY2luZyBjYW1lcmEgQU5EIHRoZVxuICAgKiBhcHBsaWNhdGlvbiBpcyBhdXRob3JpemVkIHRvIHVzZSBpdC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZXh0ZXJuYWxTdG9yYWdlXSBBbmRyb2lkIG9ubHk6IElmIHRydWUsIGNoZWNrcyBwZXJtaXNzaW9uIGZvciBSRUFEX0VYVEVSTkFMX1NUT1JBR0UgaW4gYWRkaXRpb24gdG8gQ0FNRVJBIHJ1bi10aW1lIHBlcm1pc3Npb24uXG4gICAqICBjb3Jkb3ZhLXBsdWdpbi1jYW1lcmFAMi4yKyByZXF1aXJlcyBib3RoIG9mIHRoZXNlIHBlcm1pc3Npb25zLiBEZWZhdWx0cyB0byB0cnVlLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBjYWxsYmFja09yZGVyOiAncmV2ZXJzZScgfSlcbiAgaXNDYW1lcmFBdmFpbGFibGUoZXh0ZXJuYWxTdG9yYWdlPzogYm9vbGVhbik6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgZGV2aWNlIGhhcyBCbHVldG9vdGggY2FwYWJpbGl0aWVzIGFuZCBpZiBzbyB0aGF0IEJsdWV0b290aCBpcyBzd2l0Y2hlZCBvbiAoc2FtZSBvbiBBbmRyb2lkLCBpT1MgYW5kIFdpbmRvd3MgMTAgTW9iaWxlKVxuICAgKiBPbiBBbmRyb2lkIHRoaXMgcmVxdWlyZXMgcGVybWlzc2lvbiA8dXNlcy1wZXJtaXNzaW9uIGFuZHJvaWQ6bmFtZT1cImFuZHJvaWQucGVybWlzc2lvbi5CTFVFVE9PVEhcIiAvPlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBpc0JsdWV0b290aEF2YWlsYWJsZSgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgZGV2aWNlIGxvY2F0aW9uIHNldHRpbmdzIHRvIGFsbG93IHVzZXIgdG8gZW5hYmxlIGxvY2F0aW9uIHNlcnZpY2VzL2NoYW5nZSBsb2NhdGlvbiBtb2RlLlxuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlLCBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdXaW5kb3dzIDEwJywgJ2lPUyddIH0pXG4gIHN3aXRjaFRvTG9jYXRpb25TZXR0aW5ncygpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIG1vYmlsZSBzZXR0aW5ncyB0byBhbGxvdyB1c2VyIHRvIGVuYWJsZSBtb2JpbGUgZGF0YS5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSwgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnV2luZG93cyAxMCddIH0pXG4gIHN3aXRjaFRvTW9iaWxlRGF0YVNldHRpbmdzKCk6IHZvaWQge31cblxuICAvKipcbiAgICogRGlzcGxheXMgQmx1ZXRvb3RoIHNldHRpbmdzIHRvIGFsbG93IHVzZXIgdG8gZW5hYmxlIEJsdWV0b290aC5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSwgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnV2luZG93cyAxMCddIH0pXG4gIHN3aXRjaFRvQmx1ZXRvb3RoU2V0dGluZ3MoKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyBXaUZpIHNldHRpbmdzIHRvIGFsbG93IHVzZXIgdG8gZW5hYmxlIFdpRmkuXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUsIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ1dpbmRvd3MgMTAnXSB9KVxuICBzd2l0Y2hUb1dpZmlTZXR0aW5ncygpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgV2lGaSBzZXR0aW5nIGlzIHNldCB0byBlbmFibGVkLCBhbmQgaXMgdGhlIHNhbWUgYXMgYGlzV2lmaUF2YWlsYWJsZSgpYFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnV2luZG93cyAxMCddIH0pXG4gIGlzV2lmaUVuYWJsZWQoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMvZGlzYWJsZXMgV2lGaSBvbiB0aGUgZGV2aWNlLlxuICAgKiBSZXF1aXJlcyBgQUNDRVNTX1dJRklfU1RBVEVgIGFuZCBgQ0hBTkdFX1dJRklfU1RBVEVgIHBlcm1pc3Npb25zIG9uIEFuZHJvaWRcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBjYWxsYmFja09yZGVyOiAncmV2ZXJzZScsIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ1dpbmRvd3MgMTAnXSB9KVxuICBzZXRXaWZpU3RhdGUoc3RhdGU6IGJvb2xlYW4pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzL2Rpc2FibGVzIEJsdWV0b290aCBvbiB0aGUgZGV2aWNlLlxuICAgKiBSZXF1aXJlcyBgQkxVRVRPT1RIYCBhbmQgYEJMVUVUT09USF9BRE1JTmAgcGVybWlzc2lvbnMgb24gQW5kcm9pZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7IGNhbGxiYWNrT3JkZXI6ICdyZXZlcnNlJywgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnV2luZG93cyAxMCddIH0pXG4gIHNldEJsdWV0b290aFN0YXRlKHN0YXRlOiBib29sZWFuKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBBTkRST0lEIEFORCBJT1MgT05MWVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGRldmljZSBzZXR0aW5nIGZvciBsb2NhdGlvbiBpcyBvbi4gT24gQW5kcm9pZCB0aGlzIHJldHVybnMgdHJ1ZSBpZiBMb2NhdGlvbiBNb2RlIGlzIHN3aXRjaGVkIG9uLiBPbiBpT1MgdGhpcyByZXR1cm5zIHRydWUgaWYgTG9jYXRpb24gU2VydmljZXMgaXMgc3dpdGNoZWQgb24uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSB9KVxuICBpc0xvY2F0aW9uRW5hYmxlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBhcHBsaWNhdGlvbiBpcyBhdXRob3JpemVkIHRvIHVzZSBsb2NhdGlvbi5cbiAgICogTm90ZSBmb3IgQW5kcm9pZDogdGhpcyBpcyBpbnRlbmRlZCBmb3IgQW5kcm9pZCA2IC8gQVBJIDIzIGFuZCBhYm92ZS4gQ2FsbGluZyBvbiBBbmRyb2lkIDUgLyBBUEkgMjIgYW5kIGJlbG93IHdpbGwgYWx3YXlzIHJldHVybiBHUkFOVEVEIHN0YXR1cyBhcyBwZXJtaXNzaW9ucyBhcmUgYWxyZWFkeSBncmFudGVkIGF0IGluc3RhbGxhdGlvbiB0aW1lLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBpc0xvY2F0aW9uQXV0aG9yaXplZCgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsb2NhdGlvbiBhdXRob3JpemF0aW9uIHN0YXR1cyBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSB9KVxuICBnZXRMb2NhdGlvbkF1dGhvcml6YXRpb25TdGF0dXMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbG9jYXRpb24gYXV0aG9yaXphdGlvbiBzdGF0dXMgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAgICogTm90ZSBmb3IgQW5kcm9pZDogdGhpcyBpcyBpbnRlbmRlZCBmb3IgQW5kcm9pZCA2IC8gQVBJIDIzIGFuZCBhYm92ZS4gQ2FsbGluZyBvbiBBbmRyb2lkIDUgLyBBUEkgMjIgYW5kIGJlbG93IHdpbGwgYWx3YXlzIHJldHVybiBHUkFOVEVEIHN0YXR1cyBhcyBwZXJtaXNzaW9ucyBhcmUgYWxyZWFkeSBncmFudGVkIGF0IGluc3RhbGxhdGlvbiB0aW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW21vZGVdIGlPUyBvbmx5OiBsb2NhdGlvbiBhdXRob3JpemF0aW9uIG1vZGU6IFwiYWx3YXlzXCIgb3IgXCJ3aGVuX2luX3VzZVwiLiBJZiBub3Qgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byBcIndoZW5faW5fdXNlXCIuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddLCBjYWxsYmFja09yZGVyOiAncmV2ZXJzZScgfSlcbiAgcmVxdWVzdExvY2F0aW9uQXV0aG9yaXphdGlvbihtb2RlPzogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGNhbWVyYSBoYXJkd2FyZSBpcyBwcmVzZW50IG9uIGRldmljZS5cbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnaU9TJ10gfSlcbiAgaXNDYW1lcmFQcmVzZW50KCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgYXBwbGljYXRpb24gaXMgYXV0aG9yaXplZCB0byB1c2UgdGhlIGNhbWVyYS5cbiAgICogTm90ZSBmb3IgQW5kcm9pZDogdGhpcyBpcyBpbnRlbmRlZCBmb3IgQW5kcm9pZCA2IC8gQVBJIDIzIGFuZCBhYm92ZS4gQ2FsbGluZyBvbiBBbmRyb2lkIDUgLyBBUEkgMjIgYW5kIGJlbG93IHdpbGwgYWx3YXlzIHJldHVybiBUUlVFIGFzIHBlcm1pc3Npb25zIGFyZSBhbHJlYWR5IGdyYW50ZWQgYXQgaW5zdGFsbGF0aW9uIHRpbWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2V4dGVybmFsU3RvcmFnZV0gQW5kcm9pZCBvbmx5OiBJZiB0cnVlLCBjaGVja3MgcGVybWlzc2lvbiBmb3IgUkVBRF9FWFRFUk5BTF9TVE9SQUdFIGluIGFkZGl0aW9uIHRvIENBTUVSQSBydW4tdGltZSBwZXJtaXNzaW9uLlxuICAgKiAgY29yZG92YS1wbHVnaW4tY2FtZXJhQDIuMisgcmVxdWlyZXMgYm90aCBvZiB0aGVzZSBwZXJtaXNzaW9ucy4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnaU9TJ10sIGNhbGxiYWNrT3JkZXI6ICdyZXZlcnNlJyB9KVxuICBpc0NhbWVyYUF1dGhvcml6ZWQoZXh0ZXJuYWxTdG9yYWdlPzogYm9vbGVhbik6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNhbWVyYSBhdXRob3JpemF0aW9uIHN0YXR1cyBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtleHRlcm5hbFN0b3JhZ2VdIEFuZHJvaWQgb25seTogSWYgdHJ1ZSwgY2hlY2tzIHBlcm1pc3Npb24gZm9yIFJFQURfRVhURVJOQUxfU1RPUkFHRSBpbiBhZGRpdGlvbiB0byBDQU1FUkEgcnVuLXRpbWUgcGVybWlzc2lvbi5cbiAgICogIGNvcmRvdmEtcGx1Z2luLWNhbWVyYUAyLjIrIHJlcXVpcmVzIGJvdGggb2YgdGhlc2UgcGVybWlzc2lvbnMuIERlZmF1bHRzIHRvIHRydWUuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddLCBjYWxsYmFja09yZGVyOiAncmV2ZXJzZScgfSlcbiAgZ2V0Q2FtZXJhQXV0aG9yaXphdGlvblN0YXR1cyhleHRlcm5hbFN0b3JhZ2U/OiBib29sZWFuKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgY2FtZXJhIGF1dGhvcml6YXRpb24gZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZXh0ZXJuYWxTdG9yYWdlXSBBbmRyb2lkIG9ubHk6IElmIHRydWUsIHJlcXVlc3RzIHBlcm1pc3Npb24gZm9yIFJFQURfRVhURVJOQUxfU1RPUkFHRSBpbiBhZGRpdGlvbiB0byBDQU1FUkEgcnVuLXRpbWUgcGVybWlzc2lvbi5cbiAgICogIGNvcmRvdmEtcGx1Z2luLWNhbWVyYUAyLjIrIHJlcXVpcmVzIGJvdGggb2YgdGhlc2UgcGVybWlzc2lvbnMuIERlZmF1bHRzIHRvIHRydWUuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddLCBjYWxsYmFja09yZGVyOiAncmV2ZXJzZScgfSlcbiAgcmVxdWVzdENhbWVyYUF1dGhvcml6YXRpb24oZXh0ZXJuYWxTdG9yYWdlPzogYm9vbGVhbik6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgYXBwbGljYXRpb24gaXMgYXV0aG9yaXplZCB0byB1c2UgdGhlIG1pY3JvcGhvbmUuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSB9KVxuICBpc01pY3JvcGhvbmVBdXRob3JpemVkKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBtaWNyb3Bob25lIGF1dGhvcml6YXRpb24gc3RhdHVzIGZvciB0aGUgYXBwbGljYXRpb24uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddIH0pXG4gIGdldE1pY3JvcGhvbmVBdXRob3JpemF0aW9uU3RhdHVzKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIG1pY3JvcGhvbmUgYXV0aG9yaXphdGlvbiBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSB9KVxuICByZXF1ZXN0TWljcm9waG9uZUF1dGhvcml6YXRpb24oKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBhcHBsaWNhdGlvbiBpcyBhdXRob3JpemVkIHRvIHVzZSBjb250YWN0cyAoYWRkcmVzcyBib29rKS5cbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddIH0pXG4gIGlzQ29udGFjdHNBdXRob3JpemVkKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb250YWN0cyBhdXRob3JpemF0aW9uIHN0YXR1cyBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSB9KVxuICBnZXRDb250YWN0c0F1dGhvcml6YXRpb25TdGF0dXMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgY29udGFjdHMgYXV0aG9yaXphdGlvbiBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSB9KVxuICByZXF1ZXN0Q29udGFjdHNBdXRob3JpemF0aW9uKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgYXBwbGljYXRpb24gaXMgYXV0aG9yaXplZCB0byB1c2UgdGhlIGNhbGVuZGFyLlxuICAgKlxuICAgKiBOb3RlcyBmb3IgQW5kcm9pZDpcbiAgICogICAtIFRoaXMgaXMgaW50ZW5kZWQgZm9yIEFuZHJvaWQgNiAvIEFQSSAyMyBhbmQgYWJvdmUuIENhbGxpbmcgb24gQW5kcm9pZCA1IC8gQVBJIDIyIGFuZCBiZWxvdyB3aWxsIGFsd2F5cyByZXR1cm4gVFJVRSBhcyBwZXJtaXNzaW9ucyBhcmUgYWxyZWFkeSBncmFudGVkIGF0IGluc3RhbGxhdGlvbiB0aW1lLlxuICAgKlxuICAgKiBOb3RlcyBmb3IgaU9TOlxuICAgKiAgIC0gVGhpcyByZWxhdGVzIHRvIENhbGVuZGFyIEV2ZW50cyAobm90IENhbGVuZGFyIFJlbWluZGVycylcbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddIH0pXG4gIGlzQ2FsZW5kYXJBdXRob3JpemVkKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjYWxlbmRhciBhdXRob3JpemF0aW9uIHN0YXR1cyBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBOb3RlcyBmb3IgQW5kcm9pZDpcbiAgICogICAtIFRoaXMgaXMgaW50ZW5kZWQgZm9yIEFuZHJvaWQgNiAvIEFQSSAyMyBhbmQgYWJvdmUuIENhbGxpbmcgb24gQW5kcm9pZCA1IC8gQVBJIDIyIGFuZCBiZWxvdyB3aWxsIGFsd2F5cyByZXR1cm4gYEdSQU5URURgIHN0YXR1cyBhcyBwZXJtaXNzaW9ucyBhcmUgYWxyZWFkeSBncmFudGVkIGF0IGluc3RhbGxhdGlvbiB0aW1lLlxuICAgKlxuICAgKiBOb3RlcyBmb3IgaU9TOlxuICAgKiAgIC0gVGhpcyByZWxhdGVzIHRvIENhbGVuZGFyIEV2ZW50cyAobm90IENhbGVuZGFyIFJlbWluZGVycylcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnaU9TJ10gfSlcbiAgZ2V0Q2FsZW5kYXJBdXRob3JpemF0aW9uU3RhdHVzKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIGNhbGVuZGFyIGF1dGhvcml6YXRpb24gZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogTm90ZXMgZm9yIGlPUzpcbiAgICogICAtIFNob3VsZCBvbmx5IGJlIGNhbGxlZCBpZiBhdXRob3JpemF0aW9uIHN0YXR1cyBpcyBOT1RfREVURVJNSU5FRC4gQ2FsbGluZyBpdCB3aGVuIGluIGFueSBvdGhlciBzdGF0ZSB3aWxsIGhhdmUgbm8gZWZmZWN0IGFuZCBqdXN0IHJldHVybiB0aGUgY3VycmVudCBhdXRob3JpemF0aW9uIHN0YXR1cy5cbiAgICogICAtIFRoaXMgcmVsYXRlcyB0byBDYWxlbmRhciBFdmVudHMgKG5vdCBDYWxlbmRhciBSZW1pbmRlcnMpXG4gICAqXG4gICAqIE5vdGVzIGZvciBBbmRyb2lkOlxuICAgKiAgIC0gVGhpcyBpcyBpbnRlbmRlZCBmb3IgQW5kcm9pZCA2IC8gQVBJIDIzIGFuZCBhYm92ZS4gQ2FsbGluZyBvbiBBbmRyb2lkIDUgLyBBUEkgMjIgYW5kIGJlbG93IHdpbGwgaGF2ZSBubyBlZmZlY3QgYXMgdGhlIHBlcm1pc3Npb25zIGFyZSBhbHJlYWR5IGdyYW50ZWQgYXQgaW5zdGFsbGF0aW9uIHRpbWUuXG4gICAqICAgLSBUaGlzIHJlcXVlc3RzIHBlcm1pc3Npb24gZm9yIGBSRUFEX0NBTEVOREFSYCBydW4tdGltZSBwZXJtaXNzaW9uXG4gICAqICAgLSBSZXF1aXJlZCBwZXJtaXNzaW9ucyBtdXN0IGJlIGFkZGVkIHRvIGBBbmRyb2lkTWFuaWZlc3QueG1sYCBhcyBhcHByb3ByaWF0ZSAtIHNlZSBBbmRyb2lkIHBlcm1pc3Npb25zOiBgUkVBRF9DQUxFTkRBUmAsIGBXUklURV9DQUxFTkRBUmBcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnaU9TJ10gfSlcbiAgcmVxdWVzdENhbGVuZGFyQXV0aG9yaXphdGlvbigpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyBzZXR0aW5ncyBwYWdlIGZvciB0aGlzIGFwcC5cbiAgICogT24gQW5kcm9pZCwgdGhpcyBvcGVucyB0aGUgXCJBcHAgSW5mb1wiIHBhZ2UgaW4gdGhlIFNldHRpbmdzIGFwcC5cbiAgICogT24gaU9TLCB0aGlzIG9wZW5zIHRoZSBhcHAgc2V0dGluZ3MgcGFnZSBpbiB0aGUgU2V0dGluZ3MgYXBwLiBUaGlzIHdvcmtzIG9ubHkgb24gaU9TIDgrIC0gaU9TIDcgYW5kIGJlbG93IHdpbGwgaW52b2tlIHRoZSBlcnJvckNhbGxiYWNrLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSB9KVxuICBzd2l0Y2hUb1NldHRpbmdzKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHN0YXRlIG9mIEJsdWV0b290aCBvbiB0aGUgZGV2aWNlLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSB9KVxuICBnZXRCbHVldG9vdGhTdGF0ZSgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBhIGNoYW5nZSBpbiBCbHVldG9vdGggc3RhdGUgb2NjdXJzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddLCBzeW5jOiB0cnVlIH0pXG4gIHJlZ2lzdGVyQmx1ZXRvb3RoU3RhdGVDaGFuZ2VIYW5kbGVyKGhhbmRsZXI6IEZ1bmN0aW9uKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBhIGNoYW5nZSBpbiBMb2NhdGlvbiBzdGF0ZSBvY2N1cnMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnaU9TJ10sIHN5bmM6IHRydWUgfSlcbiAgcmVnaXN0ZXJMb2NhdGlvblN0YXRlQ2hhbmdlSGFuZGxlcihoYW5kbGVyOiBGdW5jdGlvbik6IHZvaWQge31cblxuICAvLyBBTkRST0lEIE9OTFlcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGhpZ2gtYWNjdXJhY3kgbG9jYXRpb25zIGFyZSBhdmFpbGFibGUgdG8gdGhlIGFwcCBmcm9tIEdQUyBoYXJkd2FyZS5cbiAgICogUmV0dXJucyB0cnVlIGlmIExvY2F0aW9uIG1vZGUgaXMgZW5hYmxlZCBhbmQgaXMgc2V0IHRvIFwiRGV2aWNlIG9ubHlcIiBvciBcIkhpZ2ggYWNjdXJhY3lcIiBBTkQgaWYgdGhlIGFwcCBpcyBhdXRob3JpemVkIHRvIHVzZSBsb2NhdGlvbi5cbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJ10gfSlcbiAgaXNHcHNMb2NhdGlvbkF2YWlsYWJsZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGxvY2F0aW9uIG1vZGUgaXMgc2V0IHRvIHJldHVybiBoaWdoLWFjY3VyYWN5IGxvY2F0aW9ucyBmcm9tIEdQUyBoYXJkd2FyZS5cbiAgICogICBSZXR1cm5zIHRydWUgaWYgTG9jYXRpb24gbW9kZSBpcyBlbmFibGVkIGFuZCBpcyBzZXQgdG8gZWl0aGVyOlxuICAgKiAgIC0gRGV2aWNlIG9ubHkgPSBHUFMgaGFyZHdhcmUgb25seSAoaGlnaCBhY2N1cmFjeSlcbiAgICogICAtIEhpZ2ggYWNjdXJhY3kgPSBHUFMgaGFyZHdhcmUsIG5ldHdvcmsgdHJpYW5ndWxhdGlvbiBhbmQgV2lmaSBuZXR3b3JrIElEcyAoaGlnaCBhbmQgbG93IGFjY3VyYWN5KVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddIH0pXG4gIGlzR3BzTG9jYXRpb25FbmFibGVkKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBsb3ctYWNjdXJhY3kgbG9jYXRpb25zIGFyZSBhdmFpbGFibGUgdG8gdGhlIGFwcCBmcm9tIG5ldHdvcmsgdHJpYW5ndWxhdGlvbi9XaUZpIGFjY2VzcyBwb2ludHMuXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBMb2NhdGlvbiBtb2RlIGlzIGVuYWJsZWQgYW5kIGlzIHNldCB0byBcIkJhdHRlcnkgc2F2aW5nXCIgb3IgXCJIaWdoIGFjY3VyYWN5XCIgQU5EIGlmIHRoZSBhcHAgaXMgYXV0aG9yaXplZCB0byB1c2UgbG9jYXRpb24uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJ10gfSlcbiAgaXNOZXR3b3JrTG9jYXRpb25BdmFpbGFibGUoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGxvY2F0aW9uIG1vZGUgaXMgc2V0IHRvIHJldHVybiBsb3ctYWNjdXJhY3kgbG9jYXRpb25zIGZyb20gbmV0d29yayB0cmlhbmd1bGF0aW9uL1dpRmkgYWNjZXNzIHBvaW50cy5cbiAgICogUmV0dXJucyB0cnVlIGlmIExvY2F0aW9uIG1vZGUgaXMgZW5hYmxlZCBhbmQgaXMgc2V0IHRvIGVpdGhlcjpcbiAgICogICAtIEJhdHRlcnkgc2F2aW5nID0gbmV0d29yayB0cmlhbmd1bGF0aW9uIGFuZCBXaWZpIG5ldHdvcmsgSURzIChsb3cgYWNjdXJhY3kpXG4gICAqICAgLSBIaWdoIGFjY3VyYWN5ID0gR1BTIGhhcmR3YXJlLCBuZXR3b3JrIHRyaWFuZ3VsYXRpb24gYW5kIFdpZmkgbmV0d29yayBJRHMgKGhpZ2ggYW5kIGxvdyBhY2N1cmFjeSlcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSB9KVxuICBpc05ldHdvcmtMb2NhdGlvbkVuYWJsZWQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBsb2NhdGlvbiBtb2RlIHNldHRpbmcgZm9yIHRoZSBkZXZpY2UuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJ10gfSlcbiAgZ2V0TG9jYXRpb25Nb2RlKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgYXV0aG9yaXphdGlvbiBzdGF0dXMgZm9yIGEgZ2l2ZW4gcGVybWlzc2lvbi5cbiAgICogTm90ZTogdGhpcyBpcyBpbnRlbmRlZCBmb3IgQW5kcm9pZCA2IC8gQVBJIDIzIGFuZCBhYm92ZS4gQ2FsbGluZyBvbiBBbmRyb2lkIDUgLyBBUEkgMjIgYW5kIGJlbG93IHdpbGwgYWx3YXlzIHJldHVybiBHUkFOVEVEIHN0YXR1cyBhcyBwZXJtaXNzaW9ucyBhcmUgYWxyZWFkeSBncmFudGVkIGF0IGluc3RhbGxhdGlvbiB0aW1lLlxuICAgKiBAcGFyYW0gcGVybWlzc2lvblxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddLCBjYWxsYmFja09yZGVyOiAncmV2ZXJzZScgfSlcbiAgZ2V0UGVybWlzc2lvbkF1dGhvcml6YXRpb25TdGF0dXMocGVybWlzc2lvbjogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBhdXRob3JpemF0aW9uIHN0YXR1cyBmb3IgbXVsdGlwbGUgcGVybWlzc2lvbnMuXG4gICAqIE5vdGU6IHRoaXMgaXMgaW50ZW5kZWQgZm9yIEFuZHJvaWQgNiAvIEFQSSAyMyBhbmQgYWJvdmUuIENhbGxpbmcgb24gQW5kcm9pZCA1IC8gQVBJIDIyIGFuZCBiZWxvdyB3aWxsIGFsd2F5cyByZXR1cm4gR1JBTlRFRCBzdGF0dXMgYXMgcGVybWlzc2lvbnMgYXJlIGFscmVhZHkgZ3JhbnRlZCBhdCBpbnN0YWxsYXRpb24gdGltZS5cbiAgICogQHBhcmFtIHthbnlbXX0gcGVybWlzc2lvbnNcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSwgY2FsbGJhY2tPcmRlcjogJ3JldmVyc2UnIH0pXG4gIGdldFBlcm1pc3Npb25zQXV0aG9yaXphdGlvblN0YXR1cyhwZXJtaXNzaW9uczogYW55W10pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0cyBhcHAgdG8gYmUgZ3JhbnRlZCBhdXRob3JpemF0aW9uIGZvciBhIHJ1bnRpbWUgcGVybWlzc2lvbi5cbiAgICogTm90ZTogdGhpcyBpcyBpbnRlbmRlZCBmb3IgQW5kcm9pZCA2IC8gQVBJIDIzIGFuZCBhYm92ZS4gQ2FsbGluZyBvbiBBbmRyb2lkIDUgLyBBUEkgMjIgYW5kIGJlbG93IHdpbGwgaGF2ZSBubyBlZmZlY3QgYXMgdGhlIHBlcm1pc3Npb25zIGFyZSBhbHJlYWR5IGdyYW50ZWQgYXQgaW5zdGFsbGF0aW9uIHRpbWUuXG4gICAqIEBwYXJhbSBwZXJtaXNzaW9uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJ10sIGNhbGxiYWNrT3JkZXI6ICdyZXZlcnNlJyB9KVxuICByZXF1ZXN0UnVudGltZVBlcm1pc3Npb24ocGVybWlzc2lvbjogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgYXBwIHRvIGJlIGdyYW50ZWQgYXV0aG9yaXphdGlvbiBmb3IgbXVsdGlwbGUgcnVudGltZSBwZXJtaXNzaW9ucy5cbiAgICogTm90ZTogdGhpcyBpcyBpbnRlbmRlZCBmb3IgQW5kcm9pZCA2IC8gQVBJIDIzIGFuZCBhYm92ZS4gQ2FsbGluZyBvbiBBbmRyb2lkIDUgLyBBUEkgMjIgYW5kIGJlbG93IHdpbGwgYWx3YXlzIHJldHVybiBHUkFOVEVEIHN0YXR1cyBhcyBwZXJtaXNzaW9ucyBhcmUgYWxyZWFkeSBncmFudGVkIGF0IGluc3RhbGxhdGlvbiB0aW1lLlxuICAgKiBAcGFyYW0ge2FueVtdfSBwZXJtaXNzaW9uc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddLCBjYWxsYmFja09yZGVyOiAncmV2ZXJzZScgfSlcbiAgcmVxdWVzdFJ1bnRpbWVQZXJtaXNzaW9ucyhwZXJtaXNzaW9uczogYW55W10pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHBsdWdpbiBpcyBjdXJyZW50bHkgcmVxdWVzdGluZyBhIHJ1bnRpbWUgcGVybWlzc2lvbiB2aWEgdGhlIG5hdGl2ZSBBUEkuXG4gICAqIE5vdGUgdGhhdCBvbmx5IG9uZSByZXF1ZXN0IGNhbiBiZSBtYWRlIGNvbmN1cnJlbnRseSBiZWNhdXNlIHRoZSBuYXRpdmUgQVBJIGNhbm5vdCBoYW5kbGUgY29uY3VycmVudCByZXF1ZXN0cyxcbiAgICogc28gdGhlIHBsdWdpbiB3aWxsIGludm9rZSB0aGUgZXJyb3IgY2FsbGJhY2sgaWYgYXR0ZW1wdGluZyB0byBtYWtlIG1vcmUgdGhhbiBvbmUgc2ltdWx0YW5lb3VzIHJlcXVlc3QuXG4gICAqIE11bHRpcGxlIHBlcm1pc3Npb24gcmVxdWVzdHMgc2hvdWxkIGJlIGdyb3VwZWQgaW50byBhIHNpbmdsZSBjYWxsIHNpbmNlIHRoZSBuYXRpdmUgQVBJIGlzIHNldHVwIHRvIGhhbmRsZSBiYXRjaCByZXF1ZXN0cyBvZiBtdWx0aXBsZSBwZXJtaXNzaW9uIGdyb3Vwcy5cbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgaXNSZXF1ZXN0aW5nUGVybWlzc2lvbigpOiBib29sZWFuIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gYSBydW50aW1lIHBlcm1pc3Npb24gcmVxdWVzdCBoYXMgY29tcGxldGVkLlxuICAgKiBQYXNzIGluIGEgZmFsc3kgdmFsdWUgdG8gZGUtcmVnaXN0ZXIgdGhlIGN1cnJlbnRseSByZWdpc3RlcmVkIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgcmVnaXN0ZXJQZXJtaXNzaW9uUmVxdWVzdENvbXBsZXRlSGFuZGxlcihoYW5kbGVyOiBGdW5jdGlvbik6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGRldmljZSBzZXR0aW5nIGZvciBCbHVldG9vdGggaXMgc3dpdGNoZWQgb24uXG4gICAqIFRoaXMgcmVxdWlyZXMgYEJMVUVUT09USGAgcGVybWlzc2lvbiBvbiBBbmRyb2lkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddIH0pXG4gIGlzQmx1ZXRvb3RoRW5hYmxlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBkZXZpY2UgaGFzIEJsdWV0b290aCBjYXBhYmlsaXRpZXMuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddIH0pXG4gIGhhc0JsdWV0b290aFN1cHBvcnQoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgZGV2aWNlIGhhcyBCbHVldG9vdGggTG93IEVuZXJneSAoTEUpIGNhcGFiaWxpdGllcy5cbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJ10gfSlcbiAgaGFzQmx1ZXRvb3RoTEVTdXBwb3J0KCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGRldmljZSBzdXBwb3J0cyBCbHVldG9vdGggTG93IEVuZXJneSAoTEUpIFBlcmlwaGVyYWwgbW9kZS5cbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJ10gfSlcbiAgaGFzQmx1ZXRvb3RoTEVQZXJpcGhlcmFsU3VwcG9ydCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBhcHBsaWNhdGlvbiBpcyBhdXRob3JpemVkIHRvIHVzZSBleHRlcm5hbCBzdG9yYWdlLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSB9KVxuICBpc0V4dGVybmFsU3RvcmFnZUF1dGhvcml6ZWQoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENSZXR1cm5zIHRoZSBleHRlcm5hbCBzdG9yYWdlIGF1dGhvcml6YXRpb24gc3RhdHVzIGZvciB0aGUgYXBwbGljYXRpb24uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddIH0pXG4gIGdldEV4dGVybmFsU3RvcmFnZUF1dGhvcml6YXRpb25TdGF0dXMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgZXh0ZXJuYWwgc3RvcmFnZSBhdXRob3JpemF0aW9uIGZvciB0aGUgYXBwbGljYXRpb24uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJ10gfSlcbiAgcmVxdWVzdEV4dGVybmFsU3RvcmFnZUF1dGhvcml6YXRpb24oKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBkZXRhaWxzIG9mIGV4dGVybmFsIFNEIGNhcmQocyk6IGFic29sdXRlIHBhdGgsIGlzIHdyaXRhYmxlLCBmcmVlIHNwYWNlLlxuICAgKlxuICAgKiBUaGUgaW50ZW50aW9uIG9mIHRoaXMgbWV0aG9kIGlzIHRvIHJldHVybiB0aGUgbG9jYXRpb24gYW5kIGRldGFpbHMgb2YgcmVtb3ZhYmxlIGV4dGVybmFsIFNEIGNhcmRzLlxuICAgKiBUaGlzIGRpZmZlcnMgZnJvbSB0aGUgXCJleHRlcm5hbCBkaXJlY3Rvcmllc1wiIHJldHVybmVkIGJ5IGNvcmRvdmEtcGx1Z2luLWZpbGUgd2hpY2ggcmV0dXJuIG1vdW50IHBvaW50cyByZWxhdGluZyB0byBub24tcmVtb3ZhYmxlIChpbnRlcm5hbCkgc3RvcmFnZS5cbiAgICpcbiAgICogTGVhcm4gbW9yZSBhYm91dCB0aGlzIG1ldGhvZCBbaGVyZV0oaHR0cHM6Ly9naXRodWIuY29tL2RwYTk5Yy9jb3Jkb3ZhLWRpYWdub3N0aWMtcGx1Z2luI2dldGV4dGVybmFsc2RjYXJkZGV0YWlscylcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSB9KVxuICBnZXRFeHRlcm5hbFNkQ2FyZERldGFpbHMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU3dpdGNoZXMgdG8gdGhlIHdpcmVsZXNzIHNldHRpbmdzIHBhZ2UgaW4gdGhlIFNldHRpbmdzIGFwcC4gQWxsb3dzIGNvbmZpZ3VyYXRpb24gb2Ygd2lyZWxlc3MgY29udHJvbHMgc3VjaCBhcyBXaS1GaSwgQmx1ZXRvb3RoIGFuZCBNb2JpbGUgbmV0d29ya3MuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSxcbiAgICBzeW5jOiB0cnVlLFxuICB9KVxuICBzd2l0Y2hUb1dpcmVsZXNzU2V0dGluZ3MoKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyBORkMgc2V0dGluZ3MgdG8gYWxsb3cgdXNlciB0byBlbmFibGUgTkZDLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHBsYXRmb3JtczogWydBbmRyb2lkJ10sXG4gICAgc3luYzogdHJ1ZSxcbiAgfSlcbiAgc3dpdGNoVG9ORkNTZXR0aW5ncygpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBORkMgaGFyZHdhcmUgaXMgcHJlc2VudCBvbiBkZXZpY2UuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddIH0pXG4gIGlzTkZDUHJlc2VudCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBkZXZpY2Ugc2V0dGluZyBmb3IgTkZDIGlzIHN3aXRjaGVkIG9uLlxuICAgKiBOb3RlOiB0aGlzIG9wZXJhdGlvbiBkb2VzIG5vdCByZXF1aXJlIE5GQyBwZXJtaXNzaW9uIGluIHRoZSBtYW5pZmVzdC5cbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJ10gfSlcbiAgaXNORkNFbmFibGVkKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgTkZDIGlzIGF2YWlsYWJsZSB0byB0aGUgYXBwLiBSZXR1cm5zIHRydWUgaWYgdGhlIGRldmljZSBoYXMgTkZDIGNhcGFiaWxpdGllcyBBTkQgaWYgTkZDIHNldHRpbmcgaXMgc3dpdGNoZWQgb24uXG4gICAqIE5vdGU6IHRoaXMgb3BlcmF0aW9uIGRvZXMgbm90IHJlcXVpcmUgTkZDIHBlcm1pc3Npb24gaW4gdGhlIG1hbmlmZXN0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddIH0pXG4gIGlzTkZDQXZhaWxhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBhIGNoYW5nZSBpbiBORkMgc3RhdGUgb2NjdXJzLiBQYXNzIGluIGEgZmFsc3kgdmFsdWUgdG8gZGUtcmVnaXN0ZXIgdGhlIGN1cnJlbnRseSByZWdpc3RlcmVkIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kZXIgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gTkZDIHN0YXRlIGNoYW5nZXNcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddLFxuICAgIHN5bmM6IHRydWUsXG4gIH0pXG4gIHJlZ2lzdGVyTkZDU3RhdGVDaGFuZ2VIYW5kbGVyKGhhbmRsZXI6IEZ1bmN0aW9uKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGRldmljZSBkYXRhIHJvYW1pbmcgc2V0dGluZyBpcyBlbmFibGVkLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSB9KVxuICBpc0RhdGFSb2FtaW5nRW5hYmxlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBkZXZpY2Ugc2V0dGluZyBmb3IgQURCKGRlYnVnKSBpcyBzd2l0Y2hlZCBvbi5cbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydBbmRyb2lkJ10gfSlcbiAgaXNBREJNb2RlRW5hYmxlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBkZXZpY2UgaXMgcm9vdGVkLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSB9KVxuICBpc0RldmljZVJvb3RlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJT1MgT05MWVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGFwcGxpY2F0aW9uIGlzIGF1dGhvcml6ZWQgdG8gdXNlIHRoZSBDYW1lcmEgUm9sbCBpbiBQaG90b3MgYXBwLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ2lPUyddIH0pXG4gIGlzQ2FtZXJhUm9sbEF1dGhvcml6ZWQoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGF1dGhvcml6YXRpb24gc3RhdHVzIGZvciB0aGUgYXBwbGljYXRpb24gdG8gdXNlIHRoZSBDYW1lcmEgUm9sbCBpbiBQaG90b3MgYXBwLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnaU9TJ10gfSlcbiAgZ2V0Q2FtZXJhUm9sbEF1dGhvcml6YXRpb25TdGF0dXMoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgY2FtZXJhIHJvbGwgYXV0aG9yaXphdGlvbiBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICAgKiBTaG91bGQgb25seSBiZSBjYWxsZWQgaWYgYXV0aG9yaXphdGlvbiBzdGF0dXMgaXMgTk9UX1JFUVVFU1RFRC5cbiAgICogQ2FsbGluZyBpdCB3aGVuIGluIGFueSBvdGhlciBzdGF0ZSB3aWxsIGhhdmUgbm8gZWZmZWN0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnaU9TJ10gfSlcbiAgcmVxdWVzdENhbWVyYVJvbGxBdXRob3JpemF0aW9uKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiByZW1vdGUgKHB1c2gpIG5vdGlmaWNhdGlvbnMgYXJlIGVuYWJsZWQuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnaU9TJywgJ0FuZHJvaWQnXSB9KVxuICBpc1JlbW90ZU5vdGlmaWNhdGlvbnNFbmFibGVkKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGFwcCBpcyByZWdpc3RlcmVkIGZvciByZW1vdGUgKHB1c2gpIG5vdGlmaWNhdGlvbnMgb24gdGhlIGRldmljZS5cbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydpT1MnXSB9KVxuICBpc1JlZ2lzdGVyZWRGb3JSZW1vdGVOb3RpZmljYXRpb25zKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBhdXRob3JpemF0aW9uIHN0YXR1cyBmb3IgdGhlIGFwcGxpY2F0aW9uIHRvIHVzZSBSZW1vdGUgTm90aWZpY2F0aW9ucy5cbiAgICogTm90ZTogV29ya3Mgb24gaU9TIDEwKyBvbmx5IChpT1MgOSBhbmQgYmVsb3cgd2lsbCBpbnZva2UgdGhlIGVycm9yIGNhbGxiYWNrKS5cbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ2lPUyddIH0pXG4gIGdldFJlbW90ZU5vdGlmaWNhdGlvbnNBdXRob3JpemF0aW9uU3RhdHVzKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIHJlbWluZGVycyBhdXRob3JpemF0aW9uIGZvciB0aGUgYXBwbGljYXRpb24uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydpT1MnXSB9KVxuICByZXF1ZXN0UmVtb3RlTm90aWZpY2F0aW9uc0F1dGhvcml6YXRpb24odHlwZXM/OiBzdHJpbmdbXSwgb21pdFJlZ2lzdHJhdGlvbj86IGJvb2xlYW4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhlIGN1cnJlbnQgc2V0dGluZyBvZiBub3RpZmljYXRpb24gdHlwZXMgZm9yIHRoZSBhcHAgaW4gdGhlIFNldHRpbmdzIGFwcC5cbiAgICogTm90ZTogb24gaU9TIDgrLCBpZiBcIkFsbG93IE5vdGlmaWNhdGlvbnNcIiBzd2l0Y2ggaXMgT0ZGLCBhbGwgdHlwZXMgd2lsbCBiZSByZXR1cm5lZCBhcyBkaXNhYmxlZC5cbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ2lPUyddIH0pXG4gIGdldFJlbW90ZU5vdGlmaWNhdGlvblR5cGVzKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgYXBwbGljYXRpb24gaXMgYXV0aG9yaXplZCB0byB1c2UgcmVtaW5kZXJzLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ2lPUyddIH0pXG4gIGlzUmVtaW5kZXJzQXV0aG9yaXplZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcmVtaW5kZXJzIGF1dGhvcml6YXRpb24gc3RhdHVzIGZvciB0aGUgYXBwbGljYXRpb24uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydpT1MnXSB9KVxuICBnZXRSZW1pbmRlcnNBdXRob3JpemF0aW9uU3RhdHVzKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIHJlbWluZGVycyBhdXRob3JpemF0aW9uIGZvciB0aGUgYXBwbGljYXRpb24uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydpT1MnXSB9KVxuICByZXF1ZXN0UmVtaW5kZXJzQXV0aG9yaXphdGlvbigpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGFwcGxpY2F0aW9uIGlzIGF1dGhvcml6ZWQgZm9yIGJhY2tncm91bmQgcmVmcmVzaC5cbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydpT1MnXSB9KVxuICBpc0JhY2tncm91bmRSZWZyZXNoQXV0aG9yaXplZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYmFja2dyb3VuZCByZWZyZXNoIGF1dGhvcml6YXRpb24gc3RhdHVzIGZvciB0aGUgYXBwbGljYXRpb24uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydpT1MnXSB9KVxuICBnZXRCYWNrZ3JvdW5kUmVmcmVzaFN0YXR1cygpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0cyBCbHVldG9vdGggYXV0aG9yaXphdGlvbiBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBMZWFybiBtb3JlIGFib3V0IHRoaXMgbWV0aG9kIFtoZXJlXShodHRwczovL2dpdGh1Yi5jb20vZHBhOTljL2NvcmRvdmEtZGlhZ25vc3RpYy1wbHVnaW4jcmVxdWVzdGJsdWV0b290aGF1dGhvcml6YXRpb24pXG4gICAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ2lPUyddIH0pXG4gIHJlcXVlc3RCbHVldG9vdGhBdXRob3JpemF0aW9uKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBtb3Rpb24gdHJhY2tpbmcgaXMgYXZhaWxhYmxlIG9uIHRoZSBjdXJyZW50IGRldmljZS5cbiAgICogQHJldHVybiB7UHJvbWlzZTxib29sZWFuPn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ2lPUyddIH0pXG4gIGlzTW90aW9uQXZhaWxhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgaXQncyBwb3NzaWJsZSB0byBkZXRlcm1pbmUgdGhlIG91dGNvbWUgb2YgYSBtb3Rpb24gYXV0aG9yaXphdGlvbiByZXF1ZXN0IG9uIHRoZSBjdXJyZW50IGRldmljZS5cbiAgICogVGhlcmUncyBubyBkaXJlY3Qgd2F5IHRvIGRldGVybWluZSBpZiBhdXRob3JpemF0aW9uIHdhcyBncmFudGVkIG9yIGRlbmllZCwgc28gdGhlIFBlZG9tZXRlciBBUEkgbXVzdCBiZSB1c2VkIHRvIGluZGlyZWN0bHkgZGV0ZXJtaW5lIHRoaXM6XG4gICAqIHRoZXJlZm9yZSwgaWYgdGhlIGRldmljZSBzdXBwb3J0cyBtb3Rpb24gdHJhY2tpbmcgYnV0IG5vdCBQZWRvbWV0ZXIgRXZlbnQgVHJhY2tpbmcsIHRoZSBvdXRjb21lIG9mIHJlcXVlc3RpbmcgbW90aW9uIGRldGVjdGlvbiBjYW5ub3QgYmUgZGV0ZXJtaW5lZC5cbiAgICpcbiAgICogQHJldHVybiB7UHJvbWlzZTxib29sZWFuPn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm1zOiBbJ2lPUyddIH0pXG4gIGlzTW90aW9uUmVxdWVzdE91dGNvbWVBdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIG1vdGlvbiB0cmFja2luZyBhdXRob3JpemF0aW9uIGZvciB0aGUgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIExlYXJuIG1vcmUgYWJvdXQgdGhpcyBtZXRob2QgW2hlcmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9kcGE5OWMvY29yZG92YS1kaWFnbm9zdGljLXBsdWdpbiNyZXF1ZXN0bW90aW9uYXV0aG9yaXphdGlvbilcbiAgICpcbiAgICogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnaU9TJ10gfSlcbiAgcmVxdWVzdE1vdGlvbkF1dGhvcml6YXRpb24oKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIG1vdGlvbiBhdXRob3JpemF0aW9uIHN0YXR1cyBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBMZWFybiBtb3JlIGFib3V0IHRoaXMgbWV0aG9kIFtoZXJlXShodHRwczovL2dpdGh1Yi5jb20vZHBhOTljL2NvcmRvdmEtZGlhZ25vc3RpYy1wbHVnaW4jZ2V0bW90aW9uYXV0aG9yaXphdGlvbnN0YXR1cylcbiAgICpcbiAgICogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgQENvcmRvdmEoeyBwbGF0Zm9ybXM6IFsnaU9TJ10gfSlcbiAgZ2V0TW90aW9uQXV0aG9yaXphdGlvblN0YXR1cygpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsb2NhdGlvbiBhY2N1cmFjeSBhdXRob3JpemF0aW9uIGZvciB0aGUgYXBwbGljYXRpb24gb24gaU9TIDE0Ky4gTm90ZTogY2FsbGluZyBvbiBpT1MgPDE0IHdpbGwgcmVzdWx0IGluIHRoZSBQcm9taXNlIGJlaW5nIHJlamVjdGVkLlxuICAgKlxuICAgKiBMZWFybiBtb3JlIGFib3V0IHRoaXMgbWV0aG9kIFtoZXJlXShodHRwczovL2dpdGh1Yi5jb20vZHBhOTljL2NvcmRvdmEtZGlhZ25vc3RpYy1wbHVnaW4jZ2V0bG9jYXRpb25hY2N1cmFjeWF1dGhvcml6YXRpb24pXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgcGxhdGZvcm06IFsnaU9TJ10gfSlcbiAgZ2V0TG9jYXRpb25BY2N1cmFjeUF1dGhvcml6YXRpb24oKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgdGVtcG9yYXJ5IGFjY2VzcyB0byBmdWxsIGxvY2F0aW9uIGFjY3VyYWN5IGZvciB0aGUgYXBwbGljYXRpb24gb24gaU9TIDE0Ky5cbiAgICpcbiAgICogTGVhcm4gbW9yZSBhYm91dCB0aGlzIG1ldGhvZCBbaGVyZV0oaHR0cHM6Ly9naXRodWIuY29tL2RwYTk5Yy9jb3Jkb3ZhLWRpYWdub3N0aWMtcGx1Z2luI3JlcXVlc3R0ZW1wb3JhcnlmdWxsYWNjdXJhY3lhdXRob3JpemF0aW9uKVxuICAgKlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydpT1MnXSB9KVxuICByZXF1ZXN0VGVtcG9yYXJ5RnVsbEFjY3VyYWN5QXV0aG9yaXphdGlvbihwdXJwb3NlOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBhIGNoYW5nZSBpbiBsb2NhdGlvbiBhY2N1cmFjeSBhdXRob3JpemF0aW9uIG9jY3VycyBvbiBpT1MgMTQrLlxuICAgKlxuICAgKiBMZWFybiBtb3JlIGFib3V0IHRoaXMgbWV0aG9kIFtoZXJlXShodHRwczovL2dpdGh1Yi5jb20vZHBhOTljL2NvcmRvdmEtZGlhZ25vc3RpYy1wbHVnaW4jcmVnaXN0ZXJMb2NhdGlvbkFjY3VyYWN5QXV0aG9yaXphdGlvbkNoYW5nZUhhbmRsZXIpXG4gICAqL1xuICBAQ29yZG92YSh7IHBsYXRmb3JtczogWydpT1MnXSwgc3luYzogdHJ1ZSB9KVxuICByZWdpc3RlckxvY2F0aW9uQWNjdXJhY3lBdXRob3JpemF0aW9uQ2hhbmdlSGFuZGxlcihoYW5kbGVyOiBGdW5jdGlvbik6IHZvaWQge31cbn1cbiJdfQ==","import has from 'lodash/has'; // @ts-expect-error\n\nimport toposort from 'toposort';\nimport { split } from 'property-expr';\nimport Ref from '../Reference';\nimport isSchema from './isSchema';\nexport default function sortFields(fields, excludes = []) {\n  let edges = [];\n  let nodes = [];\n\n  function addNode(depPath, key) {\n    var node = split(depPath)[0];\n    if (!~nodes.indexOf(node)) nodes.push(node);\n    if (!~excludes.indexOf(`${key}-${node}`)) edges.push([key, node]);\n  }\n\n  for (const key in fields) if (has(fields, key)) {\n    let value = fields[key];\n    if (!~nodes.indexOf(key)) nodes.push(key);\n    if (Ref.isRef(value) && value.isSibling) addNode(value.path, key);else if (isSchema(value) && 'deps' in value) value.deps.forEach(path => addNode(path, key));\n  }\n\n  return toposort.array(nodes, edges).reverse();\n}","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n\n  var toParts = (to && to.split('/')) || [];\n  var fromParts = (from && from.split('/')) || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n\n  if (\n    mustEndAbs &&\n    fromParts[0] !== '' &&\n    (!fromParts[0] || !isAbsolute(fromParts[0]))\n  )\n    fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;\n","import { getter } from 'property-expr';\nconst prefixes = {\n  context: '$',\n  value: '.'\n};\nexport function create(key, options) {\n  return new Reference(key, options);\n}\nexport default class Reference {\n  constructor(key, options = {}) {\n    if (typeof key !== 'string') throw new TypeError('ref must be a string, got: ' + key);\n    this.key = key.trim();\n    if (key === '') throw new TypeError('ref must be a non-empty string');\n    this.isContext = this.key[0] === prefixes.context;\n    this.isValue = this.key[0] === prefixes.value;\n    this.isSibling = !this.isContext && !this.isValue;\n    let prefix = this.isContext ? prefixes.context : this.isValue ? prefixes.value : '';\n    this.path = this.key.slice(prefix.length);\n    this.getter = this.path && getter(this.path, true);\n    this.map = options.map;\n  }\n\n  getValue(value, parent, context) {\n    let result = this.isContext ? context : this.isValue ? value : parent;\n    if (this.getter) result = this.getter(result || {});\n    if (this.map) result = this.map(result);\n    return result;\n  }\n  /**\n   *\n   * @param {*} value\n   * @param {Object} options\n   * @param {Object=} options.context\n   * @param {Object=} options.parent\n   */\n\n\n  cast(value, options) {\n    return this.getValue(value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context);\n  }\n\n  resolve() {\n    return this;\n  }\n\n  describe() {\n    return {\n      type: 'ref',\n      key: this.key\n    };\n  }\n\n  toString() {\n    return `Ref(${this.key})`;\n  }\n\n  static isRef(value) {\n    return value && value.__isYupRef;\n  }\n\n} // @ts-ignore\n\nReference.prototype.__isYupRef = true;","import {Box, Flex} from '@chakra-ui/react'\nimport {IonButton, IonCol, IonIcon, IonRow} from '@ionic/react'\nimport * as React from 'react'\nimport {useLessonStore} from './useLessonStore'\nimport PlayerStates from 'youtube-player/dist/constants/PlayerStates'\nimport {StepNavMenu} from './StepNavMenu'\nimport {SceneNavMenu} from './SceneNavMenu'\n\nexport function ActionBar({onPlayClick = null}) {\n  const playerState = useLessonStore((state) => state.playerState)\n  const play = useLessonStore((state) => state.play)\n  const rewind = useLessonStore((state) => state.rewind)\n  const stop = useLessonStore((state) => state.stop)\n  const playedRate = 10\n  const isPlay = playerState === PlayerStates.PLAYING\n\n  return (\n    <IonRow\n      // *ngIf=\"isLoaded\"\n      className=\"ion-align-items-center ion-justify-content-center\"\n    >\n      <IonCol sizeXs=\"12\" className=\"ion-align-self-center ion-no-padding\">\n        <div className=\"playing-progress-bar\" style={{width: '100%'}}>\n          <div className={`scene-bar active`} style={{flex: 1}}>\n            <div\n              className=\"scene-progress\"\n              style={{\n                width: `${playedRate * 100}%`,\n              }}\n            />\n          </div>\n        </div>\n        <IonRow className=\"youtube-handler \">\n          <IonCol\n            id=\"lesson-steps\"\n            size=\"4\"\n            className=\"ion-align-self-center ion-no-padding\"\n          >\n            <StepNavMenu />\n          </IonCol>\n          <IonCol\n            sizeXs=\"4\"\n            sizeSm=\"4\"\n            sizeMd=\"4\"\n            sizeLg=\"4\"\n            sizeXl=\"4\"\n            className=\"ion-text-center ion-align-self-center ion-no-padding\"\n          >\n            <Flex>\n              <Box flex={1}>\n                {isPlay && (\n                  <IonButton\n                    className=\" ion-no-padding\"\n                    fill=\"clear\"\n                    onClick={() => {\n                      rewind(3)\n                    }}\n                  >\n                    <IonIcon src=\"/assets/images/lessons/3seconds-back.svg\"></IonIcon>\n                  </IonButton>\n                )}\n              </Box>\n              <Box flex={1}>\n                {isPlay ? (\n                  <IonButton\n                    className=\" ion-no-padding\"\n                    fill=\"clear\"\n                    onClick={() => stop()}\n                  >\n                    <IonIcon src=\"/assets/images/lessons/pause-lesson.svg\"></IonIcon>\n                  </IonButton>\n                ) : (\n                  <IonButton\n                    className=\" ion-no-padding\"\n                    fill=\"clear\"\n                    onClick={() => (onPlayClick ? onPlayClick() : play())}\n                  >\n                    <IonIcon src=\"/assets/images/lessons/play-lesson.svg\"></IonIcon>\n                  </IonButton>\n                )}\n              </Box>\n              <Box flex={1}></Box>\n            </Flex>\n          </IonCol>\n          <IonCol\n            sizeXs=\"4\"\n            sizeSm=\"4\"\n            sizeMd=\"4\"\n            sizeLg=\"4\"\n            sizeXl=\"4\"\n            className=\"ion-align-self-center ion-no-padding\"\n          >\n            <SceneNavMenu />\n          </IonCol>\n        </IonRow>\n      </IonCol>\n    </IonRow>\n  )\n}\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","import React, {useEffect, useState} from 'react'\nimport {Box, Text} from '@chakra-ui/react'\nimport {IonText} from '@ionic/react'\nimport clsx from 'clsx'\nimport {range} from 'lodash'\nimport {useGetDictationQuery} from 'src/reactapp/types-and-hooks'\nimport PlayerStates from 'youtube-player/dist/constants/PlayerStates'\nimport {diffText} from '../diffScript'\nimport {ActionBar} from './ActionBar'\nimport {useCurrentLesson} from './lessonHooks'\nimport {NextButton} from './NextButton'\nimport ReviewScript from './ReviewScript'\nimport {useHelpGuide} from './useHelpGuide'\nimport {useLessonStore} from './useLessonStore'\n\nfunction useHelpReviewGuide() {\n  return useHelpGuide('isHelpScreenForReviewStepDone', [\n    {\n      element: '#translation',\n      popover: {\n        title: 'See translation and tips',\n        description: 'Check your translation in your native language.',\n        position: 'top-right',\n      },\n    },\n  ])\n}\n\nexport function LessonStepReview({Footer}) {\n  const repeat = 3 // 10\n  const [count, setCount] = useState(0)\n  const lesson = useCurrentLesson()\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const moveNext = useLessonStore((state) => state.moveNext)\n  const playerState = useLessonStore((state) => state.playerState)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const {showHelpGuide} = useHelpReviewGuide()\n\n  const scene = lesson.scenes[sceneIdx]\n\n  useEffect(() => {\n    showHelpGuide().then(() => {\n      ytPlayer.seekTo(scene.start, true)\n      ytPlayer.playVideo()\n    })\n  }, [sceneIdx])\n\n  useEffect(() => {\n    if (playerState === PlayerStates.PLAYING) {\n      const itv = setInterval(() => {\n        const cur = ytPlayer.getCurrentTime()\n        if (cur > scene.end) {\n          console.log('end')\n          clearInterval(itv)\n          ytPlayer.pauseVideo()\n          ytPlayer.seekTo(scene.start, true)\n          setCount((c) => Math.min(c + 1, repeat))\n        }\n      }, 100)\n      return () => clearInterval(itv)\n    }\n  }, [playerState])\n\n  useEffect(() => {\n    if (count > 0) {\n      ytPlayer.seekTo(scene.start, true)\n      ytPlayer.playVideo()\n    }\n  }, [count])\n\n  const counts = range(repeat).map((i) => ({\n    num: i + 1,\n    done: i < count,\n  }))\n\n  return (\n    <>\n      <ActionBar />\n      <div className=\"reviewing ion-padding\">\n        <div className=\"ion-text-center  ion-align-self-center\">\n          {counts.map((c) => (\n            <IonText key={c.num} className={clsx('lesson-loop', c.done && 'complete')}>\n              <span className={clsx(c.done && 'c-red')}>{c.num}</span>\n            </IonText>\n          ))}\n        </div>\n        <h5>Analyze what you missed</h5>\n        <ReviewScript />\n        <DiffView />\n      </div>\n\n      <Footer>\n        <NextButton onClick={() => moveNext()} />\n      </Footer>\n    </>\n  )\n}\n\nfunction DiffView() {\n  const lesson = useCurrentLesson()\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const {data} = useGetDictationQuery({\n    variables: {\n      sceneIdx,\n    },\n  })\n\n  const scene = lesson.scenes[sceneIdx]\n  const script = scene.langs.En.txt\n  const rs = diffText(script, data.dictation)\n\n  return (\n    <>\n      <div className=\"ion-margin-top\">\n        <Box color=\"#747474\">What you typed:</Box>\n        <Box\n          // border=\"1px solid #ddd\" borderRadius={3} minH={6} p={1}\n          className=\"review-diffs\"\n        >\n          {rs.map(({value, added, removed}, i) => (\n            <Text\n              key={i}\n              display=\"inline\"\n              color={removed ? '#f22' : '#333'}\n              textDecoration={added ? 'line-through' : 'none'}\n            >\n              {value}\n            </Text>\n          ))}\n        </Box>\n      </div>\n    </>\n  )\n}\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","import isSchema from './util/isSchema';\nexport function create(builder) {\n  return new Lazy(builder);\n}\n\nclass Lazy {\n  constructor(builder) {\n    this.type = 'lazy';\n    this.__isYupSchema__ = true;\n\n    this._resolve = (value, options = {}) => {\n      let schema = this.builder(value, options);\n      if (!isSchema(schema)) throw new TypeError('lazy() functions must return a valid schema');\n      return schema.resolve(options);\n    };\n\n    this.builder = builder;\n  }\n\n  resolve(options) {\n    return this._resolve(options.value, options);\n  }\n\n  cast(value, options) {\n    return this._resolve(value, options).cast(value, options);\n  }\n\n  validate(value, options, maybeCb) {\n    // @ts-expect-error missing public callback on type\n    return this._resolve(value, options).validate(value, options, maybeCb);\n  }\n\n  validateSync(value, options) {\n    return this._resolve(value, options).validateSync(value, options);\n  }\n\n  validateAt(path, value, options) {\n    return this._resolve(value, options).validateAt(path, value, options);\n  }\n\n  validateSyncAt(path, value, options) {\n    return this._resolve(value, options).validateSyncAt(path, value, options);\n  }\n\n  describe() {\n    return null;\n  }\n\n  isValid(value, options) {\n    return this._resolve(value, options).isValid(value, options);\n  }\n\n  isValidSync(value, options) {\n    return this._resolve(value, options).isValidSync(value, options);\n  }\n\n}\n\nexport default Lazy;","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useTextSelection = void 0;\nvar react_1 = require(\"react\");\nfunction roundValues(_rect) {\n    var rect = __assign({}, _rect);\n    for (var _i = 0, _a = Object.keys(rect); _i < _a.length; _i++) {\n        var key = _a[_i];\n        // @ts-ignore\n        rect[key] = Math.round(rect[key]);\n    }\n    return rect;\n}\nfunction shallowDiff(prev, next) {\n    if (prev != null && next != null) {\n        for (var _i = 0, _a = Object.keys(next); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (prev[key] != next[key]) {\n                return true;\n            }\n        }\n    }\n    else if (prev != next) {\n        return true;\n    }\n    return false;\n}\n/**\n * useTextSelection(ref)\n *\n * @description\n * hook to get information about the current text selection\n *\n */\nfunction useTextSelection(target) {\n    var _a = react_1.useState(), clientRect = _a[0], setRect = _a[1];\n    var _b = react_1.useState(), isCollapsed = _b[0], setIsCollapsed = _b[1];\n    var _c = react_1.useState(), textContent = _c[0], setText = _c[1];\n    var reset = react_1.useCallback(function () {\n        setRect(undefined);\n        setIsCollapsed(undefined);\n        setText(undefined);\n    }, []);\n    var handler = react_1.useCallback(function () {\n        var newRect;\n        var selection = window.getSelection();\n        if (selection == null || !selection.rangeCount) {\n            reset();\n            return;\n        }\n        var range = selection.getRangeAt(0);\n        if (target != null && !target.contains(range.commonAncestorContainer)) {\n            reset();\n            return;\n        }\n        if (range == null) {\n            reset();\n            return;\n        }\n        var contents = range.cloneContents();\n        if (contents.textContent != null)\n            setText(contents.textContent);\n        var rects = range.getClientRects();\n        if (rects.length === 0 && range.commonAncestorContainer != null) {\n            var el = range.commonAncestorContainer;\n            newRect = roundValues(el.getBoundingClientRect().toJSON());\n        }\n        else {\n            if (rects.length < 1)\n                return;\n            newRect = roundValues(rects[0].toJSON());\n        }\n        setRect(function (oldRect) {\n            if (shallowDiff(oldRect, newRect)) {\n                return newRect;\n            }\n            return oldRect;\n        });\n        setIsCollapsed(range.collapsed);\n    }, [target]);\n    react_1.useLayoutEffect(function () {\n        document.addEventListener('selectionchange', handler);\n        document.addEventListener('keydown', handler);\n        document.addEventListener('keyup', handler);\n        window.addEventListener('resize', handler);\n        return function () {\n            document.removeEventListener('selectionchange', handler);\n            document.removeEventListener('keydown', handler);\n            document.removeEventListener('keyup', handler);\n            window.removeEventListener('resize', handler);\n        };\n    }, [target]);\n    return {\n        clientRect: clientRect,\n        isCollapsed: isCollapsed,\n        textContent: textContent\n    };\n}\nexports.useTextSelection = useTextSelection;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport isEqual from 'fast-deep-equal';\nimport youTubePlayer from 'youtube-player';\n/**\n * Check whether a `props` change should result in the video being updated.\n *\n * @param {Object} prevProps\n * @param {Object} props\n */\n\nfunction shouldUpdateVideo(prevProps, props) {\n  // A changing video should always trigger an update\n  if (prevProps.videoId !== props.videoId) {\n    return true;\n  } // Otherwise, a change in the start/end time playerVars also requires a player\n  // update.\n\n\n  var prevVars = prevProps.opts.playerVars || {};\n  var vars = props.opts.playerVars || {};\n  return prevVars.start !== vars.start || prevVars.end !== vars.end;\n}\n/**\n * Neutralize API options that only require a video update, leaving only options\n * that require a player reset. The results can then be compared to see if a\n * player reset is necessary.\n *\n * @param {Object} opts\n */\n\n\nfunction filterResetOptions(opts) {\n  return _objectSpread(_objectSpread({}, opts), {}, {\n    playerVars: _objectSpread({\n      autoplay: 0,\n      start: 0,\n      end: 0\n    }, opts.playerVars)\n  });\n}\n/**\n * Check whether a `props` change should result in the player being reset.\n * The player is reset when the `props.opts` change, except if the only change\n * is in the `start` and `end` playerVars, because a video update can deal with\n * those.\n *\n * @param {Object} prevProps\n * @param {Object} props\n */\n\n\nfunction shouldResetPlayer(prevProps, props) {\n  return !isEqual(filterResetOptions(prevProps.opts), filterResetOptions(props.opts));\n}\n/**\n * Check whether a props change should result in an id or className update.\n *\n * @param {Object} prevProps\n * @param {Object} props\n */\n\n\nfunction shouldUpdatePlayer(prevProps, props) {\n  return prevProps.id !== props.id || prevProps.className !== props.className;\n}\n\nvar YouTube = /*#__PURE__*/function (_React$Component) {\n  _inherits(YouTube, _React$Component);\n\n  var _super = _createSuper(YouTube);\n\n  /**\n   * Expose PlayerState constants for convenience. These constants can also be\n   * accessed through the global YT object after the YouTube IFrame API is instantiated.\n   * https://developers.google.com/youtube/iframe_api_reference#onStateChange\n   */\n  function YouTube(props) {\n    var _this;\n\n    _classCallCheck(this, YouTube);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerReady\", function (event) {\n      return _this.props.onReady(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerError\", function (event) {\n      return _this.props.onError(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerStateChange\", function (event) {\n      _this.props.onStateChange(event);\n\n      switch (event.data) {\n        case YouTube.PlayerState.ENDED:\n          _this.props.onEnd(event);\n\n          break;\n\n        case YouTube.PlayerState.PLAYING:\n          _this.props.onPlay(event);\n\n          break;\n\n        case YouTube.PlayerState.PAUSED:\n          _this.props.onPause(event);\n\n          break;\n\n        default:\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerPlaybackRateChange\", function (event) {\n      return _this.props.onPlaybackRateChange(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerPlaybackQualityChange\", function (event) {\n      return _this.props.onPlaybackQualityChange(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"createPlayer\", function () {\n      // do not attempt to create a player server-side, it won't work\n      if (typeof document === 'undefined') return; // create player\n\n      var playerOpts = _objectSpread(_objectSpread({}, _this.props.opts), {}, {\n        // preload the `videoId` video if one is already given\n        videoId: _this.props.videoId\n      });\n\n      _this.internalPlayer = youTubePlayer(_this.container, playerOpts); // attach event handlers\n\n      _this.internalPlayer.on('ready', _this.onPlayerReady);\n\n      _this.internalPlayer.on('error', _this.onPlayerError);\n\n      _this.internalPlayer.on('stateChange', _this.onPlayerStateChange);\n\n      _this.internalPlayer.on('playbackRateChange', _this.onPlayerPlaybackRateChange);\n\n      _this.internalPlayer.on('playbackQualityChange', _this.onPlayerPlaybackQualityChange);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetPlayer\", function () {\n      return _this.internalPlayer.destroy().then(_this.createPlayer);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayer\", function () {\n      _this.internalPlayer.getIframe().then(function (iframe) {\n        if (_this.props.id) iframe.setAttribute('id', _this.props.id);else iframe.removeAttribute('id');\n        if (_this.props.className) iframe.setAttribute('class', _this.props.className);else iframe.removeAttribute('class');\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getInternalPlayer\", function () {\n      return _this.internalPlayer;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateVideo\", function () {\n      if (typeof _this.props.videoId === 'undefined' || _this.props.videoId === null) {\n        _this.internalPlayer.stopVideo();\n\n        return;\n      } // set queueing options\n\n\n      var autoplay = false;\n      var opts = {\n        videoId: _this.props.videoId\n      };\n\n      if ('playerVars' in _this.props.opts) {\n        autoplay = _this.props.opts.playerVars.autoplay === 1;\n\n        if ('start' in _this.props.opts.playerVars) {\n          opts.startSeconds = _this.props.opts.playerVars.start;\n        }\n\n        if ('end' in _this.props.opts.playerVars) {\n          opts.endSeconds = _this.props.opts.playerVars.end;\n        }\n      } // if autoplay is enabled loadVideoById\n\n\n      if (autoplay) {\n        _this.internalPlayer.loadVideoById(opts);\n\n        return;\n      } // default behaviour just cues the video\n\n\n      _this.internalPlayer.cueVideoById(opts);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"refContainer\", function (container) {\n      _this.container = container;\n    });\n\n    _this.container = null;\n    _this.internalPlayer = null;\n    return _this;\n  }\n\n  _createClass(YouTube, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.createPlayer();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (shouldUpdatePlayer(prevProps, this.props)) {\n        this.updatePlayer();\n      }\n\n      if (shouldResetPlayer(prevProps, this.props)) {\n        this.resetPlayer();\n      }\n\n      if (shouldUpdateVideo(prevProps, this.props)) {\n        this.updateVideo();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      /**\n       * Note: The `youtube-player` package that is used promisifies all YouTube\n       * Player API calls, which introduces a delay of a tick before it actually\n       * gets destroyed. Since React attempts to remove the element instantly\n       * this method isn't quick enough to reset the container element.\n       */\n      this.internalPlayer.destroy();\n    }\n    /**\n     * https://developers.google.com/youtube/iframe_api_reference#onReady\n     *\n     * @param {Object} event\n     *   @param {Object} target - player object\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: this.props.containerClassName\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: this.props.id,\n        className: this.props.className,\n        ref: this.refContainer\n      }));\n    }\n  }]);\n\n  return YouTube;\n}(React.Component);\n\n_defineProperty(YouTube, \"PlayerState\", {\n  UNSTARTED: -1,\n  ENDED: 0,\n  PLAYING: 1,\n  PAUSED: 2,\n  BUFFERING: 3,\n  CUED: 5\n});\n\nYouTube.propTypes = {\n  videoId: PropTypes.string,\n  // custom ID for player element\n  id: PropTypes.string,\n  // custom class name for player element\n  className: PropTypes.string,\n  // custom class name for player container element\n  containerClassName: PropTypes.string,\n  // https://developers.google.com/youtube/iframe_api_reference#Loading_a_Video_Player\n  opts: PropTypes.objectOf(PropTypes.any),\n  // event subscriptions\n  onReady: PropTypes.func,\n  onError: PropTypes.func,\n  onPlay: PropTypes.func,\n  onPause: PropTypes.func,\n  onEnd: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onPlaybackRateChange: PropTypes.func,\n  onPlaybackQualityChange: PropTypes.func\n};\nYouTube.defaultProps = {\n  videoId: null,\n  id: null,\n  className: null,\n  opts: {},\n  containerClassName: '',\n  onReady: function onReady() {},\n  onError: function onError() {},\n  onPlay: function onPlay() {},\n  onPause: function onPause() {},\n  onEnd: function onEnd() {},\n  onStateChange: function onStateChange() {},\n  onPlaybackRateChange: function onPlaybackRateChange() {},\n  onPlaybackQualityChange: function onPlaybackQualityChange() {}\n};\nexport default YouTube;\n","import {IonCol, IonItem, IonRow, IonText, IonTextarea, isPlatform} from '@ionic/react'\nimport React, {useEffect, useState} from 'react'\nimport {useLessonStore} from './useLessonStore'\nimport {range} from 'lodash'\nimport PlayerStates from 'youtube-player/dist/constants/PlayerStates'\nimport {NextButton} from './NextButton'\nimport {ActionBar} from './ActionBar'\nimport clsx from 'clsx'\nimport {Plugins} from '@capacitor/core'\nimport {currentLessonIdVar, dictationsVar} from 'src/reactapp/apollo-client'\nimport {useGetDictationQuery, useGetLessonDeatilQuery} from 'src/reactapp/types-and-hooks'\nimport {useCurrentLesson} from './lessonHooks'\nimport {useHelpGuide} from './useHelpGuide'\nconst {Keyboard} = Plugins\n\nfunction useHelpDictationGuide() {\n  return useHelpGuide('isHelpScreenForDictationStepDone', [\n    {\n      element: '#lesson-steps',\n      popover: {\n        title: 'Step navigation',\n        description: 'Move easily among steps',\n        position: 'right-center',\n      },\n    },\n    {\n      element: '#lesson-scenes',\n      popover: {\n        title: 'Scene navigation',\n        description: 'Move easily among scenes',\n        position: 'top-right',\n      },\n    },\n    {\n      element: '#scene-iteration',\n      popover: {\n        title: 'Automatic replay',\n        description:\n          \"Clip repeats 10 times automatically while you're typing. You can replay as many times as you need\",\n        position: 'top-center',\n      },\n    },\n    {\n      element: '#dictation-textarea-headline',\n      popover: {\n        title: 'Dictation',\n        description:\n          '1-2 sentences will be played at a time. Type as much as you can. In the next step, your answer will be reviewed.',\n        position: 'top-center',\n      },\n    },\n  ])\n}\n\nfunction PlayCounts() {\n  const repeat = 10\n  const [count, setCount] = useState(0)\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const lesson = useCurrentLesson()\n\n  const setOverlay = useLessonStore((state) => state.setOverlay)\n  const playerState = useLessonStore((state) => state.playerState)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const {showHelpGuide} = useHelpDictationGuide()\n\n  const scene = lesson.scenes[sceneIdx]\n\n  useEffect(() => {\n    showHelpGuide().then(() => {\n      ytPlayer.seekTo(scene.start, true)\n      ytPlayer.playVideo()\n    })\n  }, [sceneIdx])\n\n  useEffect(() => {\n    if (playerState === PlayerStates.PLAYING) {\n      const itv = setInterval(() => {\n        const cur = ytPlayer.getCurrentTime()\n        if (cur > scene.end) {\n          console.log('end')\n          clearInterval(itv)\n          ytPlayer.pauseVideo()\n          ytPlayer.seekTo(scene.start, true)\n          setCount((c) => Math.min(c + 1, repeat))\n        }\n      }, 100)\n      return () => clearInterval(itv)\n    }\n  }, [playerState])\n\n  useEffect(() => {\n    if (count === 1) {\n      setOverlay(<h2>Write down what you heard.</h2>)\n      const it = setTimeout(() => {\n        setOverlay(null)\n        ytPlayer.seekTo(scene.start, true)\n        ytPlayer.playVideo()\n      }, 2000)\n      return () => {\n        clearTimeout(it)\n        setOverlay(null)\n      }\n    } else if (count > 1) {\n      ytPlayer.seekTo(scene.start, true)\n      ytPlayer.playVideo()\n    }\n  }, [count])\n\n  const counts = range(repeat).map((i) => ({\n    num: i + 1,\n    done: i < count,\n  }))\n\n  return (\n    <>\n      {counts.map((c) => (\n        <IonText key={c.num} className={clsx('lesson-loop', c.done && 'complete')}>\n          <span className={clsx(c.done && 'c-red')}>{c.num}</span>\n        </IonText>\n      ))}\n    </>\n  )\n}\n\nconst replaceApostrophe = (str: string) =>\n  str\n    .replace('”', '\"')\n    .replace('“', '\"')\n    .replace('’', \"'\")\n    .replace('‘', \"'\")\n    .replace(/[\\u2018\\u2019]/g, \"'\")\n    .replace(/[\\u201C\\u201D]/g, '\"')\n// .replace(/[\\u2013\\u2014]/g, '-')\n// .replace(/[\\u2026]/g, '...')\n\nfunction DictationTextarea() {\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const [value, setValue] = useState('')\n  const {loading} = useGetDictationQuery({\n    variables: {\n      sceneIdx: sceneIdx,\n    },\n    onCompleted: (data) => {\n      setValue(data.dictation)\n    },\n  })\n\n  function handleFocus() {\n    if (isPlatform('capacitor')) {\n      Keyboard.show()\n    }\n  }\n\n  function setDictatonValue() {\n    const old = dictationsVar()\n    const lessonId = currentLessonIdVar()\n    const key = `${lessonId}:${sceneIdx}`\n    dictationsVar({\n      ...old,\n      [key]: replaceApostrophe(value),\n    })\n  }\n\n  if (loading) {\n    return null\n  }\n\n  return (\n    <IonItem lines=\"none\" className=\"dictation-textarea ion-margin-top\">\n      <IonTextarea\n        className=\"c-red\"\n        rows={5}\n        placeholder=\"Write here...\"\n        onIonFocus={handleFocus}\n        onIonBlur={() => {\n          setDictatonValue()\n        }}\n        value={value}\n        onIonChange={(e) => setValue(e.detail.value)}\n      ></IonTextarea>\n    </IonItem>\n  )\n}\n\nexport function LessonStepDictation({Footer}) {\n  const [isSaving, setIsSaving] = React.useState(false)\n  const moveNext = useLessonStore((state) => state.moveNext)\n  const focusRef = React.useRef<HTMLDivElement>()\n\n  return (\n    <>\n      <ActionBar />\n      <div className=\"dictation\">\n        <div\n          className=\"ion-text-center ion-padding ion-align-self-center\"\n          id=\"scene-iteration\"\n        >\n          <PlayCounts />\n        </div>\n\n        <h5 id=\"dictation-textarea-headline\" className=\"ion-no-margin\">\n          A couple of sentences will be played at a time. Type everything you hear.\n        </h5>\n\n        <DictationTextarea />\n        <div ref={focusRef}></div>\n      </div>\n      <Footer>\n        <NextButton\n          disabled={isSaving}\n          onClick={() => {\n            setIsSaving(true)\n            focusRef.current.focus()\n            setTimeout(() => {\n              moveNext()\n            }, 200)\n          }}\n        />\n      </Footer>\n    </>\n  )\n}\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nmodule.exports = deburrLetter;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","import * as React from 'react'\nimport {Box, Menu, MenuButton, MenuItem, MenuList} from '@chakra-ui/react'\nimport {IonIcon, IonItem, IonLabel, useIonPopover} from '@ionic/react'\nimport {caretDown} from 'ionicons/icons'\nimport {useLessonStore} from './useLessonStore'\nimport clsx from 'clsx'\n\nfunction Menus({onDissmis}) {\n  const lesson = useLessonStore((state) => state.lesson)\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const moveScene = useLessonStore((state) => state.moveScene)\n\n  function handleSceneChange(newScene: number) {\n    moveScene(newScene)\n    onDissmis()\n  }\n\n  return (\n    <>\n      {lesson.scenes.map((_, i) => (\n        <IonItem\n          key={i}\n          lines=\"none\"\n          onClick={() => handleSceneChange(i)}\n          className=\"ion-text-center\"\n        >\n          <IonLabel className={clsx(i === sceneIdx && 'c-red')}>{i + 1}</IonLabel>\n        </IonItem>\n      ))}\n    </>\n  )\n}\n\nexport function SceneNavMenu() {\n  const lesson = useLessonStore((state) => state.lesson)\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const step = useLessonStore((state) => state.step)\n  const [presentMenu, dissmis] = useIonPopover(Menus, {\n    onDissmis: () => dissmis(),\n  })\n\n  if (step < 2 || step > 4) {\n    return null\n  }\n\n  const scenesLength = lesson.scenes.length\n\n  return (\n    <div id=\"lesson-scenes\">\n      <div\n        onClick={(e) => {\n          presentMenu({\n            cssClass: 'lessonStepsPopover',\n            mode: 'md',\n            event: e.nativeEvent,\n          })\n        }}\n      >\n        {sceneIdx + 1} / {scenesLength} Scenes{' '}\n        <IonIcon className=\"steps-scenes-icon\" icon={caretDown}></IonIcon>\n      </div>\n      {/*     \n      <Menu>\n        <MenuButton as={Box}>\n          {sceneIdx + 1} / {scenesLength} Scenes{' '}\n          <IonIcon className=\"steps-scenes-icon\" icon={caretDown}></IonIcon>\n        </MenuButton>\n        <MenuList zIndex={201}>\n          {lesson.scenes.map((scene, i) => (\n            <MenuItem\n              key={i}\n              color={i === sceneIdx ? 'red' : '#444'}\n              onClick={() => {\n                moveScene(i)\n              }}\n            >\n              {i + 1}\n            </MenuItem>\n          ))}\n        </MenuList>\n      </Menu> */}\n    </div>\n  )\n}\n","'use strict';\r\n\r\n// Last time updated: 2020-05-17 5:04:38 PM UTC\r\n\r\n// ________________\r\n// RecordRTC v5.6.1\r\n\r\n// Open-Sourced: https://github.com/muaz-khan/RecordRTC\r\n\r\n// --------------------------------------------------\r\n// Muaz Khan     - www.MuazKhan.com\r\n// MIT License   - www.WebRTC-Experiment.com/licence\r\n// --------------------------------------------------\r\n\r\n// ____________\r\n// RecordRTC.js\r\n\r\n/**\r\n * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. \r\n * @summary Record audio, video or screen inside the browser.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef RecordRTC\r\n * @class\r\n * @example\r\n * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {\r\n *     type: 'video', // audio or video or gif or canvas\r\n *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc\r\n * });\r\n * recorder.startRecording();\r\n * @see For further information:\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.\r\n * @param {object} config - {type:\"video\", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}\r\n */\r\n\r\nfunction RecordRTC(mediaStream, config) {\r\n    if (!mediaStream) {\r\n        throw 'First parameter is required.';\r\n    }\r\n\r\n    config = config || {\r\n        type: 'video'\r\n    };\r\n\r\n    config = new RecordRTCConfiguration(mediaStream, config);\r\n\r\n    // a reference to user's recordRTC object\r\n    var self = this;\r\n\r\n    function startRecording(config2) {\r\n        if (!config.disableLogs) {\r\n            console.log('RecordRTC version: ', self.version);\r\n        }\r\n\r\n        if (!!config2) {\r\n            // allow users to set options using startRecording method\r\n            // config2 is similar to main \"config\" object (second parameter over RecordRTC constructor)\r\n            config = new RecordRTCConfiguration(mediaStream, config2);\r\n        }\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('started recording ' + config.type + ' stream.');\r\n        }\r\n\r\n        if (mediaRecorder) {\r\n            mediaRecorder.clearRecordedData();\r\n            mediaRecorder.record();\r\n\r\n            setState('recording');\r\n\r\n            if (self.recordingDuration) {\r\n                handleRecordingDuration();\r\n            }\r\n            return self;\r\n        }\r\n\r\n        initRecorder(function() {\r\n            if (self.recordingDuration) {\r\n                handleRecordingDuration();\r\n            }\r\n        });\r\n\r\n        return self;\r\n    }\r\n\r\n    function initRecorder(initCallback) {\r\n        if (initCallback) {\r\n            config.initCallback = function() {\r\n                initCallback();\r\n                initCallback = config.initCallback = null; // recorder.initRecorder should be call-backed once.\r\n            };\r\n        }\r\n\r\n        var Recorder = new GetRecorderType(mediaStream, config);\r\n\r\n        mediaRecorder = new Recorder(mediaStream, config);\r\n        mediaRecorder.record();\r\n\r\n        setState('recording');\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Initialized recorderType:', mediaRecorder.constructor.name, 'for output-type:', config.type);\r\n        }\r\n    }\r\n\r\n    function stopRecording(callback) {\r\n        callback = callback || function() {};\r\n\r\n        if (!mediaRecorder) {\r\n            warningLog();\r\n            return;\r\n        }\r\n\r\n        if (self.state === 'paused') {\r\n            self.resumeRecording();\r\n\r\n            setTimeout(function() {\r\n                stopRecording(callback);\r\n            }, 1);\r\n            return;\r\n        }\r\n\r\n        if (self.state !== 'recording' && !config.disableLogs) {\r\n            console.warn('Recording state should be: \"recording\", however current state is: ', self.state);\r\n        }\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Stopped recording ' + config.type + ' stream.');\r\n        }\r\n\r\n        if (config.type !== 'gif') {\r\n            mediaRecorder.stop(_callback);\r\n        } else {\r\n            mediaRecorder.stop();\r\n            _callback();\r\n        }\r\n\r\n        setState('stopped');\r\n\r\n        function _callback(__blob) {\r\n            if (!mediaRecorder) {\r\n                if (typeof callback.call === 'function') {\r\n                    callback.call(self, '');\r\n                } else {\r\n                    callback('');\r\n                }\r\n                return;\r\n            }\r\n\r\n            Object.keys(mediaRecorder).forEach(function(key) {\r\n                if (typeof mediaRecorder[key] === 'function') {\r\n                    return;\r\n                }\r\n\r\n                self[key] = mediaRecorder[key];\r\n            });\r\n\r\n            var blob = mediaRecorder.blob;\r\n\r\n            if (!blob) {\r\n                if (__blob) {\r\n                    mediaRecorder.blob = blob = __blob;\r\n                } else {\r\n                    throw 'Recording failed.';\r\n                }\r\n            }\r\n\r\n            if (blob && !config.disableLogs) {\r\n                console.log(blob.type, '->', bytesToSize(blob.size));\r\n            }\r\n\r\n            if (callback) {\r\n                var url;\r\n\r\n                try {\r\n                    url = URL.createObjectURL(blob);\r\n                } catch (e) {}\r\n\r\n                if (typeof callback.call === 'function') {\r\n                    callback.call(self, url);\r\n                } else {\r\n                    callback(url);\r\n                }\r\n            }\r\n\r\n            if (!config.autoWriteToDisk) {\r\n                return;\r\n            }\r\n\r\n            getDataURL(function(dataURL) {\r\n                var parameter = {};\r\n                parameter[config.type + 'Blob'] = dataURL;\r\n                DiskStorage.Store(parameter);\r\n            });\r\n        }\r\n    }\r\n\r\n    function pauseRecording() {\r\n        if (!mediaRecorder) {\r\n            warningLog();\r\n            return;\r\n        }\r\n\r\n        if (self.state !== 'recording') {\r\n            if (!config.disableLogs) {\r\n                console.warn('Unable to pause the recording. Recording state: ', self.state);\r\n            }\r\n            return;\r\n        }\r\n\r\n        setState('paused');\r\n\r\n        mediaRecorder.pause();\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Paused recording.');\r\n        }\r\n    }\r\n\r\n    function resumeRecording() {\r\n        if (!mediaRecorder) {\r\n            warningLog();\r\n            return;\r\n        }\r\n\r\n        if (self.state !== 'paused') {\r\n            if (!config.disableLogs) {\r\n                console.warn('Unable to resume the recording. Recording state: ', self.state);\r\n            }\r\n            return;\r\n        }\r\n\r\n        setState('recording');\r\n\r\n        // not all libs have this method yet\r\n        mediaRecorder.resume();\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Resumed recording.');\r\n        }\r\n    }\r\n\r\n    function readFile(_blob) {\r\n        postMessage(new FileReaderSync().readAsDataURL(_blob));\r\n    }\r\n\r\n    function getDataURL(callback, _mediaRecorder) {\r\n        if (!callback) {\r\n            throw 'Pass a callback function over getDataURL.';\r\n        }\r\n\r\n        var blob = _mediaRecorder ? _mediaRecorder.blob : (mediaRecorder || {}).blob;\r\n\r\n        if (!blob) {\r\n            if (!config.disableLogs) {\r\n                console.warn('Blob encoder did not finish its job yet.');\r\n            }\r\n\r\n            setTimeout(function() {\r\n                getDataURL(callback, _mediaRecorder);\r\n            }, 1000);\r\n            return;\r\n        }\r\n\r\n        if (typeof Worker !== 'undefined' && !navigator.mozGetUserMedia) {\r\n            var webWorker = processInWebWorker(readFile);\r\n\r\n            webWorker.onmessage = function(event) {\r\n                callback(event.data);\r\n            };\r\n\r\n            webWorker.postMessage(blob);\r\n        } else {\r\n            var reader = new FileReader();\r\n            reader.readAsDataURL(blob);\r\n            reader.onload = function(event) {\r\n                callback(event.target.result);\r\n            };\r\n        }\r\n\r\n        function processInWebWorker(_function) {\r\n            try {\r\n                var blob = URL.createObjectURL(new Blob([_function.toString(),\r\n                    'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n                ], {\r\n                    type: 'application/javascript'\r\n                }));\r\n\r\n                var worker = new Worker(blob);\r\n                URL.revokeObjectURL(blob);\r\n                return worker;\r\n            } catch (e) {}\r\n        }\r\n    }\r\n\r\n    function handleRecordingDuration(counter) {\r\n        counter = counter || 0;\r\n\r\n        if (self.state === 'paused') {\r\n            setTimeout(function() {\r\n                handleRecordingDuration(counter);\r\n            }, 1000);\r\n            return;\r\n        }\r\n\r\n        if (self.state === 'stopped') {\r\n            return;\r\n        }\r\n\r\n        if (counter >= self.recordingDuration) {\r\n            stopRecording(self.onRecordingStopped);\r\n            return;\r\n        }\r\n\r\n        counter += 1000; // 1-second\r\n\r\n        setTimeout(function() {\r\n            handleRecordingDuration(counter);\r\n        }, 1000);\r\n    }\r\n\r\n    function setState(state) {\r\n        if (!self) {\r\n            return;\r\n        }\r\n\r\n        self.state = state;\r\n\r\n        if (typeof self.onStateChanged.call === 'function') {\r\n            self.onStateChanged.call(self, state);\r\n        } else {\r\n            self.onStateChanged(state);\r\n        }\r\n    }\r\n\r\n    var WARNING = 'It seems that recorder is destroyed or \"startRecording\" is not invoked for ' + config.type + ' recorder.';\r\n\r\n    function warningLog() {\r\n        if (config.disableLogs === true) {\r\n            return;\r\n        }\r\n\r\n        console.warn(WARNING);\r\n    }\r\n\r\n    var mediaRecorder;\r\n\r\n    var returnObject = {\r\n        /**\r\n         * This method starts the recording.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * var recorder = RecordRTC(mediaStream, {\r\n         *     type: 'video'\r\n         * });\r\n         * recorder.startRecording();\r\n         */\r\n        startRecording: startRecording,\r\n\r\n        /**\r\n         * This method stops the recording. It is strongly recommended to get \"blob\" or \"URI\" inside the callback to make sure all recorders finished their job.\r\n         * @param {function} callback - Callback to get the recorded blob.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     // use either \"this\" or \"recorder\" object; both are identical\r\n         *     video.src = this.toURL();\r\n         *     var blob = this.getBlob();\r\n         * });\r\n         */\r\n        stopRecording: stopRecording,\r\n\r\n        /**\r\n         * This method pauses the recording. You can resume recording using \"resumeRecording\" method.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo Firefox is unable to pause the recording. Fix it.\r\n         * @example\r\n         * recorder.pauseRecording();  // pause the recording\r\n         * recorder.resumeRecording(); // resume again\r\n         */\r\n        pauseRecording: pauseRecording,\r\n\r\n        /**\r\n         * This method resumes the recording.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.pauseRecording();  // first of all, pause the recording\r\n         * recorder.resumeRecording(); // now resume it\r\n         */\r\n        resumeRecording: resumeRecording,\r\n\r\n        /**\r\n         * This method initializes the recording.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo This method should be deprecated.\r\n         * @example\r\n         * recorder.initRecorder();\r\n         */\r\n        initRecorder: initRecorder,\r\n\r\n        /**\r\n         * Ask RecordRTC to auto-stop the recording after 5 minutes.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * var fiveMinutes = 5 * 1000 * 60;\r\n         * recorder.setRecordingDuration(fiveMinutes, function() {\r\n         *    var blob = this.getBlob();\r\n         *    video.src = this.toURL();\r\n         * });\r\n         * \r\n         * // or otherwise\r\n         * recorder.setRecordingDuration(fiveMinutes).onRecordingStopped(function() {\r\n         *    var blob = this.getBlob();\r\n         *    video.src = this.toURL();\r\n         * });\r\n         */\r\n        setRecordingDuration: function(recordingDuration, callback) {\r\n            if (typeof recordingDuration === 'undefined') {\r\n                throw 'recordingDuration is required.';\r\n            }\r\n\r\n            if (typeof recordingDuration !== 'number') {\r\n                throw 'recordingDuration must be a number.';\r\n            }\r\n\r\n            self.recordingDuration = recordingDuration;\r\n            self.onRecordingStopped = callback || function() {};\r\n\r\n            return {\r\n                onRecordingStopped: function(callback) {\r\n                    self.onRecordingStopped = callback;\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * This method can be used to clear/reset all the recorded data.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo Figure out the difference between \"reset\" and \"clearRecordedData\" methods.\r\n         * @example\r\n         * recorder.clearRecordedData();\r\n         */\r\n        clearRecordedData: function() {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            mediaRecorder.clearRecordedData();\r\n\r\n            if (!config.disableLogs) {\r\n                console.log('Cleared old recorded data.');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get the recorded blob. Use this method inside the \"stopRecording\" callback.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     var blob = this.getBlob();\r\n         *\r\n         *     var file = new File([blob], 'filename.webm', {\r\n         *         type: 'video/webm'\r\n         *     });\r\n         *\r\n         *     var formData = new FormData();\r\n         *     formData.append('file', file); // upload \"File\" object rather than a \"Blob\"\r\n         *     uploadToServer(formData);\r\n         * });\r\n         * @returns {Blob} Returns recorded data as \"Blob\" object.\r\n         */\r\n        getBlob: function() {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            return mediaRecorder.blob;\r\n        },\r\n\r\n        /**\r\n         * Get data-URI instead of Blob.\r\n         * @param {function} callback - Callback to get the Data-URI.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     recorder.getDataURL(function(dataURI) {\r\n         *         video.src = dataURI;\r\n         *     });\r\n         * });\r\n         */\r\n        getDataURL: getDataURL,\r\n\r\n        /**\r\n         * Get virtual/temporary URL. Usage of this URL is limited to current tab.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     video.src = this.toURL();\r\n         * });\r\n         * @returns {String} Returns a virtual/temporary URL for the recorded \"Blob\".\r\n         */\r\n        toURL: function() {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            return URL.createObjectURL(mediaRecorder.blob);\r\n        },\r\n\r\n        /**\r\n         * Get internal recording object (i.e. internal module) e.g. MutliStreamRecorder, MediaStreamRecorder, StereoAudioRecorder or WhammyRecorder etc.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * var internalRecorder = recorder.getInternalRecorder();\r\n         * if(internalRecorder instanceof MultiStreamRecorder) {\r\n         *     internalRecorder.addStreams([newAudioStream]);\r\n         *     internalRecorder.resetVideoStreams([screenStream]);\r\n         * }\r\n         * @returns {Object} Returns internal recording object.\r\n         */\r\n        getInternalRecorder: function() {\r\n            return mediaRecorder;\r\n        },\r\n\r\n        /**\r\n         * Invoke save-as dialog to save the recorded blob into your disk.\r\n         * @param {string} fileName - Set your own file name.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     this.save('file-name');\r\n         *\r\n         *     // or manually:\r\n         *     invokeSaveAsDialog(this.getBlob(), 'filename.webm');\r\n         * });\r\n         */\r\n        save: function(fileName) {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            invokeSaveAsDialog(mediaRecorder.blob, fileName);\r\n        },\r\n\r\n        /**\r\n         * This method gets a blob from indexed-DB storage.\r\n         * @param {function} callback - Callback to get the recorded blob.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.getFromDisk(function(dataURL) {\r\n         *     video.src = dataURL;\r\n         * });\r\n         */\r\n        getFromDisk: function(callback) {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            RecordRTC.getFromDisk(config.type, callback);\r\n        },\r\n\r\n        /**\r\n         * This method appends an array of webp images to the recorded video-blob. It takes an \"array\" object.\r\n         * @type {Array.<Array>}\r\n         * @param {Array} arrayOfWebPImages - Array of webp images.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo This method should be deprecated.\r\n         * @example\r\n         * var arrayOfWebPImages = [];\r\n         * arrayOfWebPImages.push({\r\n         *     duration: index,\r\n         *     image: 'data:image/webp;base64,...'\r\n         * });\r\n         * recorder.setAdvertisementArray(arrayOfWebPImages);\r\n         */\r\n        setAdvertisementArray: function(arrayOfWebPImages) {\r\n            config.advertisement = [];\r\n\r\n            var length = arrayOfWebPImages.length;\r\n            for (var i = 0; i < length; i++) {\r\n                config.advertisement.push({\r\n                    duration: i,\r\n                    image: arrayOfWebPImages[i]\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * It is equivalent to <code class=\"str\">\"recorder.getBlob()\"</code> method. Usage of \"getBlob\" is recommended, though.\r\n         * @property {Blob} blob - Recorded Blob can be accessed using this property.\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     var blob = this.blob;\r\n         *\r\n         *     // below one is recommended\r\n         *     var blob = this.getBlob();\r\n         * });\r\n         */\r\n        blob: null,\r\n\r\n        /**\r\n         * This works only with {recorderType:StereoAudioRecorder}. Use this property on \"stopRecording\" to verify the encoder's sample-rates.\r\n         * @property {number} bufferSize - Buffer-size used to encode the WAV container\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     alert('Recorder used this buffer-size: ' + this.bufferSize);\r\n         * });\r\n         */\r\n        bufferSize: 0,\r\n\r\n        /**\r\n         * This works only with {recorderType:StereoAudioRecorder}. Use this property on \"stopRecording\" to verify the encoder's sample-rates.\r\n         * @property {number} sampleRate - Sample-rates used to encode the WAV container\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     alert('Recorder used these sample-rates: ' + this.sampleRate);\r\n         * });\r\n         */\r\n        sampleRate: 0,\r\n\r\n        /**\r\n         * {recorderType:StereoAudioRecorder} returns ArrayBuffer object.\r\n         * @property {ArrayBuffer} buffer - Audio ArrayBuffer, supported only in Chrome.\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     var arrayBuffer = this.buffer;\r\n         *     alert(arrayBuffer.byteLength);\r\n         * });\r\n         */\r\n        buffer: null,\r\n\r\n        /**\r\n         * This method resets the recorder. So that you can reuse single recorder instance many times.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.reset();\r\n         * recorder.startRecording();\r\n         */\r\n        reset: function() {\r\n            if (self.state === 'recording' && !config.disableLogs) {\r\n                console.warn('Stop an active recorder.');\r\n            }\r\n\r\n            if (mediaRecorder && typeof mediaRecorder.clearRecordedData === 'function') {\r\n                mediaRecorder.clearRecordedData();\r\n            }\r\n            mediaRecorder = null;\r\n            setState('inactive');\r\n            self.blob = null;\r\n        },\r\n\r\n        /**\r\n         * This method is called whenever recorder's state changes. Use this as an \"event\".\r\n         * @property {String} state - A recorder's state can be: recording, paused, stopped or inactive.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.onStateChanged = function(state) {\r\n         *     console.log('Recorder state: ', state);\r\n         * };\r\n         */\r\n        onStateChanged: function(state) {\r\n            if (!config.disableLogs) {\r\n                console.log('Recorder state changed:', state);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * A recorder can have inactive, recording, paused or stopped states.\r\n         * @property {String} state - A recorder's state can be: recording, paused, stopped or inactive.\r\n         * @memberof RecordRTC\r\n         * @static\r\n         * @readonly\r\n         * @example\r\n         * // this looper function will keep you updated about the recorder's states.\r\n         * (function looper() {\r\n         *     document.querySelector('h1').innerHTML = 'Recorder\\'s state is: ' + recorder.state;\r\n         *     if(recorder.state === 'stopped') return; // ignore+stop\r\n         *     setTimeout(looper, 1000); // update after every 3-seconds\r\n         * })();\r\n         * recorder.startRecording();\r\n         */\r\n        state: 'inactive',\r\n\r\n        /**\r\n         * Get recorder's readonly state.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @example\r\n         * var state = recorder.getState();\r\n         * @returns {String} Returns recording state.\r\n         */\r\n        getState: function() {\r\n            return self.state;\r\n        },\r\n\r\n        /**\r\n         * Destroy RecordRTC instance. Clear all recorders and objects.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @example\r\n         * recorder.destroy();\r\n         */\r\n        destroy: function() {\r\n            var disableLogsCache = config.disableLogs;\r\n\r\n            config = {\r\n                disableLogs: true\r\n            };\r\n            self.reset();\r\n            setState('destroyed');\r\n            returnObject = self = null;\r\n\r\n            if (Storage.AudioContextConstructor) {\r\n                Storage.AudioContextConstructor.close();\r\n                Storage.AudioContextConstructor = null;\r\n            }\r\n\r\n            config.disableLogs = disableLogsCache;\r\n\r\n            if (!config.disableLogs) {\r\n                console.log('RecordRTC is destroyed.');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * RecordRTC version number\r\n         * @property {String} version - Release version number.\r\n         * @memberof RecordRTC\r\n         * @static\r\n         * @readonly\r\n         * @example\r\n         * alert(recorder.version);\r\n         */\r\n        version: '5.6.1'\r\n    };\r\n\r\n    if (!this) {\r\n        self = returnObject;\r\n        return returnObject;\r\n    }\r\n\r\n    // if someone wants to use RecordRTC with the \"new\" keyword.\r\n    for (var prop in returnObject) {\r\n        this[prop] = returnObject[prop];\r\n    }\r\n\r\n    self = this;\r\n\r\n    return returnObject;\r\n}\r\n\r\nRecordRTC.version = '5.6.1';\r\n\r\nif (typeof module !== 'undefined' /* && !!module.exports*/ ) {\r\n    module.exports = RecordRTC;\r\n}\r\n\r\nif (typeof define === 'function' && define.amd) {\r\n    define('RecordRTC', [], function() {\r\n        return RecordRTC;\r\n    });\r\n}\n\r\nRecordRTC.getFromDisk = function(type, callback) {\r\n    if (!callback) {\r\n        throw 'callback is mandatory.';\r\n    }\r\n\r\n    console.log('Getting recorded ' + (type === 'all' ? 'blobs' : type + ' blob ') + ' from disk!');\r\n    DiskStorage.Fetch(function(dataURL, _type) {\r\n        if (type !== 'all' && _type === type + 'Blob' && callback) {\r\n            callback(dataURL);\r\n        }\r\n\r\n        if (type === 'all' && callback) {\r\n            callback(dataURL, _type.replace('Blob', ''));\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * This method can be used to store recorded blobs into IndexedDB storage.\r\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\r\n * @method\r\n * @memberof RecordRTC\r\n * @example\r\n * RecordRTC.writeToDisk({\r\n *     audio: audioBlob,\r\n *     video: videoBlob,\r\n *     gif  : gifBlob\r\n * });\r\n */\r\nRecordRTC.writeToDisk = function(options) {\r\n    console.log('Writing recorded blob(s) to disk!');\r\n    options = options || {};\r\n    if (options.audio && options.video && options.gif) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            options.video.getDataURL(function(videoDataURL) {\r\n                options.gif.getDataURL(function(gifDataURL) {\r\n                    DiskStorage.Store({\r\n                        audioBlob: audioDataURL,\r\n                        videoBlob: videoDataURL,\r\n                        gifBlob: gifDataURL\r\n                    });\r\n                });\r\n            });\r\n        });\r\n    } else if (options.audio && options.video) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            options.video.getDataURL(function(videoDataURL) {\r\n                DiskStorage.Store({\r\n                    audioBlob: audioDataURL,\r\n                    videoBlob: videoDataURL\r\n                });\r\n            });\r\n        });\r\n    } else if (options.audio && options.gif) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            options.gif.getDataURL(function(gifDataURL) {\r\n                DiskStorage.Store({\r\n                    audioBlob: audioDataURL,\r\n                    gifBlob: gifDataURL\r\n                });\r\n            });\r\n        });\r\n    } else if (options.video && options.gif) {\r\n        options.video.getDataURL(function(videoDataURL) {\r\n            options.gif.getDataURL(function(gifDataURL) {\r\n                DiskStorage.Store({\r\n                    videoBlob: videoDataURL,\r\n                    gifBlob: gifDataURL\r\n                });\r\n            });\r\n        });\r\n    } else if (options.audio) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            DiskStorage.Store({\r\n                audioBlob: audioDataURL\r\n            });\r\n        });\r\n    } else if (options.video) {\r\n        options.video.getDataURL(function(videoDataURL) {\r\n            DiskStorage.Store({\r\n                videoBlob: videoDataURL\r\n            });\r\n        });\r\n    } else if (options.gif) {\r\n        options.gif.getDataURL(function(gifDataURL) {\r\n            DiskStorage.Store({\r\n                gifBlob: gifDataURL\r\n            });\r\n        });\r\n    }\r\n};\n\r\n// __________________________\r\n// RecordRTC-Configuration.js\r\n\r\n/**\r\n * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.\r\n * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid \"config\" object.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef RecordRTCConfiguration\r\n * @class\r\n * @example\r\n * var options = RecordRTCConfiguration(mediaStream, options);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}\r\n */\r\n\r\nfunction RecordRTCConfiguration(mediaStream, config) {\r\n    if (!config.recorderType && !config.type) {\r\n        if (!!config.audio && !!config.video) {\r\n            config.type = 'video';\r\n        } else if (!!config.audio && !config.video) {\r\n            config.type = 'audio';\r\n        }\r\n    }\r\n\r\n    if (config.recorderType && !config.type) {\r\n        if (config.recorderType === WhammyRecorder || config.recorderType === CanvasRecorder || (typeof WebAssemblyRecorder !== 'undefined' && config.recorderType === WebAssemblyRecorder)) {\r\n            config.type = 'video';\r\n        } else if (config.recorderType === GifRecorder) {\r\n            config.type = 'gif';\r\n        } else if (config.recorderType === StereoAudioRecorder) {\r\n            config.type = 'audio';\r\n        } else if (config.recorderType === MediaStreamRecorder) {\r\n            if (getTracks(mediaStream, 'audio').length && getTracks(mediaStream, 'video').length) {\r\n                config.type = 'video';\r\n            } else if (!getTracks(mediaStream, 'audio').length && getTracks(mediaStream, 'video').length) {\r\n                config.type = 'video';\r\n            } else if (getTracks(mediaStream, 'audio').length && !getTracks(mediaStream, 'video').length) {\r\n                config.type = 'audio';\r\n            } else {\r\n                // config.type = 'UnKnown';\r\n            }\r\n        }\r\n    }\r\n\r\n    if (typeof MediaStreamRecorder !== 'undefined' && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\r\n        if (!config.mimeType) {\r\n            config.mimeType = 'video/webm';\r\n        }\r\n\r\n        if (!config.type) {\r\n            config.type = config.mimeType.split('/')[0];\r\n        }\r\n\r\n        if (!config.bitsPerSecond) {\r\n            // config.bitsPerSecond = 128000;\r\n        }\r\n    }\r\n\r\n    // consider default type=audio\r\n    if (!config.type) {\r\n        if (config.mimeType) {\r\n            config.type = config.mimeType.split('/')[0];\r\n        }\r\n        if (!config.type) {\r\n            config.type = 'audio';\r\n        }\r\n    }\r\n\r\n    return config;\r\n}\n\r\n// __________________\r\n// GetRecorderType.js\r\n\r\n/**\r\n * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.\r\n * @summary It returns best recorder-type available for your browser.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef GetRecorderType\r\n * @class\r\n * @example\r\n * var RecorderType = GetRecorderType(options);\r\n * var recorder = new RecorderType(options);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\r\n */\r\n\r\nfunction GetRecorderType(mediaStream, config) {\r\n    var recorder;\r\n\r\n    // StereoAudioRecorder can work with all three: Edge, Firefox and Chrome\r\n    // todo: detect if it is Edge, then auto use: StereoAudioRecorder\r\n    if (isChrome || isEdge || isOpera) {\r\n        // Media Stream Recording API has not been implemented in chrome yet;\r\n        // That's why using WebAudio API to record stereo audio in WAV format\r\n        recorder = StereoAudioRecorder;\r\n    }\r\n\r\n    if (typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype && !isChrome) {\r\n        recorder = MediaStreamRecorder;\r\n    }\r\n\r\n    // video recorder (in WebM format)\r\n    if (config.type === 'video' && (isChrome || isOpera)) {\r\n        recorder = WhammyRecorder;\r\n\r\n        if (typeof WebAssemblyRecorder !== 'undefined' && typeof ReadableStream !== 'undefined') {\r\n            recorder = WebAssemblyRecorder;\r\n        }\r\n    }\r\n\r\n    // video recorder (in Gif format)\r\n    if (config.type === 'gif') {\r\n        recorder = GifRecorder;\r\n    }\r\n\r\n    // html2canvas recording!\r\n    if (config.type === 'canvas') {\r\n        recorder = CanvasRecorder;\r\n    }\r\n\r\n    if (isMediaRecorderCompatible() && recorder !== CanvasRecorder && recorder !== GifRecorder && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\r\n        if (getTracks(mediaStream, 'video').length || getTracks(mediaStream, 'audio').length) {\r\n            // audio-only recording\r\n            if (config.type === 'audio') {\r\n                if (typeof MediaRecorder.isTypeSupported === 'function' && MediaRecorder.isTypeSupported('audio/webm')) {\r\n                    recorder = MediaStreamRecorder;\r\n                }\r\n                // else recorder = StereoAudioRecorder;\r\n            } else {\r\n                // video or screen tracks\r\n                if (typeof MediaRecorder.isTypeSupported === 'function' && MediaRecorder.isTypeSupported('video/webm')) {\r\n                    recorder = MediaStreamRecorder;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (mediaStream instanceof Array && mediaStream.length) {\r\n        recorder = MultiStreamRecorder;\r\n    }\r\n\r\n    if (config.recorderType) {\r\n        recorder = config.recorderType;\r\n    }\r\n\r\n    if (!config.disableLogs && !!recorder && !!recorder.name) {\r\n        console.log('Using recorderType:', recorder.name || recorder.constructor.name);\r\n    }\r\n\r\n    if (!recorder && isSafari) {\r\n        recorder = MediaStreamRecorder;\r\n    }\r\n\r\n    return recorder;\r\n}\n\r\n// _____________\r\n// MRecordRTC.js\r\n\r\n/**\r\n * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.\r\n * @summary MRecordRTC stands for \"Multiple-RecordRTC\".\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef MRecordRTC\r\n * @class\r\n * @example\r\n * var recorder = new MRecordRTC();\r\n * recorder.addStream(MediaStream);\r\n * recorder.mediaType = {\r\n *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder\r\n *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder\r\n *     gif: true    // or GifRecorder\r\n * };\r\n * // mimeType is optional and should be set only in advance cases.\r\n * recorder.mimeType = {\r\n *     audio: 'audio/wav',\r\n *     video: 'video/webm',\r\n *     gif:   'image/gif'\r\n * };\r\n * recorder.startRecording();\r\n * @see For further information:\r\n * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @requires {@link RecordRTC}\r\n */\r\n\r\nfunction MRecordRTC(mediaStream) {\r\n\r\n    /**\r\n     * This method attaches MediaStream object to {@link MRecordRTC}.\r\n     * @param {MediaStream} mediaStream - A MediaStream object, either fetched using getUserMedia API, or generated using captureStreamUntilEnded or WebAudio API.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.addStream(MediaStream);\r\n     */\r\n    this.addStream = function(_mediaStream) {\r\n        if (_mediaStream) {\r\n            mediaStream = _mediaStream;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This property can be used to set the recording type e.g. audio, or video, or gif, or canvas.\r\n     * @property {object} mediaType - {audio: true, video: true, gif: true}\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * var recorder = new MRecordRTC();\r\n     * recorder.mediaType = {\r\n     *     audio: true, // TRUE or StereoAudioRecorder or MediaStreamRecorder\r\n     *     video: true, // TRUE or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder\r\n     *     gif  : true  // TRUE or GifRecorder\r\n     * };\r\n     */\r\n    this.mediaType = {\r\n        audio: true,\r\n        video: true\r\n    };\r\n\r\n    /**\r\n     * This method starts recording.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.startRecording();\r\n     */\r\n    this.startRecording = function() {\r\n        var mediaType = this.mediaType;\r\n        var recorderType;\r\n        var mimeType = this.mimeType || {\r\n            audio: null,\r\n            video: null,\r\n            gif: null\r\n        };\r\n\r\n        if (typeof mediaType.audio !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'audio').length) {\r\n            mediaType.audio = false;\r\n        }\r\n\r\n        if (typeof mediaType.video !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'video').length) {\r\n            mediaType.video = false;\r\n        }\r\n\r\n        if (typeof mediaType.gif !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'video').length) {\r\n            mediaType.gif = false;\r\n        }\r\n\r\n        if (!mediaType.audio && !mediaType.video && !mediaType.gif) {\r\n            throw 'MediaStream must have either audio or video tracks.';\r\n        }\r\n\r\n        if (!!mediaType.audio) {\r\n            recorderType = null;\r\n            if (typeof mediaType.audio === 'function') {\r\n                recorderType = mediaType.audio;\r\n            }\r\n\r\n            this.audioRecorder = new RecordRTC(mediaStream, {\r\n                type: 'audio',\r\n                bufferSize: this.bufferSize,\r\n                sampleRate: this.sampleRate,\r\n                numberOfAudioChannels: this.numberOfAudioChannels || 2,\r\n                disableLogs: this.disableLogs,\r\n                recorderType: recorderType,\r\n                mimeType: mimeType.audio,\r\n                timeSlice: this.timeSlice,\r\n                onTimeStamp: this.onTimeStamp\r\n            });\r\n\r\n            if (!mediaType.video) {\r\n                this.audioRecorder.startRecording();\r\n            }\r\n        }\r\n\r\n        if (!!mediaType.video) {\r\n            recorderType = null;\r\n            if (typeof mediaType.video === 'function') {\r\n                recorderType = mediaType.video;\r\n            }\r\n\r\n            var newStream = mediaStream;\r\n\r\n            if (isMediaRecorderCompatible() && !!mediaType.audio && typeof mediaType.audio === 'function') {\r\n                var videoTrack = getTracks(mediaStream, 'video')[0];\r\n\r\n                if (isFirefox) {\r\n                    newStream = new MediaStream();\r\n                    newStream.addTrack(videoTrack);\r\n\r\n                    if (recorderType && recorderType === WhammyRecorder) {\r\n                        // Firefox does NOT supports webp-encoding yet\r\n                        // But Firefox do supports WebAssemblyRecorder\r\n                        recorderType = MediaStreamRecorder;\r\n                    }\r\n                } else {\r\n                    newStream = new MediaStream();\r\n                    newStream.addTrack(videoTrack);\r\n                }\r\n            }\r\n\r\n            this.videoRecorder = new RecordRTC(newStream, {\r\n                type: 'video',\r\n                video: this.video,\r\n                canvas: this.canvas,\r\n                frameInterval: this.frameInterval || 10,\r\n                disableLogs: this.disableLogs,\r\n                recorderType: recorderType,\r\n                mimeType: mimeType.video,\r\n                timeSlice: this.timeSlice,\r\n                onTimeStamp: this.onTimeStamp,\r\n                workerPath: this.workerPath,\r\n                webAssemblyPath: this.webAssemblyPath,\r\n                frameRate: this.frameRate, // used by WebAssemblyRecorder; values: usually 30; accepts any.\r\n                bitrate: this.bitrate // used by WebAssemblyRecorder; values: 0 to 1000+\r\n            });\r\n\r\n            if (!mediaType.audio) {\r\n                this.videoRecorder.startRecording();\r\n            }\r\n        }\r\n\r\n        if (!!mediaType.audio && !!mediaType.video) {\r\n            var self = this;\r\n\r\n            var isSingleRecorder = isMediaRecorderCompatible() === true;\r\n\r\n            if (mediaType.audio instanceof StereoAudioRecorder && !!mediaType.video) {\r\n                isSingleRecorder = false;\r\n            } else if (mediaType.audio !== true && mediaType.video !== true && mediaType.audio !== mediaType.video) {\r\n                isSingleRecorder = false;\r\n            }\r\n\r\n            if (isSingleRecorder === true) {\r\n                self.audioRecorder = null;\r\n                self.videoRecorder.startRecording();\r\n            } else {\r\n                self.videoRecorder.initRecorder(function() {\r\n                    self.audioRecorder.initRecorder(function() {\r\n                        // Both recorders are ready to record things accurately\r\n                        self.videoRecorder.startRecording();\r\n                        self.audioRecorder.startRecording();\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        if (!!mediaType.gif) {\r\n            recorderType = null;\r\n            if (typeof mediaType.gif === 'function') {\r\n                recorderType = mediaType.gif;\r\n            }\r\n            this.gifRecorder = new RecordRTC(mediaStream, {\r\n                type: 'gif',\r\n                frameRate: this.frameRate || 200,\r\n                quality: this.quality || 10,\r\n                disableLogs: this.disableLogs,\r\n                recorderType: recorderType,\r\n                mimeType: mimeType.gif\r\n            });\r\n            this.gifRecorder.startRecording();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method stops recording.\r\n     * @param {function} callback - Callback function is invoked when all encoders finished their jobs.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.stopRecording(function(recording){\r\n     *     var audioBlob = recording.audio;\r\n     *     var videoBlob = recording.video;\r\n     *     var gifBlob   = recording.gif;\r\n     * });\r\n     */\r\n    this.stopRecording = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.stopRecording(function(blobURL) {\r\n                callback(blobURL, 'audio');\r\n            });\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.stopRecording(function(blobURL) {\r\n                callback(blobURL, 'video');\r\n            });\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.stopRecording(function(blobURL) {\r\n                callback(blobURL, 'gif');\r\n            });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method pauses recording.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.pauseRecording();\r\n     */\r\n    this.pauseRecording = function() {\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.pauseRecording();\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.pauseRecording();\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.pauseRecording();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes recording.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.resumeRecording();\r\n     */\r\n    this.resumeRecording = function() {\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.resumeRecording();\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.resumeRecording();\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.resumeRecording();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method can be used to manually get all recorded blobs.\r\n     * @param {function} callback - All recorded blobs are passed back to the \"callback\" function.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.getBlob(function(recording){\r\n     *     var audioBlob = recording.audio;\r\n     *     var videoBlob = recording.video;\r\n     *     var gifBlob   = recording.gif;\r\n     * });\r\n     * // or\r\n     * var audioBlob = recorder.getBlob().audio;\r\n     * var videoBlob = recorder.getBlob().video;\r\n     */\r\n    this.getBlob = function(callback) {\r\n        var output = {};\r\n\r\n        if (this.audioRecorder) {\r\n            output.audio = this.audioRecorder.getBlob();\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            output.video = this.videoRecorder.getBlob();\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            output.gif = this.gifRecorder.getBlob();\r\n        }\r\n\r\n        if (callback) {\r\n            callback(output);\r\n        }\r\n\r\n        return output;\r\n    };\r\n\r\n    /**\r\n     * Destroy all recorder instances.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.destroy();\r\n     */\r\n    this.destroy = function() {\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.destroy();\r\n            this.audioRecorder = null;\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.destroy();\r\n            this.videoRecorder = null;\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.destroy();\r\n            this.gifRecorder = null;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method can be used to manually get all recorded blobs' DataURLs.\r\n     * @param {function} callback - All recorded blobs' DataURLs are passed back to the \"callback\" function.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.getDataURL(function(recording){\r\n     *     var audioDataURL = recording.audio;\r\n     *     var videoDataURL = recording.video;\r\n     *     var gifDataURL   = recording.gif;\r\n     * });\r\n     */\r\n    this.getDataURL = function(callback) {\r\n        this.getBlob(function(blob) {\r\n            if (blob.audio && blob.video) {\r\n                getDataURL(blob.audio, function(_audioDataURL) {\r\n                    getDataURL(blob.video, function(_videoDataURL) {\r\n                        callback({\r\n                            audio: _audioDataURL,\r\n                            video: _videoDataURL\r\n                        });\r\n                    });\r\n                });\r\n            } else if (blob.audio) {\r\n                getDataURL(blob.audio, function(_audioDataURL) {\r\n                    callback({\r\n                        audio: _audioDataURL\r\n                    });\r\n                });\r\n            } else if (blob.video) {\r\n                getDataURL(blob.video, function(_videoDataURL) {\r\n                    callback({\r\n                        video: _videoDataURL\r\n                    });\r\n                });\r\n            }\r\n        });\r\n\r\n        function getDataURL(blob, callback00) {\r\n            if (typeof Worker !== 'undefined') {\r\n                var webWorker = processInWebWorker(function readFile(_blob) {\r\n                    postMessage(new FileReaderSync().readAsDataURL(_blob));\r\n                });\r\n\r\n                webWorker.onmessage = function(event) {\r\n                    callback00(event.data);\r\n                };\r\n\r\n                webWorker.postMessage(blob);\r\n            } else {\r\n                var reader = new FileReader();\r\n                reader.readAsDataURL(blob);\r\n                reader.onload = function(event) {\r\n                    callback00(event.target.result);\r\n                };\r\n            }\r\n        }\r\n\r\n        function processInWebWorker(_function) {\r\n            var blob = URL.createObjectURL(new Blob([_function.toString(),\r\n                'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n            ], {\r\n                type: 'application/javascript'\r\n            }));\r\n\r\n            var worker = new Worker(blob);\r\n            var url;\r\n            if (typeof URL !== 'undefined') {\r\n                url = URL;\r\n            } else if (typeof webkitURL !== 'undefined') {\r\n                url = webkitURL;\r\n            } else {\r\n                throw 'Neither URL nor webkitURL detected.';\r\n            }\r\n            url.revokeObjectURL(blob);\r\n            return worker;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method can be used to ask {@link MRecordRTC} to write all recorded blobs into IndexedDB storage.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.writeToDisk();\r\n     */\r\n    this.writeToDisk = function() {\r\n        RecordRTC.writeToDisk({\r\n            audio: this.audioRecorder,\r\n            video: this.videoRecorder,\r\n            gif: this.gifRecorder\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method can be used to invoke a save-as dialog for all recorded blobs.\r\n     * @param {object} args - {audio: 'audio-name', video: 'video-name', gif: 'gif-name'}\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.save({\r\n     *     audio: 'audio-file-name',\r\n     *     video: 'video-file-name',\r\n     *     gif  : 'gif-file-name'\r\n     * });\r\n     */\r\n    this.save = function(args) {\r\n        args = args || {\r\n            audio: true,\r\n            video: true,\r\n            gif: true\r\n        };\r\n\r\n        if (!!args.audio && this.audioRecorder) {\r\n            this.audioRecorder.save(typeof args.audio === 'string' ? args.audio : '');\r\n        }\r\n\r\n        if (!!args.video && this.videoRecorder) {\r\n            this.videoRecorder.save(typeof args.video === 'string' ? args.video : '');\r\n        }\r\n        if (!!args.gif && this.gifRecorder) {\r\n            this.gifRecorder.save(typeof args.gif === 'string' ? args.gif : '');\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * This method can be used to get all recorded blobs from IndexedDB storage.\r\n * @param {string} type - 'all' or 'audio' or 'video' or 'gif'\r\n * @param {function} callback - Callback function to get all stored blobs.\r\n * @method\r\n * @memberof MRecordRTC\r\n * @example\r\n * MRecordRTC.getFromDisk('all', function(dataURL, type){\r\n *     if(type === 'audio') { }\r\n *     if(type === 'video') { }\r\n *     if(type === 'gif')   { }\r\n * });\r\n */\r\nMRecordRTC.getFromDisk = RecordRTC.getFromDisk;\r\n\r\n/**\r\n * This method can be used to store recorded blobs into IndexedDB storage.\r\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\r\n * @method\r\n * @memberof MRecordRTC\r\n * @example\r\n * MRecordRTC.writeToDisk({\r\n *     audio: audioBlob,\r\n *     video: videoBlob,\r\n *     gif  : gifBlob\r\n * });\r\n */\r\nMRecordRTC.writeToDisk = RecordRTC.writeToDisk;\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.MRecordRTC = MRecordRTC;\r\n}\n\r\nvar browserFakeUserAgent = 'Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45';\r\n\r\n(function(that) {\r\n    if (!that) {\r\n        return;\r\n    }\r\n\r\n    if (typeof window !== 'undefined') {\r\n        return;\r\n    }\r\n\r\n    if (typeof global === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    global.navigator = {\r\n        userAgent: browserFakeUserAgent,\r\n        getUserMedia: function() {}\r\n    };\r\n\r\n    if (!global.console) {\r\n        global.console = {};\r\n    }\r\n\r\n    if (typeof global.console.log === 'undefined' || typeof global.console.error === 'undefined') {\r\n        global.console.error = global.console.log = global.console.log || function() {\r\n            console.log(arguments);\r\n        };\r\n    }\r\n\r\n    if (typeof document === 'undefined') {\r\n        /*global document:true */\r\n        that.document = {\r\n            documentElement: {\r\n                appendChild: function() {\r\n                    return '';\r\n                }\r\n            }\r\n        };\r\n\r\n        document.createElement = document.captureStream = document.mozCaptureStream = function() {\r\n            var obj = {\r\n                getContext: function() {\r\n                    return obj;\r\n                },\r\n                play: function() {},\r\n                pause: function() {},\r\n                drawImage: function() {},\r\n                toDataURL: function() {\r\n                    return '';\r\n                },\r\n                style: {}\r\n            };\r\n            return obj;\r\n        };\r\n\r\n        that.HTMLVideoElement = function() {};\r\n    }\r\n\r\n    if (typeof location === 'undefined') {\r\n        /*global location:true */\r\n        that.location = {\r\n            protocol: 'file:',\r\n            href: '',\r\n            hash: ''\r\n        };\r\n    }\r\n\r\n    if (typeof screen === 'undefined') {\r\n        /*global screen:true */\r\n        that.screen = {\r\n            width: 0,\r\n            height: 0\r\n        };\r\n    }\r\n\r\n    if (typeof URL === 'undefined') {\r\n        /*global screen:true */\r\n        that.URL = {\r\n            createObjectURL: function() {\r\n                return '';\r\n            },\r\n            revokeObjectURL: function() {\r\n                return '';\r\n            }\r\n        };\r\n    }\r\n\r\n    /*global window:true */\r\n    that.window = global;\r\n})(typeof global !== 'undefined' ? global : null);\n\r\n// _____________________________\r\n// Cross-Browser-Declarations.js\r\n\r\n// animation-frame used in WebM recording\r\n\r\n/*jshint -W079 */\r\nvar requestAnimationFrame = window.requestAnimationFrame;\r\nif (typeof requestAnimationFrame === 'undefined') {\r\n    if (typeof webkitRequestAnimationFrame !== 'undefined') {\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = webkitRequestAnimationFrame;\r\n    } else if (typeof mozRequestAnimationFrame !== 'undefined') {\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = mozRequestAnimationFrame;\r\n    } else if (typeof msRequestAnimationFrame !== 'undefined') {\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = msRequestAnimationFrame;\r\n    } else if (typeof requestAnimationFrame === 'undefined') {\r\n        // via: https://gist.github.com/paulirish/1579671\r\n        var lastTime = 0;\r\n\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = function(callback, element) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = setTimeout(function() {\r\n                callback(currTime + timeToCall);\r\n            }, timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n    }\r\n}\r\n\r\n/*jshint -W079 */\r\nvar cancelAnimationFrame = window.cancelAnimationFrame;\r\nif (typeof cancelAnimationFrame === 'undefined') {\r\n    if (typeof webkitCancelAnimationFrame !== 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = webkitCancelAnimationFrame;\r\n    } else if (typeof mozCancelAnimationFrame !== 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = mozCancelAnimationFrame;\r\n    } else if (typeof msCancelAnimationFrame !== 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = msCancelAnimationFrame;\r\n    } else if (typeof cancelAnimationFrame === 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = function(id) {\r\n            clearTimeout(id);\r\n        };\r\n    }\r\n}\r\n\r\n// WebAudio API representer\r\nvar AudioContext = window.AudioContext;\r\n\r\nif (typeof AudioContext === 'undefined') {\r\n    if (typeof webkitAudioContext !== 'undefined') {\r\n        /*global AudioContext:true */\r\n        AudioContext = webkitAudioContext;\r\n    }\r\n\r\n    if (typeof mozAudioContext !== 'undefined') {\r\n        /*global AudioContext:true */\r\n        AudioContext = mozAudioContext;\r\n    }\r\n}\r\n\r\n/*jshint -W079 */\r\nvar URL = window.URL;\r\n\r\nif (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\r\n    /*global URL:true */\r\n    URL = webkitURL;\r\n}\r\n\r\nif (typeof navigator !== 'undefined' && typeof navigator.getUserMedia === 'undefined') { // maybe window.navigator?\r\n    if (typeof navigator.webkitGetUserMedia !== 'undefined') {\r\n        navigator.getUserMedia = navigator.webkitGetUserMedia;\r\n    }\r\n\r\n    if (typeof navigator.mozGetUserMedia !== 'undefined') {\r\n        navigator.getUserMedia = navigator.mozGetUserMedia;\r\n    }\r\n}\r\n\r\nvar isEdge = navigator.userAgent.indexOf('Edge') !== -1 && (!!navigator.msSaveBlob || !!navigator.msSaveOrOpenBlob);\r\nvar isOpera = !!window.opera || navigator.userAgent.indexOf('OPR/') !== -1;\r\nvar isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1 && ('netscape' in window) && / rv:/.test(navigator.userAgent);\r\nvar isChrome = (!isOpera && !isEdge && !!navigator.webkitGetUserMedia) || isElectron() || navigator.userAgent.toLowerCase().indexOf('chrome/') !== -1;\r\n\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n\r\nif (isSafari && !isChrome && navigator.userAgent.indexOf('CriOS') !== -1) {\r\n    isSafari = false;\r\n    isChrome = true;\r\n}\r\n\r\nvar MediaStream = window.MediaStream;\r\n\r\nif (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\r\n    MediaStream = webkitMediaStream;\r\n}\r\n\r\n/*global MediaStream:true */\r\nif (typeof MediaStream !== 'undefined') {\r\n    // override \"stop\" method for all browsers\r\n    if (typeof MediaStream.prototype.stop === 'undefined') {\r\n        MediaStream.prototype.stop = function() {\r\n            this.getTracks().forEach(function(track) {\r\n                track.stop();\r\n            });\r\n        };\r\n    }\r\n}\r\n\r\n// below function via: http://goo.gl/B3ae8c\r\n/**\r\n * Return human-readable file size.\r\n * @param {number} bytes - Pass bytes and get formatted string.\r\n * @returns {string} - formatted string\r\n * @example\r\n * bytesToSize(1024*1024*5) === '5 GB'\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\nfunction bytesToSize(bytes) {\r\n    var k = 1000;\r\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    if (bytes === 0) {\r\n        return '0 Bytes';\r\n    }\r\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(k)), 10);\r\n    return (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];\r\n}\r\n\r\n/**\r\n * @param {Blob} file - File or Blob object. This parameter is required.\r\n * @param {string} fileName - Optional file name e.g. \"Recorded-Video.webm\"\r\n * @example\r\n * invokeSaveAsDialog(blob or file, [optional] fileName);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\nfunction invokeSaveAsDialog(file, fileName) {\r\n    if (!file) {\r\n        throw 'Blob object is required.';\r\n    }\r\n\r\n    if (!file.type) {\r\n        try {\r\n            file.type = 'video/webm';\r\n        } catch (e) {}\r\n    }\r\n\r\n    var fileExtension = (file.type || 'video/webm').split('/')[1];\r\n\r\n    if (fileName && fileName.indexOf('.') !== -1) {\r\n        var splitted = fileName.split('.');\r\n        fileName = splitted[0];\r\n        fileExtension = splitted[1];\r\n    }\r\n\r\n    var fileFullName = (fileName || (Math.round(Math.random() * 9999999999) + 888888888)) + '.' + fileExtension;\r\n\r\n    if (typeof navigator.msSaveOrOpenBlob !== 'undefined') {\r\n        return navigator.msSaveOrOpenBlob(file, fileFullName);\r\n    } else if (typeof navigator.msSaveBlob !== 'undefined') {\r\n        return navigator.msSaveBlob(file, fileFullName);\r\n    }\r\n\r\n    var hyperlink = document.createElement('a');\r\n    hyperlink.href = URL.createObjectURL(file);\r\n    hyperlink.download = fileFullName;\r\n\r\n    hyperlink.style = 'display:none;opacity:0;color:transparent;';\r\n    (document.body || document.documentElement).appendChild(hyperlink);\r\n\r\n    if (typeof hyperlink.click === 'function') {\r\n        hyperlink.click();\r\n    } else {\r\n        hyperlink.target = '_blank';\r\n        hyperlink.dispatchEvent(new MouseEvent('click', {\r\n            view: window,\r\n            bubbles: true,\r\n            cancelable: true\r\n        }));\r\n    }\r\n\r\n    URL.revokeObjectURL(hyperlink.href);\r\n}\r\n\r\n/**\r\n * from: https://github.com/cheton/is-electron/blob/master/index.js\r\n **/\r\nfunction isElectron() {\r\n    // Renderer process\r\n    if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\r\n        return true;\r\n    }\r\n\r\n    // Main process\r\n    if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {\r\n        return true;\r\n    }\r\n\r\n    // Detect the user agent when the `nodeIntegration` option is set to true\r\n    if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction getTracks(stream, kind) {\r\n    if (!stream || !stream.getTracks) {\r\n        return [];\r\n    }\r\n\r\n    return stream.getTracks().filter(function(t) {\r\n        return t.kind === (kind || 'audio');\r\n    });\r\n}\r\n\r\nfunction setSrcObject(stream, element) {\r\n    if ('srcObject' in element) {\r\n        element.srcObject = stream;\r\n    } else if ('mozSrcObject' in element) {\r\n        element.mozSrcObject = stream;\r\n    } else {\r\n        element.srcObject = stream;\r\n    }\r\n}\r\n\r\n/**\r\n * @param {Blob} file - File or Blob object.\r\n * @param {function} callback - Callback function.\r\n * @example\r\n * getSeekableBlob(blob or file, callback);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\nfunction getSeekableBlob(inputBlob, callback) {\r\n    // EBML.js copyrights goes to: https://github.com/legokichi/ts-ebml\r\n    if (typeof EBML === 'undefined') {\r\n        throw new Error('Please link: https://www.webrtc-experiment.com/EBML.js');\r\n    }\r\n\r\n    var reader = new EBML.Reader();\r\n    var decoder = new EBML.Decoder();\r\n    var tools = EBML.tools;\r\n\r\n    var fileReader = new FileReader();\r\n    fileReader.onload = function(e) {\r\n        var ebmlElms = decoder.decode(this.result);\r\n        ebmlElms.forEach(function(element) {\r\n            reader.read(element);\r\n        });\r\n        reader.stop();\r\n        var refinedMetadataBuf = tools.makeMetadataSeekable(reader.metadatas, reader.duration, reader.cues);\r\n        var body = this.result.slice(reader.metadataSize);\r\n        var newBlob = new Blob([refinedMetadataBuf, body], {\r\n            type: 'video/webm'\r\n        });\r\n\r\n        callback(newBlob);\r\n    };\r\n    fileReader.readAsArrayBuffer(inputBlob);\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.invokeSaveAsDialog = invokeSaveAsDialog;\r\n    RecordRTC.getTracks = getTracks;\r\n    RecordRTC.getSeekableBlob = getSeekableBlob;\r\n    RecordRTC.bytesToSize = bytesToSize;\r\n    RecordRTC.isElectron = isElectron;\r\n}\n\r\n// __________ (used to handle stuff like http://goo.gl/xmE5eg) issue #129\r\n// Storage.js\r\n\r\n/**\r\n * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. \"new AudioContext\".\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @example\r\n * Storage.AudioContext === webkitAudioContext\r\n * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\n\r\nvar Storage = {};\r\n\r\nif (typeof AudioContext !== 'undefined') {\r\n    Storage.AudioContext = AudioContext;\r\n} else if (typeof webkitAudioContext !== 'undefined') {\r\n    Storage.AudioContext = webkitAudioContext;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.Storage = Storage;\r\n}\n\r\nfunction isMediaRecorderCompatible() {\r\n    if (isFirefox || isSafari || isEdge) {\r\n        return true;\r\n    }\r\n\r\n    var nVer = navigator.appVersion;\r\n    var nAgt = navigator.userAgent;\r\n    var fullVersion = '' + parseFloat(navigator.appVersion);\r\n    var majorVersion = parseInt(navigator.appVersion, 10);\r\n    var nameOffset, verOffset, ix;\r\n\r\n    if (isChrome || isOpera) {\r\n        verOffset = nAgt.indexOf('Chrome');\r\n        fullVersion = nAgt.substring(verOffset + 7);\r\n    }\r\n\r\n    // trim the fullVersion string at semicolon/space if present\r\n    if ((ix = fullVersion.indexOf(';')) !== -1) {\r\n        fullVersion = fullVersion.substring(0, ix);\r\n    }\r\n\r\n    if ((ix = fullVersion.indexOf(' ')) !== -1) {\r\n        fullVersion = fullVersion.substring(0, ix);\r\n    }\r\n\r\n    majorVersion = parseInt('' + fullVersion, 10);\r\n\r\n    if (isNaN(majorVersion)) {\r\n        fullVersion = '' + parseFloat(navigator.appVersion);\r\n        majorVersion = parseInt(navigator.appVersion, 10);\r\n    }\r\n\r\n    return majorVersion >= 49;\r\n}\n\r\n// ______________________\r\n// MediaStreamRecorder.js\r\n\r\n/**\r\n * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.\r\n * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://github.com/muaz-khan|Muaz Khan}\r\n * @typedef MediaStreamRecorder\r\n * @class\r\n * @example\r\n * var config = {\r\n *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis\r\n *     audioBitsPerSecond : 256 * 8 * 1024,\r\n *     videoBitsPerSecond : 256 * 8 * 1024,\r\n *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two\r\n *     checkForInactiveTracks: true,\r\n *     timeSlice: 1000, // concatenate intervals based blobs\r\n *     ondataavailable: function() {} // get intervals based blobs\r\n * }\r\n * var recorder = new MediaStreamRecorder(mediaStream, config);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n *\r\n *     // or\r\n *     var blob = recorder.blob;\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {disableLogs:true, initCallback: function, mimeType: \"video/webm\", timeSlice: 1000}\r\n * @throws Will throw an error if first argument \"MediaStream\" is missing. Also throws error if \"MediaRecorder API\" are not supported by the browser.\r\n */\r\n\r\nfunction MediaStreamRecorder(mediaStream, config) {\r\n    var self = this;\r\n\r\n    if (typeof mediaStream === 'undefined') {\r\n        throw 'First argument \"MediaStream\" is required.';\r\n    }\r\n\r\n    if (typeof MediaRecorder === 'undefined') {\r\n        throw 'Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.';\r\n    }\r\n\r\n    config = config || {\r\n        // bitsPerSecond: 256 * 8 * 1024,\r\n        mimeType: 'video/webm'\r\n    };\r\n\r\n    if (config.type === 'audio') {\r\n        if (getTracks(mediaStream, 'video').length && getTracks(mediaStream, 'audio').length) {\r\n            var stream;\r\n            if (!!navigator.mozGetUserMedia) {\r\n                stream = new MediaStream();\r\n                stream.addTrack(getTracks(mediaStream, 'audio')[0]);\r\n            } else {\r\n                // webkitMediaStream\r\n                stream = new MediaStream(getTracks(mediaStream, 'audio'));\r\n            }\r\n            mediaStream = stream;\r\n        }\r\n\r\n        if (!config.mimeType || config.mimeType.toString().toLowerCase().indexOf('audio') === -1) {\r\n            config.mimeType = isChrome ? 'audio/webm' : 'audio/ogg';\r\n        }\r\n\r\n        if (config.mimeType && config.mimeType.toString().toLowerCase() !== 'audio/ogg' && !!navigator.mozGetUserMedia) {\r\n            // forcing better codecs on Firefox (via #166)\r\n            config.mimeType = 'audio/ogg';\r\n        }\r\n    }\r\n\r\n    var arrayOfBlobs = [];\r\n\r\n    /**\r\n     * This method returns array of blobs. Use only with \"timeSlice\". Its useful to preview recording anytime, without using the \"stop\" method.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * var arrayOfBlobs = recorder.getArrayOfBlobs();\r\n     * @returns {Array} Returns array of recorded blobs.\r\n     */\r\n    this.getArrayOfBlobs = function() {\r\n        return arrayOfBlobs;\r\n    };\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        // set defaults\r\n        self.blob = null;\r\n        self.clearRecordedData();\r\n        self.timestamps = [];\r\n        allStates = [];\r\n        arrayOfBlobs = [];\r\n\r\n        var recorderHints = config;\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Passing following config over MediaRecorder API.', recorderHints);\r\n        }\r\n\r\n        if (mediaRecorder) {\r\n            // mandatory to make sure Firefox doesn't fails to record streams 3-4 times without reloading the page.\r\n            mediaRecorder = null;\r\n        }\r\n\r\n        if (isChrome && !isMediaRecorderCompatible()) {\r\n            // to support video-only recording on stable\r\n            recorderHints = 'video/vp8';\r\n        }\r\n\r\n        if (typeof MediaRecorder.isTypeSupported === 'function' && recorderHints.mimeType) {\r\n            if (!MediaRecorder.isTypeSupported(recorderHints.mimeType)) {\r\n                if (!config.disableLogs) {\r\n                    console.warn('MediaRecorder API seems unable to record mimeType:', recorderHints.mimeType);\r\n                }\r\n\r\n                recorderHints.mimeType = config.type === 'audio' ? 'audio/webm' : 'video/webm';\r\n            }\r\n        }\r\n\r\n        // using MediaRecorder API here\r\n        try {\r\n            mediaRecorder = new MediaRecorder(mediaStream, recorderHints);\r\n\r\n            // reset\r\n            config.mimeType = recorderHints.mimeType;\r\n        } catch (e) {\r\n            // chrome-based fallback\r\n            mediaRecorder = new MediaRecorder(mediaStream);\r\n        }\r\n\r\n        // old hack?\r\n        if (recorderHints.mimeType && !MediaRecorder.isTypeSupported && 'canRecordMimeType' in mediaRecorder && mediaRecorder.canRecordMimeType(recorderHints.mimeType) === false) {\r\n            if (!config.disableLogs) {\r\n                console.warn('MediaRecorder API seems unable to record mimeType:', recorderHints.mimeType);\r\n            }\r\n        }\r\n\r\n        // Dispatching OnDataAvailable Handler\r\n        mediaRecorder.ondataavailable = function(e) {\r\n            if (e.data) {\r\n                allStates.push('ondataavailable: ' + bytesToSize(e.data.size));\r\n            }\r\n\r\n            if (typeof config.timeSlice === 'number') {\r\n                if (e.data && e.data.size && e.data.size > 100) {\r\n                    arrayOfBlobs.push(e.data);\r\n                    updateTimeStamp();\r\n\r\n                    if (typeof config.ondataavailable === 'function') {\r\n                        // intervals based blobs\r\n                        var blob = config.getNativeBlob ? e.data : new Blob([e.data], {\r\n                            type: getMimeType(recorderHints)\r\n                        });\r\n                        config.ondataavailable(blob);\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (!e.data || !e.data.size || e.data.size < 100 || self.blob) {\r\n                // make sure that stopRecording always getting fired\r\n                // even if there is invalid data\r\n                if (self.recordingCallback) {\r\n                    self.recordingCallback(new Blob([], {\r\n                        type: getMimeType(recorderHints)\r\n                    }));\r\n                    self.recordingCallback = null;\r\n                }\r\n                return;\r\n            }\r\n\r\n            self.blob = config.getNativeBlob ? e.data : new Blob([e.data], {\r\n                type: getMimeType(recorderHints)\r\n            });\r\n\r\n            if (self.recordingCallback) {\r\n                self.recordingCallback(self.blob);\r\n                self.recordingCallback = null;\r\n            }\r\n        };\r\n\r\n        mediaRecorder.onstart = function() {\r\n            allStates.push('started');\r\n        };\r\n\r\n        mediaRecorder.onpause = function() {\r\n            allStates.push('paused');\r\n        };\r\n\r\n        mediaRecorder.onresume = function() {\r\n            allStates.push('resumed');\r\n        };\r\n\r\n        mediaRecorder.onstop = function() {\r\n            allStates.push('stopped');\r\n        };\r\n\r\n        mediaRecorder.onerror = function(error) {\r\n            if (!error) {\r\n                return;\r\n            }\r\n\r\n            if (!error.name) {\r\n                error.name = 'UnknownError';\r\n            }\r\n\r\n            allStates.push('error: ' + error);\r\n\r\n            if (!config.disableLogs) {\r\n                // via: https://w3c.github.io/mediacapture-record/MediaRecorder.html#exception-summary\r\n                if (error.name.toString().toLowerCase().indexOf('invalidstate') !== -1) {\r\n                    console.error('The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.', error);\r\n                } else if (error.name.toString().toLowerCase().indexOf('notsupported') !== -1) {\r\n                    console.error('MIME type (', recorderHints.mimeType, ') is not supported.', error);\r\n                } else if (error.name.toString().toLowerCase().indexOf('security') !== -1) {\r\n                    console.error('MediaRecorder security error', error);\r\n                }\r\n\r\n                // older code below\r\n                else if (error.name === 'OutOfMemory') {\r\n                    console.error('The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\r\n                } else if (error.name === 'IllegalStreamModification') {\r\n                    console.error('A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\r\n                } else if (error.name === 'OtherRecordingError') {\r\n                    console.error('Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\r\n                } else if (error.name === 'GenericError') {\r\n                    console.error('The UA cannot provide the codec or recording option that has been requested.', error);\r\n                } else {\r\n                    console.error('MediaRecorder Error', error);\r\n                }\r\n            }\r\n\r\n            (function(looper) {\r\n                if (!self.manuallyStopped && mediaRecorder && mediaRecorder.state === 'inactive') {\r\n                    delete config.timeslice;\r\n\r\n                    // 10 minutes, enough?\r\n                    mediaRecorder.start(10 * 60 * 1000);\r\n                    return;\r\n                }\r\n\r\n                setTimeout(looper, 1000);\r\n            })();\r\n\r\n            if (mediaRecorder.state !== 'inactive' && mediaRecorder.state !== 'stopped') {\r\n                mediaRecorder.stop();\r\n            }\r\n        };\r\n\r\n        if (typeof config.timeSlice === 'number') {\r\n            updateTimeStamp();\r\n            mediaRecorder.start(config.timeSlice);\r\n        } else {\r\n            // default is 60 minutes; enough?\r\n            // use config => {timeSlice: 1000} otherwise\r\n\r\n            mediaRecorder.start(3.6e+6);\r\n        }\r\n\r\n        if (config.initCallback) {\r\n            config.initCallback(); // old code\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @property {Array} timestamps - Array of time stamps\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * console.log(recorder.timestamps);\r\n     */\r\n    this.timestamps = [];\r\n\r\n    function updateTimeStamp() {\r\n        self.timestamps.push(new Date().getTime());\r\n\r\n        if (typeof config.onTimeStamp === 'function') {\r\n            config.onTimeStamp(self.timestamps[self.timestamps.length - 1], self.timestamps);\r\n        }\r\n    }\r\n\r\n    function getMimeType(secondObject) {\r\n        if (mediaRecorder && mediaRecorder.mimeType) {\r\n            return mediaRecorder.mimeType;\r\n        }\r\n\r\n        return secondObject.mimeType || 'video/webm';\r\n    }\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        self.manuallyStopped = true; // used inside the mediaRecorder.onerror\r\n\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        this.recordingCallback = callback;\r\n\r\n        if (mediaRecorder.state === 'recording') {\r\n            mediaRecorder.stop();\r\n        }\r\n\r\n        if (typeof config.timeSlice === 'number') {\r\n            setTimeout(function() {\r\n                self.blob = new Blob(arrayOfBlobs, {\r\n                    type: getMimeType(config)\r\n                });\r\n\r\n                self.recordingCallback(self.blob);\r\n            }, 100);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        if (mediaRecorder.state === 'recording') {\r\n            mediaRecorder.pause();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        if (mediaRecorder.state === 'paused') {\r\n            mediaRecorder.resume();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (mediaRecorder && mediaRecorder.state === 'recording') {\r\n            self.stop(clearRecordedDataCB);\r\n        }\r\n\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        arrayOfBlobs = [];\r\n        mediaRecorder = null;\r\n        self.timestamps = [];\r\n    }\r\n\r\n    // Reference to \"MediaRecorder\" object\r\n    var mediaRecorder;\r\n\r\n    /**\r\n     * Access to native MediaRecorder API\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @instance\r\n     * @example\r\n     * var internal = recorder.getInternalRecorder();\r\n     * internal.ondataavailable = function() {}; // override\r\n     * internal.stream, internal.onpause, internal.onstop, etc.\r\n     * @returns {Object} Returns internal recording object.\r\n     */\r\n    this.getInternalRecorder = function() {\r\n        return mediaRecorder;\r\n    };\r\n\r\n    function isMediaStreamActive() {\r\n        if ('active' in mediaStream) {\r\n            if (!mediaStream.active) {\r\n                return false;\r\n            }\r\n        } else if ('ended' in mediaStream) { // old hack\r\n            if (mediaStream.ended) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @property {Blob} blob - Recorded data as \"Blob\" object.\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.stop(function() {\r\n     *     var blob = recorder.blob;\r\n     * });\r\n     */\r\n    this.blob = null;\r\n\r\n\r\n    /**\r\n     * Get MediaRecorder readonly state.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * var state = recorder.getState();\r\n     * @returns {String} Returns recording state.\r\n     */\r\n    this.getState = function() {\r\n        if (!mediaRecorder) {\r\n            return 'inactive';\r\n        }\r\n\r\n        return mediaRecorder.state || 'inactive';\r\n    };\r\n\r\n    // list of all recording states\r\n    var allStates = [];\r\n\r\n    /**\r\n     * Get MediaRecorder all recording states.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * var state = recorder.getAllStates();\r\n     * @returns {Array} Returns all recording states\r\n     */\r\n    this.getAllStates = function() {\r\n        return allStates;\r\n    };\r\n\r\n    // if any Track within the MediaStream is muted or not enabled at any time, \r\n    // the browser will only record black frames \r\n    // or silence since that is the content produced by the Track\r\n    // so we need to stopRecording as soon as any single track ends.\r\n    if (typeof config.checkForInactiveTracks === 'undefined') {\r\n        config.checkForInactiveTracks = false; // disable to minimize CPU usage\r\n    }\r\n\r\n    var self = this;\r\n\r\n    // this method checks if media stream is stopped\r\n    // or if any track is ended.\r\n    (function looper() {\r\n        if (!mediaRecorder || config.checkForInactiveTracks === false) {\r\n            return;\r\n        }\r\n\r\n        if (isMediaStreamActive() === false) {\r\n            if (!config.disableLogs) {\r\n                console.log('MediaStream seems stopped.');\r\n            }\r\n            self.stop();\r\n            return;\r\n        }\r\n\r\n        setTimeout(looper, 1000); // check every second\r\n    })();\r\n\r\n    // for debugging\r\n    this.name = 'MediaStreamRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.MediaStreamRecorder = MediaStreamRecorder;\r\n}\n\r\n// source code from: http://typedarray.org/wp-content/projects/WebAudioRecorder/script.js\r\n// https://github.com/mattdiamond/Recorderjs#license-mit\r\n// ______________________\r\n// StereoAudioRecorder.js\r\n\r\n/**\r\n * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring \"stereo\" audio-recording in chrome.\r\n * @summary JavaScript standalone object for stereo audio recording.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef StereoAudioRecorder\r\n * @class\r\n * @example\r\n * var recorder = new StereoAudioRecorder(MediaStream, {\r\n *     sampleRate: 44100,\r\n *     bufferSize: 4096\r\n * });\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}\r\n */\r\n\r\nfunction StereoAudioRecorder(mediaStream, config) {\r\n    if (!getTracks(mediaStream, 'audio').length) {\r\n        throw 'Your stream has no audio tracks.';\r\n    }\r\n\r\n    config = config || {};\r\n\r\n    var self = this;\r\n\r\n    // variables\r\n    var leftchannel = [];\r\n    var rightchannel = [];\r\n    var recording = false;\r\n    var recordingLength = 0;\r\n    var jsAudioNode;\r\n\r\n    var numberOfAudioChannels = 2;\r\n\r\n    /**\r\n     * Set sample rates such as 8K or 16K. Reference: http://stackoverflow.com/a/28977136/552182\r\n     * @property {number} desiredSampRate - Desired Bits per sample * 1000\r\n     * @memberof StereoAudioRecorder\r\n     * @instance\r\n     * @example\r\n     * var recorder = StereoAudioRecorder(mediaStream, {\r\n     *   desiredSampRate: 16 * 1000 // bits-per-sample * 1000\r\n     * });\r\n     */\r\n    var desiredSampRate = config.desiredSampRate;\r\n\r\n    // backward compatibility\r\n    if (config.leftChannel === true) {\r\n        numberOfAudioChannels = 1;\r\n    }\r\n\r\n    if (config.numberOfAudioChannels === 1) {\r\n        numberOfAudioChannels = 1;\r\n    }\r\n\r\n    if (!numberOfAudioChannels || numberOfAudioChannels < 1) {\r\n        numberOfAudioChannels = 2;\r\n    }\r\n\r\n    if (!config.disableLogs) {\r\n        console.log('StereoAudioRecorder is set to record number of channels: ' + numberOfAudioChannels);\r\n    }\r\n\r\n    // if any Track within the MediaStream is muted or not enabled at any time, \r\n    // the browser will only record black frames \r\n    // or silence since that is the content produced by the Track\r\n    // so we need to stopRecording as soon as any single track ends.\r\n    if (typeof config.checkForInactiveTracks === 'undefined') {\r\n        config.checkForInactiveTracks = true;\r\n    }\r\n\r\n    function isMediaStreamActive() {\r\n        if (config.checkForInactiveTracks === false) {\r\n            // always return \"true\"\r\n            return true;\r\n        }\r\n\r\n        if ('active' in mediaStream) {\r\n            if (!mediaStream.active) {\r\n                return false;\r\n            }\r\n        } else if ('ended' in mediaStream) { // old hack\r\n            if (mediaStream.ended) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        if (isMediaStreamActive() === false) {\r\n            throw 'Please make sure MediaStream is active.';\r\n        }\r\n\r\n        resetVariables();\r\n\r\n        isAudioProcessStarted = isPaused = false;\r\n        recording = true;\r\n\r\n        if (typeof config.timeSlice !== 'undefined') {\r\n            looper();\r\n        }\r\n    };\r\n\r\n    function mergeLeftRightBuffers(config, callback) {\r\n        function mergeAudioBuffers(config, cb) {\r\n            var numberOfAudioChannels = config.numberOfAudioChannels;\r\n\r\n            // todo: \"slice(0)\" --- is it causes loop? Should be removed?\r\n            var leftBuffers = config.leftBuffers.slice(0);\r\n            var rightBuffers = config.rightBuffers.slice(0);\r\n            var sampleRate = config.sampleRate;\r\n            var internalInterleavedLength = config.internalInterleavedLength;\r\n            var desiredSampRate = config.desiredSampRate;\r\n\r\n            if (numberOfAudioChannels === 2) {\r\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\r\n                rightBuffers = mergeBuffers(rightBuffers, internalInterleavedLength);\r\n\r\n                if (desiredSampRate) {\r\n                    leftBuffers = interpolateArray(leftBuffers, desiredSampRate, sampleRate);\r\n                    rightBuffers = interpolateArray(rightBuffers, desiredSampRate, sampleRate);\r\n                }\r\n            }\r\n\r\n            if (numberOfAudioChannels === 1) {\r\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\r\n\r\n                if (desiredSampRate) {\r\n                    leftBuffers = interpolateArray(leftBuffers, desiredSampRate, sampleRate);\r\n                }\r\n            }\r\n\r\n            // set sample rate as desired sample rate\r\n            if (desiredSampRate) {\r\n                sampleRate = desiredSampRate;\r\n            }\r\n\r\n            // for changing the sampling rate, reference:\r\n            // http://stackoverflow.com/a/28977136/552182\r\n            function interpolateArray(data, newSampleRate, oldSampleRate) {\r\n                var fitCount = Math.round(data.length * (newSampleRate / oldSampleRate));\r\n                var newData = [];\r\n                var springFactor = Number((data.length - 1) / (fitCount - 1));\r\n                newData[0] = data[0];\r\n                for (var i = 1; i < fitCount - 1; i++) {\r\n                    var tmp = i * springFactor;\r\n                    var before = Number(Math.floor(tmp)).toFixed();\r\n                    var after = Number(Math.ceil(tmp)).toFixed();\r\n                    var atPoint = tmp - before;\r\n                    newData[i] = linearInterpolate(data[before], data[after], atPoint);\r\n                }\r\n                newData[fitCount - 1] = data[data.length - 1];\r\n                return newData;\r\n            }\r\n\r\n            function linearInterpolate(before, after, atPoint) {\r\n                return before + (after - before) * atPoint;\r\n            }\r\n\r\n            function mergeBuffers(channelBuffer, rLength) {\r\n                var result = new Float64Array(rLength);\r\n                var offset = 0;\r\n                var lng = channelBuffer.length;\r\n\r\n                for (var i = 0; i < lng; i++) {\r\n                    var buffer = channelBuffer[i];\r\n                    result.set(buffer, offset);\r\n                    offset += buffer.length;\r\n                }\r\n\r\n                return result;\r\n            }\r\n\r\n            function interleave(leftChannel, rightChannel) {\r\n                var length = leftChannel.length + rightChannel.length;\r\n\r\n                var result = new Float64Array(length);\r\n\r\n                var inputIndex = 0;\r\n\r\n                for (var index = 0; index < length;) {\r\n                    result[index++] = leftChannel[inputIndex];\r\n                    result[index++] = rightChannel[inputIndex];\r\n                    inputIndex++;\r\n                }\r\n                return result;\r\n            }\r\n\r\n            function writeUTFBytes(view, offset, string) {\r\n                var lng = string.length;\r\n                for (var i = 0; i < lng; i++) {\r\n                    view.setUint8(offset + i, string.charCodeAt(i));\r\n                }\r\n            }\r\n\r\n            // interleave both channels together\r\n            var interleaved;\r\n\r\n            if (numberOfAudioChannels === 2) {\r\n                interleaved = interleave(leftBuffers, rightBuffers);\r\n            }\r\n\r\n            if (numberOfAudioChannels === 1) {\r\n                interleaved = leftBuffers;\r\n            }\r\n\r\n            var interleavedLength = interleaved.length;\r\n\r\n            // create wav file\r\n            var resultingBufferLength = 44 + interleavedLength * 2;\r\n\r\n            var buffer = new ArrayBuffer(resultingBufferLength);\r\n\r\n            var view = new DataView(buffer);\r\n\r\n            // RIFF chunk descriptor/identifier \r\n            writeUTFBytes(view, 0, 'RIFF');\r\n\r\n            // RIFF chunk length\r\n            // changed \"44\" to \"36\" via #401\r\n            view.setUint32(4, 36 + interleavedLength * 2, true);\r\n\r\n            // RIFF type \r\n            writeUTFBytes(view, 8, 'WAVE');\r\n\r\n            // format chunk identifier \r\n            // FMT sub-chunk\r\n            writeUTFBytes(view, 12, 'fmt ');\r\n\r\n            // format chunk length \r\n            view.setUint32(16, 16, true);\r\n\r\n            // sample format (raw)\r\n            view.setUint16(20, 1, true);\r\n\r\n            // stereo (2 channels)\r\n            view.setUint16(22, numberOfAudioChannels, true);\r\n\r\n            // sample rate \r\n            view.setUint32(24, sampleRate, true);\r\n\r\n            // byte rate (sample rate * block align)\r\n            view.setUint32(28, sampleRate * 2, true);\r\n\r\n            // block align (channel count * bytes per sample) \r\n            view.setUint16(32, numberOfAudioChannels * 2, true);\r\n\r\n            // bits per sample \r\n            view.setUint16(34, 16, true);\r\n\r\n            // data sub-chunk\r\n            // data chunk identifier \r\n            writeUTFBytes(view, 36, 'data');\r\n\r\n            // data chunk length \r\n            view.setUint32(40, interleavedLength * 2, true);\r\n\r\n            // write the PCM samples\r\n            var lng = interleavedLength;\r\n            var index = 44;\r\n            var volume = 1;\r\n            for (var i = 0; i < lng; i++) {\r\n                view.setInt16(index, interleaved[i] * (0x7FFF * volume), true);\r\n                index += 2;\r\n            }\r\n\r\n            if (cb) {\r\n                return cb({\r\n                    buffer: buffer,\r\n                    view: view\r\n                });\r\n            }\r\n\r\n            postMessage({\r\n                buffer: buffer,\r\n                view: view\r\n            });\r\n        }\r\n\r\n        if (config.noWorker) {\r\n            mergeAudioBuffers(config, function(data) {\r\n                callback(data.buffer, data.view);\r\n            });\r\n            return;\r\n        }\r\n\r\n\r\n        var webWorker = processInWebWorker(mergeAudioBuffers);\r\n\r\n        webWorker.onmessage = function(event) {\r\n            callback(event.data.buffer, event.data.view);\r\n\r\n            // release memory\r\n            URL.revokeObjectURL(webWorker.workerURL);\r\n\r\n            // kill webworker (or Chrome will kill your page after ~25 calls)\r\n            webWorker.terminate();\r\n        };\r\n\r\n        webWorker.postMessage(config);\r\n    }\r\n\r\n    function processInWebWorker(_function) {\r\n        var workerURL = URL.createObjectURL(new Blob([_function.toString(),\r\n            ';this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n        ], {\r\n            type: 'application/javascript'\r\n        }));\r\n\r\n        var worker = new Worker(workerURL);\r\n        worker.workerURL = workerURL;\r\n        return worker;\r\n    }\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        // stop recording\r\n        recording = false;\r\n\r\n        mergeLeftRightBuffers({\r\n            desiredSampRate: desiredSampRate,\r\n            sampleRate: sampleRate,\r\n            numberOfAudioChannels: numberOfAudioChannels,\r\n            internalInterleavedLength: recordingLength,\r\n            leftBuffers: leftchannel,\r\n            rightBuffers: numberOfAudioChannels === 1 ? [] : rightchannel,\r\n            noWorker: config.noWorker\r\n        }, function(buffer, view) {\r\n            /**\r\n             * @property {Blob} blob - The recorded blob object.\r\n             * @memberof StereoAudioRecorder\r\n             * @example\r\n             * recorder.stop(function(){\r\n             *     var blob = recorder.blob;\r\n             * });\r\n             */\r\n            self.blob = new Blob([view], {\r\n                type: 'audio/wav'\r\n            });\r\n\r\n            /**\r\n             * @property {ArrayBuffer} buffer - The recorded buffer object.\r\n             * @memberof StereoAudioRecorder\r\n             * @example\r\n             * recorder.stop(function(){\r\n             *     var buffer = recorder.buffer;\r\n             * });\r\n             */\r\n            self.buffer = new ArrayBuffer(view.buffer.byteLength);\r\n\r\n            /**\r\n             * @property {DataView} view - The recorded data-view object.\r\n             * @memberof StereoAudioRecorder\r\n             * @example\r\n             * recorder.stop(function(){\r\n             *     var view = recorder.view;\r\n             * });\r\n             */\r\n            self.view = view;\r\n\r\n            self.sampleRate = desiredSampRate || sampleRate;\r\n            self.bufferSize = bufferSize;\r\n\r\n            // recorded audio length\r\n            self.length = recordingLength;\r\n\r\n            isAudioProcessStarted = false;\r\n\r\n            if (callback) {\r\n                callback(self.blob);\r\n            }\r\n        });\r\n    };\r\n\r\n    if (typeof RecordRTC.Storage === 'undefined') {\r\n        RecordRTC.Storage = {\r\n            AudioContextConstructor: null,\r\n            AudioContext: window.AudioContext || window.webkitAudioContext\r\n        };\r\n    }\r\n\r\n    if (!RecordRTC.Storage.AudioContextConstructor || RecordRTC.Storage.AudioContextConstructor.state === 'closed') {\r\n        RecordRTC.Storage.AudioContextConstructor = new RecordRTC.Storage.AudioContext();\r\n    }\r\n\r\n    var context = RecordRTC.Storage.AudioContextConstructor;\r\n\r\n    // creates an audio node from the microphone incoming stream\r\n    var audioInput = context.createMediaStreamSource(mediaStream);\r\n\r\n    var legalBufferValues = [0, 256, 512, 1024, 2048, 4096, 8192, 16384];\r\n\r\n    /**\r\n     * From the spec: This value controls how frequently the audioprocess event is\r\n     * dispatched and how many sample-frames need to be processed each call.\r\n     * Lower values for buffer size will result in a lower (better) latency.\r\n     * Higher values will be necessary to avoid audio breakup and glitches\r\n     * The size of the buffer (in sample-frames) which needs to\r\n     * be processed each time onprocessaudio is called.\r\n     * Legal values are (256, 512, 1024, 2048, 4096, 8192, 16384).\r\n     * @property {number} bufferSize - Buffer-size for how frequently the audioprocess event is dispatched.\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder = new StereoAudioRecorder(mediaStream, {\r\n     *     bufferSize: 4096\r\n     * });\r\n     */\r\n\r\n    // \"0\" means, let chrome decide the most accurate buffer-size for current platform.\r\n    var bufferSize = typeof config.bufferSize === 'undefined' ? 4096 : config.bufferSize;\r\n\r\n    if (legalBufferValues.indexOf(bufferSize) === -1) {\r\n        if (!config.disableLogs) {\r\n            console.log('Legal values for buffer-size are ' + JSON.stringify(legalBufferValues, null, '\\t'));\r\n        }\r\n    }\r\n\r\n    if (context.createJavaScriptNode) {\r\n        jsAudioNode = context.createJavaScriptNode(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\r\n    } else if (context.createScriptProcessor) {\r\n        jsAudioNode = context.createScriptProcessor(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\r\n    } else {\r\n        throw 'WebAudio API has no support on this browser.';\r\n    }\r\n\r\n    // connect the stream to the script processor\r\n    audioInput.connect(jsAudioNode);\r\n\r\n    if (!config.bufferSize) {\r\n        bufferSize = jsAudioNode.bufferSize; // device buffer-size\r\n    }\r\n\r\n    /**\r\n     * The sample rate (in sample-frames per second) at which the\r\n     * AudioContext handles audio. It is assumed that all AudioNodes\r\n     * in the context run at this rate. In making this assumption,\r\n     * sample-rate converters or \"varispeed\" processors are not supported\r\n     * in real-time processing.\r\n     * The sampleRate parameter describes the sample-rate of the\r\n     * linear PCM audio data in the buffer in sample-frames per second.\r\n     * An implementation must support sample-rates in at least\r\n     * the range 22050 to 96000.\r\n     * @property {number} sampleRate - Buffer-size for how frequently the audioprocess event is dispatched.\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder = new StereoAudioRecorder(mediaStream, {\r\n     *     sampleRate: 44100\r\n     * });\r\n     */\r\n    var sampleRate = typeof config.sampleRate !== 'undefined' ? config.sampleRate : context.sampleRate || 44100;\r\n\r\n    if (sampleRate < 22050 || sampleRate > 96000) {\r\n        // Ref: http://stackoverflow.com/a/26303918/552182\r\n        if (!config.disableLogs) {\r\n            console.log('sample-rate must be under range 22050 and 96000.');\r\n        }\r\n    }\r\n\r\n    if (!config.disableLogs) {\r\n        if (config.desiredSampRate) {\r\n            console.log('Desired sample-rate: ' + config.desiredSampRate);\r\n        }\r\n    }\r\n\r\n    var isPaused = false;\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPaused = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        if (isMediaStreamActive() === false) {\r\n            throw 'Please make sure MediaStream is active.';\r\n        }\r\n\r\n        if (!recording) {\r\n            if (!config.disableLogs) {\r\n                console.log('Seems recording has been restarted.');\r\n            }\r\n            this.record();\r\n            return;\r\n        }\r\n\r\n        isPaused = false;\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        config.checkForInactiveTracks = false;\r\n\r\n        if (recording) {\r\n            this.stop(clearRecordedDataCB);\r\n        }\r\n\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function resetVariables() {\r\n        leftchannel = [];\r\n        rightchannel = [];\r\n        recordingLength = 0;\r\n        isAudioProcessStarted = false;\r\n        recording = false;\r\n        isPaused = false;\r\n        context = null;\r\n\r\n        self.leftchannel = leftchannel;\r\n        self.rightchannel = rightchannel;\r\n        self.numberOfAudioChannels = numberOfAudioChannels;\r\n        self.desiredSampRate = desiredSampRate;\r\n        self.sampleRate = sampleRate;\r\n        self.recordingLength = recordingLength;\r\n\r\n        intervalsBasedBuffers = {\r\n            left: [],\r\n            right: [],\r\n            recordingLength: 0\r\n        };\r\n    }\r\n\r\n    function clearRecordedDataCB() {\r\n        if (jsAudioNode) {\r\n            jsAudioNode.onaudioprocess = null;\r\n            jsAudioNode.disconnect();\r\n            jsAudioNode = null;\r\n        }\r\n\r\n        if (audioInput) {\r\n            audioInput.disconnect();\r\n            audioInput = null;\r\n        }\r\n\r\n        resetVariables();\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'StereoAudioRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    var isAudioProcessStarted = false;\r\n\r\n    function onAudioProcessDataAvailable(e) {\r\n        if (isPaused) {\r\n            return;\r\n        }\r\n\r\n        if (isMediaStreamActive() === false) {\r\n            if (!config.disableLogs) {\r\n                console.log('MediaStream seems stopped.');\r\n            }\r\n            jsAudioNode.disconnect();\r\n            recording = false;\r\n        }\r\n\r\n        if (!recording) {\r\n            if (audioInput) {\r\n                audioInput.disconnect();\r\n                audioInput = null;\r\n            }\r\n            return;\r\n        }\r\n\r\n        /**\r\n         * This method is called on \"onaudioprocess\" event's first invocation.\r\n         * @method {function} onAudioProcessStarted\r\n         * @memberof StereoAudioRecorder\r\n         * @example\r\n         * recorder.onAudioProcessStarted: function() { };\r\n         */\r\n        if (!isAudioProcessStarted) {\r\n            isAudioProcessStarted = true;\r\n            if (config.onAudioProcessStarted) {\r\n                config.onAudioProcessStarted();\r\n            }\r\n\r\n            if (config.initCallback) {\r\n                config.initCallback();\r\n            }\r\n        }\r\n\r\n        var left = e.inputBuffer.getChannelData(0);\r\n\r\n        // we clone the samples\r\n        var chLeft = new Float32Array(left);\r\n        leftchannel.push(chLeft);\r\n\r\n        if (numberOfAudioChannels === 2) {\r\n            var right = e.inputBuffer.getChannelData(1);\r\n            var chRight = new Float32Array(right);\r\n            rightchannel.push(chRight);\r\n        }\r\n\r\n        recordingLength += bufferSize;\r\n\r\n        // export raw PCM\r\n        self.recordingLength = recordingLength;\r\n\r\n        if (typeof config.timeSlice !== 'undefined') {\r\n            intervalsBasedBuffers.recordingLength += bufferSize;\r\n            intervalsBasedBuffers.left.push(chLeft);\r\n\r\n            if (numberOfAudioChannels === 2) {\r\n                intervalsBasedBuffers.right.push(chRight);\r\n            }\r\n        }\r\n    }\r\n\r\n    jsAudioNode.onaudioprocess = onAudioProcessDataAvailable;\r\n\r\n    // to prevent self audio to be connected with speakers\r\n    if (context.createMediaStreamDestination) {\r\n        jsAudioNode.connect(context.createMediaStreamDestination());\r\n    } else {\r\n        jsAudioNode.connect(context.destination);\r\n    }\r\n\r\n    // export raw PCM\r\n    this.leftchannel = leftchannel;\r\n    this.rightchannel = rightchannel;\r\n    this.numberOfAudioChannels = numberOfAudioChannels;\r\n    this.desiredSampRate = desiredSampRate;\r\n    this.sampleRate = sampleRate;\r\n    self.recordingLength = recordingLength;\r\n\r\n    // helper for intervals based blobs\r\n    var intervalsBasedBuffers = {\r\n        left: [],\r\n        right: [],\r\n        recordingLength: 0\r\n    };\r\n\r\n    // this looper is used to support intervals based blobs (via timeSlice+ondataavailable)\r\n    function looper() {\r\n        if (!recording || typeof config.ondataavailable !== 'function' || typeof config.timeSlice === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        if (intervalsBasedBuffers.left.length) {\r\n            mergeLeftRightBuffers({\r\n                desiredSampRate: desiredSampRate,\r\n                sampleRate: sampleRate,\r\n                numberOfAudioChannels: numberOfAudioChannels,\r\n                internalInterleavedLength: intervalsBasedBuffers.recordingLength,\r\n                leftBuffers: intervalsBasedBuffers.left,\r\n                rightBuffers: numberOfAudioChannels === 1 ? [] : intervalsBasedBuffers.right\r\n            }, function(buffer, view) {\r\n                var blob = new Blob([view], {\r\n                    type: 'audio/wav'\r\n                });\r\n                config.ondataavailable(blob);\r\n\r\n                setTimeout(looper, config.timeSlice);\r\n            });\r\n\r\n            intervalsBasedBuffers = {\r\n                left: [],\r\n                right: [],\r\n                recordingLength: 0\r\n            };\r\n        } else {\r\n            setTimeout(looper, config.timeSlice);\r\n        }\r\n    }\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.StereoAudioRecorder = StereoAudioRecorder;\r\n}\n\r\n// _________________\r\n// CanvasRecorder.js\r\n\r\n/**\r\n * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.\r\n * @summary HTML2Canvas recording into video WebM.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef CanvasRecorder\r\n * @class\r\n * @example\r\n * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.\r\n * @param {object} config - {disableLogs:true, initCallback: function}\r\n */\r\n\r\nfunction CanvasRecorder(htmlElement, config) {\r\n    if (typeof html2canvas === 'undefined') {\r\n        throw 'Please link: https://www.webrtc-experiment.com/screenshot.js';\r\n    }\r\n\r\n    config = config || {};\r\n    if (!config.frameInterval) {\r\n        config.frameInterval = 10;\r\n    }\r\n\r\n    // via DetectRTC.js\r\n    var isCanvasSupportsStreamCapturing = false;\r\n    ['captureStream', 'mozCaptureStream', 'webkitCaptureStream'].forEach(function(item) {\r\n        if (item in document.createElement('canvas')) {\r\n            isCanvasSupportsStreamCapturing = true;\r\n        }\r\n    });\r\n\r\n    var _isChrome = (!!window.webkitRTCPeerConnection || !!window.webkitGetUserMedia) && !!window.chrome;\r\n\r\n    var chromeVersion = 50;\r\n    var matchArray = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\r\n    if (_isChrome && matchArray && matchArray[2]) {\r\n        chromeVersion = parseInt(matchArray[2], 10);\r\n    }\r\n\r\n    if (_isChrome && chromeVersion < 52) {\r\n        isCanvasSupportsStreamCapturing = false;\r\n    }\r\n\r\n    if (config.useWhammyRecorder) {\r\n        isCanvasSupportsStreamCapturing = false;\r\n    }\r\n\r\n    var globalCanvas, mediaStreamRecorder;\r\n\r\n    if (isCanvasSupportsStreamCapturing) {\r\n        if (!config.disableLogs) {\r\n            console.log('Your browser supports both MediRecorder API and canvas.captureStream!');\r\n        }\r\n\r\n        if (htmlElement instanceof HTMLCanvasElement) {\r\n            globalCanvas = htmlElement;\r\n        } else if (htmlElement instanceof CanvasRenderingContext2D) {\r\n            globalCanvas = htmlElement.canvas;\r\n        } else {\r\n            throw 'Please pass either HTMLCanvasElement or CanvasRenderingContext2D.';\r\n        }\r\n    } else if (!!navigator.mozGetUserMedia) {\r\n        if (!config.disableLogs) {\r\n            console.error('Canvas recording is NOT supported in Firefox.');\r\n        }\r\n    }\r\n\r\n    var isRecording;\r\n\r\n    /**\r\n     * This method records Canvas.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        isRecording = true;\r\n\r\n        if (isCanvasSupportsStreamCapturing && !config.useWhammyRecorder) {\r\n            // CanvasCaptureMediaStream\r\n            var canvasMediaStream;\r\n            if ('captureStream' in globalCanvas) {\r\n                canvasMediaStream = globalCanvas.captureStream(25); // 25 FPS\r\n            } else if ('mozCaptureStream' in globalCanvas) {\r\n                canvasMediaStream = globalCanvas.mozCaptureStream(25);\r\n            } else if ('webkitCaptureStream' in globalCanvas) {\r\n                canvasMediaStream = globalCanvas.webkitCaptureStream(25);\r\n            }\r\n\r\n            try {\r\n                var mdStream = new MediaStream();\r\n                mdStream.addTrack(getTracks(canvasMediaStream, 'video')[0]);\r\n                canvasMediaStream = mdStream;\r\n            } catch (e) {}\r\n\r\n            if (!canvasMediaStream) {\r\n                throw 'captureStream API are NOT available.';\r\n            }\r\n\r\n            // Note: Jan 18, 2016 status is that, \r\n            // Firefox MediaRecorder API can't record CanvasCaptureMediaStream object.\r\n            mediaStreamRecorder = new MediaStreamRecorder(canvasMediaStream, {\r\n                mimeType: config.mimeType || 'video/webm'\r\n            });\r\n            mediaStreamRecorder.record();\r\n        } else {\r\n            whammy.frames = [];\r\n            lastTime = new Date().getTime();\r\n            drawCanvasFrame();\r\n        }\r\n\r\n        if (config.initCallback) {\r\n            config.initCallback();\r\n        }\r\n    };\r\n\r\n    this.getWebPImages = function(callback) {\r\n        if (htmlElement.nodeName.toLowerCase() !== 'canvas') {\r\n            callback();\r\n            return;\r\n        }\r\n\r\n        var framesLength = whammy.frames.length;\r\n        whammy.frames.forEach(function(frame, idx) {\r\n            var framesRemaining = framesLength - idx;\r\n            if (!config.disableLogs) {\r\n                console.log(framesRemaining + '/' + framesLength + ' frames remaining');\r\n            }\r\n\r\n            if (config.onEncodingCallback) {\r\n                config.onEncodingCallback(framesRemaining, framesLength);\r\n            }\r\n\r\n            var webp = frame.image.toDataURL('image/webp', 1);\r\n            whammy.frames[idx].image = webp;\r\n        });\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Generating WebM');\r\n        }\r\n\r\n        callback();\r\n    };\r\n\r\n    /**\r\n     * This method stops recording Canvas.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        isRecording = false;\r\n\r\n        var that = this;\r\n\r\n        if (isCanvasSupportsStreamCapturing && mediaStreamRecorder) {\r\n            mediaStreamRecorder.stop(callback);\r\n            return;\r\n        }\r\n\r\n        this.getWebPImages(function() {\r\n            /**\r\n             * @property {Blob} blob - Recorded frames in video/webm blob.\r\n             * @memberof CanvasRecorder\r\n             * @example\r\n             * recorder.stop(function() {\r\n             *     var blob = recorder.blob;\r\n             * });\r\n             */\r\n            whammy.compile(function(blob) {\r\n                if (!config.disableLogs) {\r\n                    console.log('Recording finished!');\r\n                }\r\n\r\n                that.blob = blob;\r\n\r\n                if (that.blob.forEach) {\r\n                    that.blob = new Blob([], {\r\n                        type: 'video/webm'\r\n                    });\r\n                }\r\n\r\n                if (callback) {\r\n                    callback(that.blob);\r\n                }\r\n\r\n                whammy.frames = [];\r\n            });\r\n        });\r\n    };\r\n\r\n    var isPausedRecording = false;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPausedRecording = true;\r\n\r\n        if (mediaStreamRecorder instanceof MediaStreamRecorder) {\r\n            mediaStreamRecorder.pause();\r\n            return;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPausedRecording = false;\r\n\r\n        if (mediaStreamRecorder instanceof MediaStreamRecorder) {\r\n            mediaStreamRecorder.resume();\r\n            return;\r\n        }\r\n\r\n        if (!isRecording) {\r\n            this.record();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (isRecording) {\r\n            this.stop(clearRecordedDataCB);\r\n        }\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        whammy.frames = [];\r\n        isRecording = false;\r\n        isPausedRecording = false;\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'CanvasRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    function cloneCanvas() {\r\n        //create a new canvas\r\n        var newCanvas = document.createElement('canvas');\r\n        var context = newCanvas.getContext('2d');\r\n\r\n        //set dimensions\r\n        newCanvas.width = htmlElement.width;\r\n        newCanvas.height = htmlElement.height;\r\n\r\n        //apply the old canvas to the new one\r\n        context.drawImage(htmlElement, 0, 0);\r\n\r\n        //return the new canvas\r\n        return newCanvas;\r\n    }\r\n\r\n    function drawCanvasFrame() {\r\n        if (isPausedRecording) {\r\n            lastTime = new Date().getTime();\r\n            return setTimeout(drawCanvasFrame, 500);\r\n        }\r\n\r\n        if (htmlElement.nodeName.toLowerCase() === 'canvas') {\r\n            var duration = new Date().getTime() - lastTime;\r\n            // via #206, by Jack i.e. @Seymourr\r\n            lastTime = new Date().getTime();\r\n\r\n            whammy.frames.push({\r\n                image: cloneCanvas(),\r\n                duration: duration\r\n            });\r\n\r\n            if (isRecording) {\r\n                setTimeout(drawCanvasFrame, config.frameInterval);\r\n            }\r\n            return;\r\n        }\r\n\r\n        html2canvas(htmlElement, {\r\n            grabMouse: typeof config.showMousePointer === 'undefined' || config.showMousePointer,\r\n            onrendered: function(canvas) {\r\n                var duration = new Date().getTime() - lastTime;\r\n                if (!duration) {\r\n                    return setTimeout(drawCanvasFrame, config.frameInterval);\r\n                }\r\n\r\n                // via #206, by Jack i.e. @Seymourr\r\n                lastTime = new Date().getTime();\r\n\r\n                whammy.frames.push({\r\n                    image: canvas.toDataURL('image/webp', 1),\r\n                    duration: duration\r\n                });\r\n\r\n                if (isRecording) {\r\n                    setTimeout(drawCanvasFrame, config.frameInterval);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    var lastTime = new Date().getTime();\r\n\r\n    var whammy = new Whammy.Video(100);\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.CanvasRecorder = CanvasRecorder;\r\n}\n\r\n// _________________\r\n// WhammyRecorder.js\r\n\r\n/**\r\n * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.\r\n * @summary Video recording feature in Chrome.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef WhammyRecorder\r\n * @class\r\n * @example\r\n * var recorder = new WhammyRecorder(mediaStream);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}\r\n */\r\n\r\nfunction WhammyRecorder(mediaStream, config) {\r\n\r\n    config = config || {};\r\n\r\n    if (!config.frameInterval) {\r\n        config.frameInterval = 10;\r\n    }\r\n\r\n    if (!config.disableLogs) {\r\n        console.log('Using frames-interval:', config.frameInterval);\r\n    }\r\n\r\n    /**\r\n     * This method records video.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        if (!config.width) {\r\n            config.width = 320;\r\n        }\r\n\r\n        if (!config.height) {\r\n            config.height = 240;\r\n        }\r\n\r\n        if (!config.video) {\r\n            config.video = {\r\n                width: config.width,\r\n                height: config.height\r\n            };\r\n        }\r\n\r\n        if (!config.canvas) {\r\n            config.canvas = {\r\n                width: config.width,\r\n                height: config.height\r\n            };\r\n        }\r\n\r\n        canvas.width = config.canvas.width || 320;\r\n        canvas.height = config.canvas.height || 240;\r\n\r\n        context = canvas.getContext('2d');\r\n\r\n        // setting defaults\r\n        if (config.video && config.video instanceof HTMLVideoElement) {\r\n            video = config.video.cloneNode();\r\n\r\n            if (config.initCallback) {\r\n                config.initCallback();\r\n            }\r\n        } else {\r\n            video = document.createElement('video');\r\n\r\n            setSrcObject(mediaStream, video);\r\n\r\n            video.onloadedmetadata = function() { // \"onloadedmetadata\" may NOT work in FF?\r\n                if (config.initCallback) {\r\n                    config.initCallback();\r\n                }\r\n            };\r\n\r\n            video.width = config.video.width;\r\n            video.height = config.video.height;\r\n        }\r\n\r\n        video.muted = true;\r\n        video.play();\r\n\r\n        lastTime = new Date().getTime();\r\n        whammy = new Whammy.Video();\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('canvas resolutions', canvas.width, '*', canvas.height);\r\n            console.log('video width/height', video.width || canvas.width, '*', video.height || canvas.height);\r\n        }\r\n\r\n        drawFrames(config.frameInterval);\r\n    };\r\n\r\n    /**\r\n     * Draw and push frames to Whammy\r\n     * @param {integer} frameInterval - set minimum interval (in milliseconds) between each time we push a frame to Whammy\r\n     */\r\n    function drawFrames(frameInterval) {\r\n        frameInterval = typeof frameInterval !== 'undefined' ? frameInterval : 10;\r\n\r\n        var duration = new Date().getTime() - lastTime;\r\n        if (!duration) {\r\n            return setTimeout(drawFrames, frameInterval, frameInterval);\r\n        }\r\n\r\n        if (isPausedRecording) {\r\n            lastTime = new Date().getTime();\r\n            return setTimeout(drawFrames, 100);\r\n        }\r\n\r\n        // via #206, by Jack i.e. @Seymourr\r\n        lastTime = new Date().getTime();\r\n\r\n        if (video.paused) {\r\n            // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\r\n            // Tweak for Android Chrome\r\n            video.play();\r\n        }\r\n\r\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n        whammy.frames.push({\r\n            duration: duration,\r\n            image: canvas.toDataURL('image/webp')\r\n        });\r\n\r\n        if (!isStopDrawing) {\r\n            setTimeout(drawFrames, frameInterval, frameInterval);\r\n        }\r\n    }\r\n\r\n    function asyncLoop(o) {\r\n        var i = -1,\r\n            length = o.length;\r\n\r\n        (function loop() {\r\n            i++;\r\n            if (i === length) {\r\n                o.callback();\r\n                return;\r\n            }\r\n\r\n            // \"setTimeout\" added by Jim McLeod\r\n            setTimeout(function() {\r\n                o.functionToLoop(loop, i);\r\n            }, 1);\r\n        })();\r\n    }\r\n\r\n\r\n    /**\r\n     * remove black frames from the beginning to the specified frame\r\n     * @param {Array} _frames - array of frames to be checked\r\n     * @param {number} _framesToCheck - number of frame until check will be executed (-1 - will drop all frames until frame not matched will be found)\r\n     * @param {number} _pixTolerance - 0 - very strict (only black pixel color) ; 1 - all\r\n     * @param {number} _frameTolerance - 0 - very strict (only black frame color) ; 1 - all\r\n     * @returns {Array} - array of frames\r\n     */\r\n    // pull#293 by @volodalexey\r\n    function dropBlackFrames(_frames, _framesToCheck, _pixTolerance, _frameTolerance, callback) {\r\n        var localCanvas = document.createElement('canvas');\r\n        localCanvas.width = canvas.width;\r\n        localCanvas.height = canvas.height;\r\n        var context2d = localCanvas.getContext('2d');\r\n        var resultFrames = [];\r\n\r\n        var checkUntilNotBlack = _framesToCheck === -1;\r\n        var endCheckFrame = (_framesToCheck && _framesToCheck > 0 && _framesToCheck <= _frames.length) ?\r\n            _framesToCheck : _frames.length;\r\n        var sampleColor = {\r\n            r: 0,\r\n            g: 0,\r\n            b: 0\r\n        };\r\n        var maxColorDifference = Math.sqrt(\r\n            Math.pow(255, 2) +\r\n            Math.pow(255, 2) +\r\n            Math.pow(255, 2)\r\n        );\r\n        var pixTolerance = _pixTolerance && _pixTolerance >= 0 && _pixTolerance <= 1 ? _pixTolerance : 0;\r\n        var frameTolerance = _frameTolerance && _frameTolerance >= 0 && _frameTolerance <= 1 ? _frameTolerance : 0;\r\n        var doNotCheckNext = false;\r\n\r\n        asyncLoop({\r\n            length: endCheckFrame,\r\n            functionToLoop: function(loop, f) {\r\n                var matchPixCount, endPixCheck, maxPixCount;\r\n\r\n                var finishImage = function() {\r\n                    if (!doNotCheckNext && maxPixCount - matchPixCount <= maxPixCount * frameTolerance) {\r\n                        // console.log('removed black frame : ' + f + ' ; frame duration ' + _frames[f].duration);\r\n                    } else {\r\n                        // console.log('frame is passed : ' + f);\r\n                        if (checkUntilNotBlack) {\r\n                            doNotCheckNext = true;\r\n                        }\r\n                        resultFrames.push(_frames[f]);\r\n                    }\r\n                    loop();\r\n                };\r\n\r\n                if (!doNotCheckNext) {\r\n                    var image = new Image();\r\n                    image.onload = function() {\r\n                        context2d.drawImage(image, 0, 0, canvas.width, canvas.height);\r\n                        var imageData = context2d.getImageData(0, 0, canvas.width, canvas.height);\r\n                        matchPixCount = 0;\r\n                        endPixCheck = imageData.data.length;\r\n                        maxPixCount = imageData.data.length / 4;\r\n\r\n                        for (var pix = 0; pix < endPixCheck; pix += 4) {\r\n                            var currentColor = {\r\n                                r: imageData.data[pix],\r\n                                g: imageData.data[pix + 1],\r\n                                b: imageData.data[pix + 2]\r\n                            };\r\n                            var colorDifference = Math.sqrt(\r\n                                Math.pow(currentColor.r - sampleColor.r, 2) +\r\n                                Math.pow(currentColor.g - sampleColor.g, 2) +\r\n                                Math.pow(currentColor.b - sampleColor.b, 2)\r\n                            );\r\n                            // difference in color it is difference in color vectors (r1,g1,b1) <=> (r2,g2,b2)\r\n                            if (colorDifference <= maxColorDifference * pixTolerance) {\r\n                                matchPixCount++;\r\n                            }\r\n                        }\r\n                        finishImage();\r\n                    };\r\n                    image.src = _frames[f].image;\r\n                } else {\r\n                    finishImage();\r\n                }\r\n            },\r\n            callback: function() {\r\n                resultFrames = resultFrames.concat(_frames.slice(endCheckFrame));\r\n\r\n                if (resultFrames.length <= 0) {\r\n                    // at least one last frame should be available for next manipulation\r\n                    // if total duration of all frames will be < 1000 than ffmpeg doesn't work well...\r\n                    resultFrames.push(_frames[_frames.length - 1]);\r\n                }\r\n                callback(resultFrames);\r\n            }\r\n        });\r\n    }\r\n\r\n    var isStopDrawing = false;\r\n\r\n    /**\r\n     * This method stops recording video.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        isStopDrawing = true;\r\n\r\n        var _this = this;\r\n        // analyse of all frames takes some time!\r\n        setTimeout(function() {\r\n            // e.g. dropBlackFrames(frames, 10, 1, 1) - will cut all 10 frames\r\n            // e.g. dropBlackFrames(frames, 10, 0.5, 0.5) - will analyse 10 frames\r\n            // e.g. dropBlackFrames(frames, 10) === dropBlackFrames(frames, 10, 0, 0) - will analyse 10 frames with strict black color\r\n            dropBlackFrames(whammy.frames, -1, null, null, function(frames) {\r\n                whammy.frames = frames;\r\n\r\n                // to display advertisement images!\r\n                if (config.advertisement && config.advertisement.length) {\r\n                    whammy.frames = config.advertisement.concat(whammy.frames);\r\n                }\r\n\r\n                /**\r\n                 * @property {Blob} blob - Recorded frames in video/webm blob.\r\n                 * @memberof WhammyRecorder\r\n                 * @example\r\n                 * recorder.stop(function() {\r\n                 *     var blob = recorder.blob;\r\n                 * });\r\n                 */\r\n                whammy.compile(function(blob) {\r\n                    _this.blob = blob;\r\n\r\n                    if (_this.blob.forEach) {\r\n                        _this.blob = new Blob([], {\r\n                            type: 'video/webm'\r\n                        });\r\n                    }\r\n\r\n                    if (callback) {\r\n                        callback(_this.blob);\r\n                    }\r\n                });\r\n            });\r\n        }, 10);\r\n    };\r\n\r\n    var isPausedRecording = false;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPausedRecording = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPausedRecording = false;\r\n\r\n        if (isStopDrawing) {\r\n            this.record();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (!isStopDrawing) {\r\n            this.stop(clearRecordedDataCB);\r\n        }\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        whammy.frames = [];\r\n        isStopDrawing = true;\r\n        isPausedRecording = false;\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'WhammyRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    var canvas = document.createElement('canvas');\r\n    var context = canvas.getContext('2d');\r\n\r\n    var video;\r\n    var lastTime;\r\n    var whammy;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.WhammyRecorder = WhammyRecorder;\r\n}\n\r\n// https://github.com/antimatter15/whammy/blob/master/LICENSE\r\n// _________\r\n// Whammy.js\r\n\r\n// todo: Firefox now supports webp for webm containers!\r\n// their MediaRecorder implementation works well!\r\n// should we provide an option to record via Whammy.js or MediaRecorder API is a better solution?\r\n\r\n/**\r\n * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}\r\n * @summary A real time javascript webm encoder based on a canvas hack.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef Whammy\r\n * @class\r\n * @example\r\n * var recorder = new Whammy().Video(15);\r\n * recorder.add(context || canvas || dataURL);\r\n * var output = recorder.compile();\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\n\r\nvar Whammy = (function() {\r\n    // a more abstract-ish API\r\n\r\n    function WhammyVideo(duration) {\r\n        this.frames = [];\r\n        this.duration = duration || 1;\r\n        this.quality = 0.8;\r\n    }\r\n\r\n    /**\r\n     * Pass Canvas or Context or image/webp(string) to {@link Whammy} encoder.\r\n     * @method\r\n     * @memberof Whammy\r\n     * @example\r\n     * recorder = new Whammy().Video(0.8, 100);\r\n     * recorder.add(canvas || context || 'image/webp');\r\n     * @param {string} frame - Canvas || Context || image/webp\r\n     * @param {number} duration - Stick a duration (in milliseconds)\r\n     */\r\n    WhammyVideo.prototype.add = function(frame, duration) {\r\n        if ('canvas' in frame) { //CanvasRenderingContext2D\r\n            frame = frame.canvas;\r\n        }\r\n\r\n        if ('toDataURL' in frame) {\r\n            frame = frame.toDataURL('image/webp', this.quality);\r\n        }\r\n\r\n        if (!(/^data:image\\/webp;base64,/ig).test(frame)) {\r\n            throw 'Input must be formatted properly as a base64 encoded DataURI of type image/webp';\r\n        }\r\n        this.frames.push({\r\n            image: frame,\r\n            duration: duration || this.duration\r\n        });\r\n    };\r\n\r\n    function processInWebWorker(_function) {\r\n        var blob = URL.createObjectURL(new Blob([_function.toString(),\r\n            'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n        ], {\r\n            type: 'application/javascript'\r\n        }));\r\n\r\n        var worker = new Worker(blob);\r\n        URL.revokeObjectURL(blob);\r\n        return worker;\r\n    }\r\n\r\n    function whammyInWebWorker(frames) {\r\n        function ArrayToWebM(frames) {\r\n            var info = checkFrames(frames);\r\n            if (!info) {\r\n                return [];\r\n            }\r\n\r\n            var clusterMaxDuration = 30000;\r\n\r\n            var EBML = [{\r\n                'id': 0x1a45dfa3, // EBML\r\n                'data': [{\r\n                    'data': 1,\r\n                    'id': 0x4286 // EBMLVersion\r\n                }, {\r\n                    'data': 1,\r\n                    'id': 0x42f7 // EBMLReadVersion\r\n                }, {\r\n                    'data': 4,\r\n                    'id': 0x42f2 // EBMLMaxIDLength\r\n                }, {\r\n                    'data': 8,\r\n                    'id': 0x42f3 // EBMLMaxSizeLength\r\n                }, {\r\n                    'data': 'webm',\r\n                    'id': 0x4282 // DocType\r\n                }, {\r\n                    'data': 2,\r\n                    'id': 0x4287 // DocTypeVersion\r\n                }, {\r\n                    'data': 2,\r\n                    'id': 0x4285 // DocTypeReadVersion\r\n                }]\r\n            }, {\r\n                'id': 0x18538067, // Segment\r\n                'data': [{\r\n                    'id': 0x1549a966, // Info\r\n                    'data': [{\r\n                        'data': 1e6, //do things in millisecs (num of nanosecs for duration scale)\r\n                        'id': 0x2ad7b1 // TimecodeScale\r\n                    }, {\r\n                        'data': 'whammy',\r\n                        'id': 0x4d80 // MuxingApp\r\n                    }, {\r\n                        'data': 'whammy',\r\n                        'id': 0x5741 // WritingApp\r\n                    }, {\r\n                        'data': doubleToString(info.duration),\r\n                        'id': 0x4489 // Duration\r\n                    }]\r\n                }, {\r\n                    'id': 0x1654ae6b, // Tracks\r\n                    'data': [{\r\n                        'id': 0xae, // TrackEntry\r\n                        'data': [{\r\n                            'data': 1,\r\n                            'id': 0xd7 // TrackNumber\r\n                        }, {\r\n                            'data': 1,\r\n                            'id': 0x73c5 // TrackUID\r\n                        }, {\r\n                            'data': 0,\r\n                            'id': 0x9c // FlagLacing\r\n                        }, {\r\n                            'data': 'und',\r\n                            'id': 0x22b59c // Language\r\n                        }, {\r\n                            'data': 'V_VP8',\r\n                            'id': 0x86 // CodecID\r\n                        }, {\r\n                            'data': 'VP8',\r\n                            'id': 0x258688 // CodecName\r\n                        }, {\r\n                            'data': 1,\r\n                            'id': 0x83 // TrackType\r\n                        }, {\r\n                            'id': 0xe0, // Video\r\n                            'data': [{\r\n                                'data': info.width,\r\n                                'id': 0xb0 // PixelWidth\r\n                            }, {\r\n                                'data': info.height,\r\n                                'id': 0xba // PixelHeight\r\n                            }]\r\n                        }]\r\n                    }]\r\n                }]\r\n            }];\r\n\r\n            //Generate clusters (max duration)\r\n            var frameNumber = 0;\r\n            var clusterTimecode = 0;\r\n            while (frameNumber < frames.length) {\r\n\r\n                var clusterFrames = [];\r\n                var clusterDuration = 0;\r\n                do {\r\n                    clusterFrames.push(frames[frameNumber]);\r\n                    clusterDuration += frames[frameNumber].duration;\r\n                    frameNumber++;\r\n                } while (frameNumber < frames.length && clusterDuration < clusterMaxDuration);\r\n\r\n                var clusterCounter = 0;\r\n                var cluster = {\r\n                    'id': 0x1f43b675, // Cluster\r\n                    'data': getClusterData(clusterTimecode, clusterCounter, clusterFrames)\r\n                }; //Add cluster to segment\r\n                EBML[1].data.push(cluster);\r\n                clusterTimecode += clusterDuration;\r\n            }\r\n\r\n            return generateEBML(EBML);\r\n        }\r\n\r\n        function getClusterData(clusterTimecode, clusterCounter, clusterFrames) {\r\n            return [{\r\n                'data': clusterTimecode,\r\n                'id': 0xe7 // Timecode\r\n            }].concat(clusterFrames.map(function(webp) {\r\n                var block = makeSimpleBlock({\r\n                    discardable: 0,\r\n                    frame: webp.data.slice(4),\r\n                    invisible: 0,\r\n                    keyframe: 1,\r\n                    lacing: 0,\r\n                    trackNum: 1,\r\n                    timecode: Math.round(clusterCounter)\r\n                });\r\n                clusterCounter += webp.duration;\r\n                return {\r\n                    data: block,\r\n                    id: 0xa3\r\n                };\r\n            }));\r\n        }\r\n\r\n        // sums the lengths of all the frames and gets the duration\r\n\r\n        function checkFrames(frames) {\r\n            if (!frames[0]) {\r\n                postMessage({\r\n                    error: 'Something went wrong. Maybe WebP format is not supported in the current browser.'\r\n                });\r\n                return;\r\n            }\r\n\r\n            var width = frames[0].width,\r\n                height = frames[0].height,\r\n                duration = frames[0].duration;\r\n\r\n            for (var i = 1; i < frames.length; i++) {\r\n                duration += frames[i].duration;\r\n            }\r\n            return {\r\n                duration: duration,\r\n                width: width,\r\n                height: height\r\n            };\r\n        }\r\n\r\n        function numToBuffer(num) {\r\n            var parts = [];\r\n            while (num > 0) {\r\n                parts.push(num & 0xff);\r\n                num = num >> 8;\r\n            }\r\n            return new Uint8Array(parts.reverse());\r\n        }\r\n\r\n        function strToBuffer(str) {\r\n            return new Uint8Array(str.split('').map(function(e) {\r\n                return e.charCodeAt(0);\r\n            }));\r\n        }\r\n\r\n        function bitsToBuffer(bits) {\r\n            var data = [];\r\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\r\n            bits = pad + bits;\r\n            for (var i = 0; i < bits.length; i += 8) {\r\n                data.push(parseInt(bits.substr(i, 8), 2));\r\n            }\r\n            return new Uint8Array(data);\r\n        }\r\n\r\n        function generateEBML(json) {\r\n            var ebml = [];\r\n            for (var i = 0; i < json.length; i++) {\r\n                var data = json[i].data;\r\n\r\n                if (typeof data === 'object') {\r\n                    data = generateEBML(data);\r\n                }\r\n\r\n                if (typeof data === 'number') {\r\n                    data = bitsToBuffer(data.toString(2));\r\n                }\r\n\r\n                if (typeof data === 'string') {\r\n                    data = strToBuffer(data);\r\n                }\r\n\r\n                var len = data.size || data.byteLength || data.length;\r\n                var zeroes = Math.ceil(Math.ceil(Math.log(len) / Math.log(2)) / 8);\r\n                var sizeToString = len.toString(2);\r\n                var padded = (new Array((zeroes * 7 + 7 + 1) - sizeToString.length)).join('0') + sizeToString;\r\n                var size = (new Array(zeroes)).join('0') + '1' + padded;\r\n\r\n                ebml.push(numToBuffer(json[i].id));\r\n                ebml.push(bitsToBuffer(size));\r\n                ebml.push(data);\r\n            }\r\n\r\n            return new Blob(ebml, {\r\n                type: 'video/webm'\r\n            });\r\n        }\r\n\r\n        function toBinStrOld(bits) {\r\n            var data = '';\r\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\r\n            bits = pad + bits;\r\n            for (var i = 0; i < bits.length; i += 8) {\r\n                data += String.fromCharCode(parseInt(bits.substr(i, 8), 2));\r\n            }\r\n            return data;\r\n        }\r\n\r\n        function makeSimpleBlock(data) {\r\n            var flags = 0;\r\n\r\n            if (data.keyframe) {\r\n                flags |= 128;\r\n            }\r\n\r\n            if (data.invisible) {\r\n                flags |= 8;\r\n            }\r\n\r\n            if (data.lacing) {\r\n                flags |= (data.lacing << 1);\r\n            }\r\n\r\n            if (data.discardable) {\r\n                flags |= 1;\r\n            }\r\n\r\n            if (data.trackNum > 127) {\r\n                throw 'TrackNumber > 127 not supported';\r\n            }\r\n\r\n            var out = [data.trackNum | 0x80, data.timecode >> 8, data.timecode & 0xff, flags].map(function(e) {\r\n                return String.fromCharCode(e);\r\n            }).join('') + data.frame;\r\n\r\n            return out;\r\n        }\r\n\r\n        function parseWebP(riff) {\r\n            var VP8 = riff.RIFF[0].WEBP[0];\r\n\r\n            var frameStart = VP8.indexOf('\\x9d\\x01\\x2a'); // A VP8 keyframe starts with the 0x9d012a header\r\n            for (var i = 0, c = []; i < 4; i++) {\r\n                c[i] = VP8.charCodeAt(frameStart + 3 + i);\r\n            }\r\n\r\n            var width, height, tmp;\r\n\r\n            //the code below is literally copied verbatim from the bitstream spec\r\n            tmp = (c[1] << 8) | c[0];\r\n            width = tmp & 0x3FFF;\r\n            tmp = (c[3] << 8) | c[2];\r\n            height = tmp & 0x3FFF;\r\n            return {\r\n                width: width,\r\n                height: height,\r\n                data: VP8,\r\n                riff: riff\r\n            };\r\n        }\r\n\r\n        function getStrLength(string, offset) {\r\n            return parseInt(string.substr(offset + 4, 4).split('').map(function(i) {\r\n                var unpadded = i.charCodeAt(0).toString(2);\r\n                return (new Array(8 - unpadded.length + 1)).join('0') + unpadded;\r\n            }).join(''), 2);\r\n        }\r\n\r\n        function parseRIFF(string) {\r\n            var offset = 0;\r\n            var chunks = {};\r\n\r\n            while (offset < string.length) {\r\n                var id = string.substr(offset, 4);\r\n                var len = getStrLength(string, offset);\r\n                var data = string.substr(offset + 4 + 4, len);\r\n                offset += 4 + 4 + len;\r\n                chunks[id] = chunks[id] || [];\r\n\r\n                if (id === 'RIFF' || id === 'LIST') {\r\n                    chunks[id].push(parseRIFF(data));\r\n                } else {\r\n                    chunks[id].push(data);\r\n                }\r\n            }\r\n            return chunks;\r\n        }\r\n\r\n        function doubleToString(num) {\r\n            return [].slice.call(\r\n                new Uint8Array((new Float64Array([num])).buffer), 0).map(function(e) {\r\n                return String.fromCharCode(e);\r\n            }).reverse().join('');\r\n        }\r\n\r\n        var webm = new ArrayToWebM(frames.map(function(frame) {\r\n            var webp = parseWebP(parseRIFF(atob(frame.image.slice(23))));\r\n            webp.duration = frame.duration;\r\n            return webp;\r\n        }));\r\n\r\n        postMessage(webm);\r\n    }\r\n\r\n    /**\r\n     * Encodes frames in WebM container. It uses WebWorkinvoke to invoke 'ArrayToWebM' method.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof Whammy\r\n     * @example\r\n     * recorder = new Whammy().Video(0.8, 100);\r\n     * recorder.compile(function(blob) {\r\n     *    // blob.size - blob.type\r\n     * });\r\n     */\r\n    WhammyVideo.prototype.compile = function(callback) {\r\n        var webWorker = processInWebWorker(whammyInWebWorker);\r\n\r\n        webWorker.onmessage = function(event) {\r\n            if (event.data.error) {\r\n                console.error(event.data.error);\r\n                return;\r\n            }\r\n            callback(event.data);\r\n        };\r\n\r\n        webWorker.postMessage(this.frames);\r\n    };\r\n\r\n    return {\r\n        /**\r\n         * A more abstract-ish API.\r\n         * @method\r\n         * @memberof Whammy\r\n         * @example\r\n         * recorder = new Whammy().Video(0.8, 100);\r\n         * @param {?number} speed - 0.8\r\n         * @param {?number} quality - 100\r\n         */\r\n        Video: WhammyVideo\r\n    };\r\n})();\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.Whammy = Whammy;\r\n}\n\r\n// ______________ (indexed-db)\r\n// DiskStorage.js\r\n\r\n/**\r\n * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.\r\n * @summary Writing blobs into IndexedDB.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @example\r\n * DiskStorage.Store({\r\n *     audioBlob: yourAudioBlob,\r\n *     videoBlob: yourVideoBlob,\r\n *     gifBlob  : yourGifBlob\r\n * });\r\n * DiskStorage.Fetch(function(dataURL, type) {\r\n *     if(type === 'audioBlob') { }\r\n *     if(type === 'videoBlob') { }\r\n *     if(type === 'gifBlob')   { }\r\n * });\r\n * // DiskStorage.dataStoreName = 'recordRTC';\r\n * // DiskStorage.onError = function(error) { };\r\n * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\r\n * @property {function} Fetch - This method fetches stored blobs from IndexedDB.\r\n * @property {function} Store - This method stores blobs in IndexedDB.\r\n * @property {function} onError - This function is invoked for any known/unknown error.\r\n * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\n\r\n\r\nvar DiskStorage = {\r\n    /**\r\n     * This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.init();\r\n     */\r\n    init: function() {\r\n        var self = this;\r\n\r\n        if (typeof indexedDB === 'undefined' || typeof indexedDB.open === 'undefined') {\r\n            console.error('IndexedDB API are not available in this browser.');\r\n            return;\r\n        }\r\n\r\n        var dbVersion = 1;\r\n        var dbName = this.dbName || location.href.replace(/\\/|:|#|%|\\.|\\[|\\]/g, ''),\r\n            db;\r\n        var request = indexedDB.open(dbName, dbVersion);\r\n\r\n        function createObjectStore(dataBase) {\r\n            dataBase.createObjectStore(self.dataStoreName);\r\n        }\r\n\r\n        function putInDB() {\r\n            var transaction = db.transaction([self.dataStoreName], 'readwrite');\r\n\r\n            if (self.videoBlob) {\r\n                transaction.objectStore(self.dataStoreName).put(self.videoBlob, 'videoBlob');\r\n            }\r\n\r\n            if (self.gifBlob) {\r\n                transaction.objectStore(self.dataStoreName).put(self.gifBlob, 'gifBlob');\r\n            }\r\n\r\n            if (self.audioBlob) {\r\n                transaction.objectStore(self.dataStoreName).put(self.audioBlob, 'audioBlob');\r\n            }\r\n\r\n            function getFromStore(portionName) {\r\n                transaction.objectStore(self.dataStoreName).get(portionName).onsuccess = function(event) {\r\n                    if (self.callback) {\r\n                        self.callback(event.target.result, portionName);\r\n                    }\r\n                };\r\n            }\r\n\r\n            getFromStore('audioBlob');\r\n            getFromStore('videoBlob');\r\n            getFromStore('gifBlob');\r\n        }\r\n\r\n        request.onerror = self.onError;\r\n\r\n        request.onsuccess = function() {\r\n            db = request.result;\r\n            db.onerror = self.onError;\r\n\r\n            if (db.setVersion) {\r\n                if (db.version !== dbVersion) {\r\n                    var setVersion = db.setVersion(dbVersion);\r\n                    setVersion.onsuccess = function() {\r\n                        createObjectStore(db);\r\n                        putInDB();\r\n                    };\r\n                } else {\r\n                    putInDB();\r\n                }\r\n            } else {\r\n                putInDB();\r\n            }\r\n        };\r\n        request.onupgradeneeded = function(event) {\r\n            createObjectStore(event.target.result);\r\n        };\r\n    },\r\n    /**\r\n     * This method fetches stored blobs from IndexedDB.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.Fetch(function(dataURL, type) {\r\n     *     if(type === 'audioBlob') { }\r\n     *     if(type === 'videoBlob') { }\r\n     *     if(type === 'gifBlob')   { }\r\n     * });\r\n     */\r\n    Fetch: function(callback) {\r\n        this.callback = callback;\r\n        this.init();\r\n\r\n        return this;\r\n    },\r\n    /**\r\n     * This method stores blobs in IndexedDB.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.Store({\r\n     *     audioBlob: yourAudioBlob,\r\n     *     videoBlob: yourVideoBlob,\r\n     *     gifBlob  : yourGifBlob\r\n     * });\r\n     */\r\n    Store: function(config) {\r\n        this.audioBlob = config.audioBlob;\r\n        this.videoBlob = config.videoBlob;\r\n        this.gifBlob = config.gifBlob;\r\n\r\n        this.init();\r\n\r\n        return this;\r\n    },\r\n    /**\r\n     * This function is invoked for any known/unknown error.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.onError = function(error){\r\n     *     alerot( JSON.stringify(error) );\r\n     * };\r\n     */\r\n    onError: function(error) {\r\n        console.error(JSON.stringify(error, null, '\\t'));\r\n    },\r\n\r\n    /**\r\n     * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.dataStoreName = 'recordRTC';\r\n     */\r\n    dataStoreName: 'recordRTC',\r\n    dbName: null\r\n};\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.DiskStorage = DiskStorage;\r\n}\n\r\n// ______________\r\n// GifRecorder.js\r\n\r\n/**\r\n * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef GifRecorder\r\n * @class\r\n * @example\r\n * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     img.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.\r\n * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}\r\n */\r\n\r\nfunction GifRecorder(mediaStream, config) {\r\n    if (typeof GIFEncoder === 'undefined') {\r\n        var script = document.createElement('script');\r\n        script.src = 'https://www.webrtc-experiment.com/gif-recorder.js';\r\n        (document.body || document.documentElement).appendChild(script);\r\n    }\r\n\r\n    config = config || {};\r\n\r\n    var isHTMLObject = mediaStream instanceof CanvasRenderingContext2D || mediaStream instanceof HTMLCanvasElement;\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        if (typeof GIFEncoder === 'undefined') {\r\n            setTimeout(self.record, 1000);\r\n            return;\r\n        }\r\n\r\n        if (!isLoadedMetaData) {\r\n            setTimeout(self.record, 1000);\r\n            return;\r\n        }\r\n\r\n        if (!isHTMLObject) {\r\n            if (!config.width) {\r\n                config.width = video.offsetWidth || 320;\r\n            }\r\n\r\n            if (!config.height) {\r\n                config.height = video.offsetHeight || 240;\r\n            }\r\n\r\n            if (!config.video) {\r\n                config.video = {\r\n                    width: config.width,\r\n                    height: config.height\r\n                };\r\n            }\r\n\r\n            if (!config.canvas) {\r\n                config.canvas = {\r\n                    width: config.width,\r\n                    height: config.height\r\n                };\r\n            }\r\n\r\n            canvas.width = config.canvas.width || 320;\r\n            canvas.height = config.canvas.height || 240;\r\n\r\n            video.width = config.video.width || 320;\r\n            video.height = config.video.height || 240;\r\n        }\r\n\r\n        // external library to record as GIF images\r\n        gifEncoder = new GIFEncoder();\r\n\r\n        // void setRepeat(int iter) \r\n        // Sets the number of times the set of GIF frames should be played. \r\n        // Default is 1; 0 means play indefinitely.\r\n        gifEncoder.setRepeat(0);\r\n\r\n        // void setFrameRate(Number fps) \r\n        // Sets frame rate in frames per second. \r\n        // Equivalent to setDelay(1000/fps).\r\n        // Using \"setDelay\" instead of \"setFrameRate\"\r\n        gifEncoder.setDelay(config.frameRate || 200);\r\n\r\n        // void setQuality(int quality) \r\n        // Sets quality of color quantization (conversion of images to the \r\n        // maximum 256 colors allowed by the GIF specification). \r\n        // Lower values (minimum = 1) produce better colors, \r\n        // but slow processing significantly. 10 is the default, \r\n        // and produces good color mapping at reasonable speeds. \r\n        // Values greater than 20 do not yield significant improvements in speed.\r\n        gifEncoder.setQuality(config.quality || 10);\r\n\r\n        // Boolean start() \r\n        // This writes the GIF Header and returns false if it fails.\r\n        gifEncoder.start();\r\n\r\n        if (typeof config.onGifRecordingStarted === 'function') {\r\n            config.onGifRecordingStarted();\r\n        }\r\n\r\n        startTime = Date.now();\r\n\r\n        function drawVideoFrame(time) {\r\n            if (self.clearedRecordedData === true) {\r\n                return;\r\n            }\r\n\r\n            if (isPausedRecording) {\r\n                return setTimeout(function() {\r\n                    drawVideoFrame(time);\r\n                }, 100);\r\n            }\r\n\r\n            lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\r\n\r\n            if (typeof lastFrameTime === undefined) {\r\n                lastFrameTime = time;\r\n            }\r\n\r\n            // ~10 fps\r\n            if (time - lastFrameTime < 90) {\r\n                return;\r\n            }\r\n\r\n            if (!isHTMLObject && video.paused) {\r\n                // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\r\n                // Tweak for Android Chrome\r\n                video.play();\r\n            }\r\n\r\n            if (!isHTMLObject) {\r\n                context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n            }\r\n\r\n            if (config.onGifPreview) {\r\n                config.onGifPreview(canvas.toDataURL('image/png'));\r\n            }\r\n\r\n            gifEncoder.addFrame(context);\r\n            lastFrameTime = time;\r\n        }\r\n\r\n        lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\r\n\r\n        if (config.initCallback) {\r\n            config.initCallback();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     img.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        if (lastAnimationFrame) {\r\n            cancelAnimationFrame(lastAnimationFrame);\r\n        }\r\n\r\n        endTime = Date.now();\r\n\r\n        /**\r\n         * @property {Blob} blob - The recorded blob object.\r\n         * @memberof GifRecorder\r\n         * @example\r\n         * recorder.stop(function(){\r\n         *     var blob = recorder.blob;\r\n         * });\r\n         */\r\n        this.blob = new Blob([new Uint8Array(gifEncoder.stream().bin)], {\r\n            type: 'image/gif'\r\n        });\r\n\r\n        callback(this.blob);\r\n\r\n        // bug: find a way to clear old recorded blobs\r\n        gifEncoder.stream().bin = [];\r\n    };\r\n\r\n    var isPausedRecording = false;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPausedRecording = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPausedRecording = false;\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        self.clearedRecordedData = true;\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        if (gifEncoder) {\r\n            gifEncoder.stream().bin = [];\r\n        }\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'GifRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    var canvas = document.createElement('canvas');\r\n    var context = canvas.getContext('2d');\r\n\r\n    if (isHTMLObject) {\r\n        if (mediaStream instanceof CanvasRenderingContext2D) {\r\n            context = mediaStream;\r\n            canvas = context.canvas;\r\n        } else if (mediaStream instanceof HTMLCanvasElement) {\r\n            context = mediaStream.getContext('2d');\r\n            canvas = mediaStream;\r\n        }\r\n    }\r\n\r\n    var isLoadedMetaData = true;\r\n\r\n    if (!isHTMLObject) {\r\n        var video = document.createElement('video');\r\n        video.muted = true;\r\n        video.autoplay = true;\r\n        video.playsInline = true;\r\n\r\n        isLoadedMetaData = false;\r\n        video.onloadedmetadata = function() {\r\n            isLoadedMetaData = true;\r\n        };\r\n\r\n        setSrcObject(mediaStream, video);\r\n\r\n        video.play();\r\n    }\r\n\r\n    var lastAnimationFrame = null;\r\n    var startTime, endTime, lastFrameTime;\r\n\r\n    var gifEncoder;\r\n\r\n    var self = this;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.GifRecorder = GifRecorder;\r\n}\n\r\n// Last time updated: 2019-06-21 4:09:42 AM UTC\r\n\r\n// ________________________\r\n// MultiStreamsMixer v1.2.2\r\n\r\n// Open-Sourced: https://github.com/muaz-khan/MultiStreamsMixer\r\n\r\n// --------------------------------------------------\r\n// Muaz Khan     - www.MuazKhan.com\r\n// MIT License   - www.WebRTC-Experiment.com/licence\r\n// --------------------------------------------------\r\n\r\nfunction MultiStreamsMixer(arrayOfMediaStreams, elementClass) {\r\n\r\n    var browserFakeUserAgent = 'Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45';\r\n\r\n    (function(that) {\r\n        if (typeof RecordRTC !== 'undefined') {\r\n            return;\r\n        }\r\n\r\n        if (!that) {\r\n            return;\r\n        }\r\n\r\n        if (typeof window !== 'undefined') {\r\n            return;\r\n        }\r\n\r\n        if (typeof global === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        global.navigator = {\r\n            userAgent: browserFakeUserAgent,\r\n            getUserMedia: function() {}\r\n        };\r\n\r\n        if (!global.console) {\r\n            global.console = {};\r\n        }\r\n\r\n        if (typeof global.console.log === 'undefined' || typeof global.console.error === 'undefined') {\r\n            global.console.error = global.console.log = global.console.log || function() {\r\n                console.log(arguments);\r\n            };\r\n        }\r\n\r\n        if (typeof document === 'undefined') {\r\n            /*global document:true */\r\n            that.document = {\r\n                documentElement: {\r\n                    appendChild: function() {\r\n                        return '';\r\n                    }\r\n                }\r\n            };\r\n\r\n            document.createElement = document.captureStream = document.mozCaptureStream = function() {\r\n                var obj = {\r\n                    getContext: function() {\r\n                        return obj;\r\n                    },\r\n                    play: function() {},\r\n                    pause: function() {},\r\n                    drawImage: function() {},\r\n                    toDataURL: function() {\r\n                        return '';\r\n                    },\r\n                    style: {}\r\n                };\r\n                return obj;\r\n            };\r\n\r\n            that.HTMLVideoElement = function() {};\r\n        }\r\n\r\n        if (typeof location === 'undefined') {\r\n            /*global location:true */\r\n            that.location = {\r\n                protocol: 'file:',\r\n                href: '',\r\n                hash: ''\r\n            };\r\n        }\r\n\r\n        if (typeof screen === 'undefined') {\r\n            /*global screen:true */\r\n            that.screen = {\r\n                width: 0,\r\n                height: 0\r\n            };\r\n        }\r\n\r\n        if (typeof URL === 'undefined') {\r\n            /*global screen:true */\r\n            that.URL = {\r\n                createObjectURL: function() {\r\n                    return '';\r\n                },\r\n                revokeObjectURL: function() {\r\n                    return '';\r\n                }\r\n            };\r\n        }\r\n\r\n        /*global window:true */\r\n        that.window = global;\r\n    })(typeof global !== 'undefined' ? global : null);\r\n\r\n    // requires: chrome://flags/#enable-experimental-web-platform-features\r\n\r\n    elementClass = elementClass || 'multi-streams-mixer';\r\n\r\n    var videos = [];\r\n    var isStopDrawingFrames = false;\r\n\r\n    var canvas = document.createElement('canvas');\r\n    var context = canvas.getContext('2d');\r\n    canvas.style.opacity = 0;\r\n    canvas.style.position = 'absolute';\r\n    canvas.style.zIndex = -1;\r\n    canvas.style.top = '-1000em';\r\n    canvas.style.left = '-1000em';\r\n    canvas.className = elementClass;\r\n    (document.body || document.documentElement).appendChild(canvas);\r\n\r\n    this.disableLogs = false;\r\n    this.frameInterval = 10;\r\n\r\n    this.width = 360;\r\n    this.height = 240;\r\n\r\n    // use gain node to prevent echo\r\n    this.useGainNode = true;\r\n\r\n    var self = this;\r\n\r\n    // _____________________________\r\n    // Cross-Browser-Declarations.js\r\n\r\n    // WebAudio API representer\r\n    var AudioContext = window.AudioContext;\r\n\r\n    if (typeof AudioContext === 'undefined') {\r\n        if (typeof webkitAudioContext !== 'undefined') {\r\n            /*global AudioContext:true */\r\n            AudioContext = webkitAudioContext;\r\n        }\r\n\r\n        if (typeof mozAudioContext !== 'undefined') {\r\n            /*global AudioContext:true */\r\n            AudioContext = mozAudioContext;\r\n        }\r\n    }\r\n\r\n    /*jshint -W079 */\r\n    var URL = window.URL;\r\n\r\n    if (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\r\n        /*global URL:true */\r\n        URL = webkitURL;\r\n    }\r\n\r\n    if (typeof navigator !== 'undefined' && typeof navigator.getUserMedia === 'undefined') { // maybe window.navigator?\r\n        if (typeof navigator.webkitGetUserMedia !== 'undefined') {\r\n            navigator.getUserMedia = navigator.webkitGetUserMedia;\r\n        }\r\n\r\n        if (typeof navigator.mozGetUserMedia !== 'undefined') {\r\n            navigator.getUserMedia = navigator.mozGetUserMedia;\r\n        }\r\n    }\r\n\r\n    var MediaStream = window.MediaStream;\r\n\r\n    if (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\r\n        MediaStream = webkitMediaStream;\r\n    }\r\n\r\n    /*global MediaStream:true */\r\n    if (typeof MediaStream !== 'undefined') {\r\n        // override \"stop\" method for all browsers\r\n        if (typeof MediaStream.prototype.stop === 'undefined') {\r\n            MediaStream.prototype.stop = function() {\r\n                this.getTracks().forEach(function(track) {\r\n                    track.stop();\r\n                });\r\n            };\r\n        }\r\n    }\r\n\r\n    var Storage = {};\r\n\r\n    if (typeof AudioContext !== 'undefined') {\r\n        Storage.AudioContext = AudioContext;\r\n    } else if (typeof webkitAudioContext !== 'undefined') {\r\n        Storage.AudioContext = webkitAudioContext;\r\n    }\r\n\r\n    function setSrcObject(stream, element) {\r\n        if ('srcObject' in element) {\r\n            element.srcObject = stream;\r\n        } else if ('mozSrcObject' in element) {\r\n            element.mozSrcObject = stream;\r\n        } else {\r\n            element.srcObject = stream;\r\n        }\r\n    }\r\n\r\n    this.startDrawingFrames = function() {\r\n        drawVideosToCanvas();\r\n    };\r\n\r\n    function drawVideosToCanvas() {\r\n        if (isStopDrawingFrames) {\r\n            return;\r\n        }\r\n\r\n        var videosLength = videos.length;\r\n\r\n        var fullcanvas = false;\r\n        var remaining = [];\r\n        videos.forEach(function(video) {\r\n            if (!video.stream) {\r\n                video.stream = {};\r\n            }\r\n\r\n            if (video.stream.fullcanvas) {\r\n                fullcanvas = video;\r\n            } else {\r\n                // todo: video.stream.active or video.stream.live to fix blank frames issues?\r\n                remaining.push(video);\r\n            }\r\n        });\r\n\r\n        if (fullcanvas) {\r\n            canvas.width = fullcanvas.stream.width;\r\n            canvas.height = fullcanvas.stream.height;\r\n        } else if (remaining.length) {\r\n            canvas.width = videosLength > 1 ? remaining[0].width * 2 : remaining[0].width;\r\n\r\n            var height = 1;\r\n            if (videosLength === 3 || videosLength === 4) {\r\n                height = 2;\r\n            }\r\n            if (videosLength === 5 || videosLength === 6) {\r\n                height = 3;\r\n            }\r\n            if (videosLength === 7 || videosLength === 8) {\r\n                height = 4;\r\n            }\r\n            if (videosLength === 9 || videosLength === 10) {\r\n                height = 5;\r\n            }\r\n            canvas.height = remaining[0].height * height;\r\n        } else {\r\n            canvas.width = self.width || 360;\r\n            canvas.height = self.height || 240;\r\n        }\r\n\r\n        if (fullcanvas && fullcanvas instanceof HTMLVideoElement) {\r\n            drawImage(fullcanvas);\r\n        }\r\n\r\n        remaining.forEach(function(video, idx) {\r\n            drawImage(video, idx);\r\n        });\r\n\r\n        setTimeout(drawVideosToCanvas, self.frameInterval);\r\n    }\r\n\r\n    function drawImage(video, idx) {\r\n        if (isStopDrawingFrames) {\r\n            return;\r\n        }\r\n\r\n        var x = 0;\r\n        var y = 0;\r\n        var width = video.width;\r\n        var height = video.height;\r\n\r\n        if (idx === 1) {\r\n            x = video.width;\r\n        }\r\n\r\n        if (idx === 2) {\r\n            y = video.height;\r\n        }\r\n\r\n        if (idx === 3) {\r\n            x = video.width;\r\n            y = video.height;\r\n        }\r\n\r\n        if (idx === 4) {\r\n            y = video.height * 2;\r\n        }\r\n\r\n        if (idx === 5) {\r\n            x = video.width;\r\n            y = video.height * 2;\r\n        }\r\n\r\n        if (idx === 6) {\r\n            y = video.height * 3;\r\n        }\r\n\r\n        if (idx === 7) {\r\n            x = video.width;\r\n            y = video.height * 3;\r\n        }\r\n\r\n        if (typeof video.stream.left !== 'undefined') {\r\n            x = video.stream.left;\r\n        }\r\n\r\n        if (typeof video.stream.top !== 'undefined') {\r\n            y = video.stream.top;\r\n        }\r\n\r\n        if (typeof video.stream.width !== 'undefined') {\r\n            width = video.stream.width;\r\n        }\r\n\r\n        if (typeof video.stream.height !== 'undefined') {\r\n            height = video.stream.height;\r\n        }\r\n\r\n        context.drawImage(video, x, y, width, height);\r\n\r\n        if (typeof video.stream.onRender === 'function') {\r\n            video.stream.onRender(context, x, y, width, height, idx);\r\n        }\r\n    }\r\n\r\n    function getMixedStream() {\r\n        isStopDrawingFrames = false;\r\n        var mixedVideoStream = getMixedVideoStream();\r\n\r\n        var mixedAudioStream = getMixedAudioStream();\r\n        if (mixedAudioStream) {\r\n            mixedAudioStream.getTracks().filter(function(t) {\r\n                return t.kind === 'audio';\r\n            }).forEach(function(track) {\r\n                mixedVideoStream.addTrack(track);\r\n            });\r\n        }\r\n\r\n        var fullcanvas;\r\n        arrayOfMediaStreams.forEach(function(stream) {\r\n            if (stream.fullcanvas) {\r\n                fullcanvas = true;\r\n            }\r\n        });\r\n\r\n        // mixedVideoStream.prototype.appendStreams = appendStreams;\r\n        // mixedVideoStream.prototype.resetVideoStreams = resetVideoStreams;\r\n        // mixedVideoStream.prototype.clearRecordedData = clearRecordedData;\r\n\r\n        return mixedVideoStream;\r\n    }\r\n\r\n    function getMixedVideoStream() {\r\n        resetVideoStreams();\r\n\r\n        var capturedStream;\r\n\r\n        if ('captureStream' in canvas) {\r\n            capturedStream = canvas.captureStream();\r\n        } else if ('mozCaptureStream' in canvas) {\r\n            capturedStream = canvas.mozCaptureStream();\r\n        } else if (!self.disableLogs) {\r\n            console.error('Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features');\r\n        }\r\n\r\n        var videoStream = new MediaStream();\r\n\r\n        capturedStream.getTracks().filter(function(t) {\r\n            return t.kind === 'video';\r\n        }).forEach(function(track) {\r\n            videoStream.addTrack(track);\r\n        });\r\n\r\n        canvas.stream = videoStream;\r\n\r\n        return videoStream;\r\n    }\r\n\r\n    function getMixedAudioStream() {\r\n        // via: @pehrsons\r\n        if (!Storage.AudioContextConstructor) {\r\n            Storage.AudioContextConstructor = new Storage.AudioContext();\r\n        }\r\n\r\n        self.audioContext = Storage.AudioContextConstructor;\r\n\r\n        self.audioSources = [];\r\n\r\n        if (self.useGainNode === true) {\r\n            self.gainNode = self.audioContext.createGain();\r\n            self.gainNode.connect(self.audioContext.destination);\r\n            self.gainNode.gain.value = 0; // don't hear self\r\n        }\r\n\r\n        var audioTracksLength = 0;\r\n        arrayOfMediaStreams.forEach(function(stream) {\r\n            if (!stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'audio';\r\n                }).length) {\r\n                return;\r\n            }\r\n\r\n            audioTracksLength++;\r\n\r\n            var audioSource = self.audioContext.createMediaStreamSource(stream);\r\n\r\n            if (self.useGainNode === true) {\r\n                audioSource.connect(self.gainNode);\r\n            }\r\n\r\n            self.audioSources.push(audioSource);\r\n        });\r\n\r\n        if (!audioTracksLength) {\r\n            // because \"self.audioContext\" is not initialized\r\n            // that's why we've to ignore rest of the code\r\n            return;\r\n        }\r\n\r\n        self.audioDestination = self.audioContext.createMediaStreamDestination();\r\n        self.audioSources.forEach(function(audioSource) {\r\n            audioSource.connect(self.audioDestination);\r\n        });\r\n        return self.audioDestination.stream;\r\n    }\r\n\r\n    function getVideo(stream) {\r\n        var video = document.createElement('video');\r\n\r\n        setSrcObject(stream, video);\r\n\r\n        video.className = elementClass;\r\n\r\n        video.muted = true;\r\n        video.volume = 0;\r\n\r\n        video.width = stream.width || self.width || 360;\r\n        video.height = stream.height || self.height || 240;\r\n\r\n        video.play();\r\n\r\n        return video;\r\n    }\r\n\r\n    this.appendStreams = function(streams) {\r\n        if (!streams) {\r\n            throw 'First parameter is required.';\r\n        }\r\n\r\n        if (!(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        streams.forEach(function(stream) {\r\n            var newStream = new MediaStream();\r\n\r\n            if (stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'video';\r\n                }).length) {\r\n                var video = getVideo(stream);\r\n                video.stream = stream;\r\n                videos.push(video);\r\n\r\n                newStream.addTrack(stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'video';\r\n                })[0]);\r\n            }\r\n\r\n            if (stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'audio';\r\n                }).length) {\r\n                var audioSource = self.audioContext.createMediaStreamSource(stream);\r\n                self.audioDestination = self.audioContext.createMediaStreamDestination();\r\n                audioSource.connect(self.audioDestination);\r\n\r\n                newStream.addTrack(self.audioDestination.stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'audio';\r\n                })[0]);\r\n            }\r\n\r\n            arrayOfMediaStreams.push(newStream);\r\n        });\r\n    };\r\n\r\n    this.releaseStreams = function() {\r\n        videos = [];\r\n        isStopDrawingFrames = true;\r\n\r\n        if (self.gainNode) {\r\n            self.gainNode.disconnect();\r\n            self.gainNode = null;\r\n        }\r\n\r\n        if (self.audioSources.length) {\r\n            self.audioSources.forEach(function(source) {\r\n                source.disconnect();\r\n            });\r\n            self.audioSources = [];\r\n        }\r\n\r\n        if (self.audioDestination) {\r\n            self.audioDestination.disconnect();\r\n            self.audioDestination = null;\r\n        }\r\n\r\n        if (self.audioContext) {\r\n            self.audioContext.close();\r\n        }\r\n\r\n        self.audioContext = null;\r\n\r\n        context.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        if (canvas.stream) {\r\n            canvas.stream.stop();\r\n            canvas.stream = null;\r\n        }\r\n    };\r\n\r\n    this.resetVideoStreams = function(streams) {\r\n        if (streams && !(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        resetVideoStreams(streams);\r\n    };\r\n\r\n    function resetVideoStreams(streams) {\r\n        videos = [];\r\n        streams = streams || arrayOfMediaStreams;\r\n\r\n        // via: @adrian-ber\r\n        streams.forEach(function(stream) {\r\n            if (!stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'video';\r\n                }).length) {\r\n                return;\r\n            }\r\n\r\n            var video = getVideo(stream);\r\n            video.stream = stream;\r\n            videos.push(video);\r\n        });\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'MultiStreamsMixer';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    this.getMixedStream = getMixedStream;\r\n\r\n}\r\n\r\nif (typeof RecordRTC === 'undefined') {\r\n    if (typeof module !== 'undefined' /* && !!module.exports*/ ) {\r\n        module.exports = MultiStreamsMixer;\r\n    }\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('MultiStreamsMixer', [], function() {\r\n            return MultiStreamsMixer;\r\n        });\r\n    }\r\n}\n\r\n// ______________________\r\n// MultiStreamRecorder.js\r\n\r\n/*\r\n * Video conference recording, using captureStream API along with WebAudio and Canvas2D API.\r\n */\r\n\r\n/**\r\n * MultiStreamRecorder can record multiple videos in single container.\r\n * @summary Multi-videos recorder.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef MultiStreamRecorder\r\n * @class\r\n * @example\r\n * var options = {\r\n *     mimeType: 'video/webm'\r\n * }\r\n * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n *\r\n *     // or\r\n *     var blob = recorder.blob;\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStreams} mediaStreams - Array of MediaStreams.\r\n * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: \"video/webm\"}\r\n */\r\n\r\nfunction MultiStreamRecorder(arrayOfMediaStreams, options) {\r\n    arrayOfMediaStreams = arrayOfMediaStreams || [];\r\n    var self = this;\r\n\r\n    var mixer;\r\n    var mediaRecorder;\r\n\r\n    options = options || {\r\n        elementClass: 'multi-streams-mixer',\r\n        mimeType: 'video/webm',\r\n        video: {\r\n            width: 360,\r\n            height: 240\r\n        }\r\n    };\r\n\r\n    if (!options.frameInterval) {\r\n        options.frameInterval = 10;\r\n    }\r\n\r\n    if (!options.video) {\r\n        options.video = {};\r\n    }\r\n\r\n    if (!options.video.width) {\r\n        options.video.width = 360;\r\n    }\r\n\r\n    if (!options.video.height) {\r\n        options.video.height = 240;\r\n    }\r\n\r\n    /**\r\n     * This method records all MediaStreams.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        // github/muaz-khan/MultiStreamsMixer\r\n        mixer = new MultiStreamsMixer(arrayOfMediaStreams, options.elementClass || 'multi-streams-mixer');\r\n\r\n        if (getAllVideoTracks().length) {\r\n            mixer.frameInterval = options.frameInterval || 10;\r\n            mixer.width = options.video.width || 360;\r\n            mixer.height = options.video.height || 240;\r\n            mixer.startDrawingFrames();\r\n        }\r\n\r\n        if (options.previewStream && typeof options.previewStream === 'function') {\r\n            options.previewStream(mixer.getMixedStream());\r\n        }\r\n\r\n        // record using MediaRecorder API\r\n        mediaRecorder = new MediaStreamRecorder(mixer.getMixedStream(), options);\r\n        mediaRecorder.record();\r\n    };\r\n\r\n    function getAllVideoTracks() {\r\n        var tracks = [];\r\n        arrayOfMediaStreams.forEach(function(stream) {\r\n            getTracks(stream, 'video').forEach(function(track) {\r\n                tracks.push(track);\r\n            });\r\n        });\r\n        return tracks;\r\n    }\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        mediaRecorder.stop(function(blob) {\r\n            self.blob = blob;\r\n\r\n            callback(blob);\r\n\r\n            self.clearRecordedData();\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        if (mediaRecorder) {\r\n            mediaRecorder.pause();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        if (mediaRecorder) {\r\n            mediaRecorder.resume();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (mediaRecorder) {\r\n            mediaRecorder.clearRecordedData();\r\n            mediaRecorder = null;\r\n        }\r\n\r\n        if (mixer) {\r\n            mixer.releaseStreams();\r\n            mixer = null;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Add extra media-streams to existing recordings.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @param {MediaStreams} mediaStreams - Array of MediaStreams\r\n     * @example\r\n     * recorder.addStreams([newAudioStream, newVideoStream]);\r\n     */\r\n    this.addStreams = function(streams) {\r\n        if (!streams) {\r\n            throw 'First parameter is required.';\r\n        }\r\n\r\n        if (!(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        arrayOfMediaStreams.concat(streams);\r\n\r\n        if (!mediaRecorder || !mixer) {\r\n            return;\r\n        }\r\n\r\n        mixer.appendStreams(streams);\r\n\r\n        if (options.previewStream && typeof options.previewStream === 'function') {\r\n            options.previewStream(mixer.getMixedStream());\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Reset videos during live recording. Replace old videos e.g. replace cameras with full-screen.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @param {MediaStreams} mediaStreams - Array of MediaStreams\r\n     * @example\r\n     * recorder.resetVideoStreams([newVideo1, newVideo2]);\r\n     */\r\n    this.resetVideoStreams = function(streams) {\r\n        if (!mixer) {\r\n            return;\r\n        }\r\n\r\n        if (streams && !(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        mixer.resetVideoStreams(streams);\r\n    };\r\n\r\n    /**\r\n     * Returns MultiStreamsMixer\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * let mixer = recorder.getMixer();\r\n     * mixer.appendStreams([newStream]);\r\n     */\r\n    this.getMixer = function() {\r\n        return mixer;\r\n    };\r\n\r\n    // for debugging\r\n    this.name = 'MultiStreamRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.MultiStreamRecorder = MultiStreamRecorder;\r\n}\n\r\n// _____________________\r\n// RecordRTC.promises.js\r\n\r\n/**\r\n * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}\r\n * @summary Promises for {@link RecordRTC}\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef RecordRTCPromisesHandler\r\n * @class\r\n * @example\r\n * var recorder = new RecordRTCPromisesHandler(mediaStream, options);\r\n * recorder.startRecording()\r\n *         .then(successCB)\r\n *         .catch(errorCB);\r\n * // Note: You can access all RecordRTC API using \"recorder.recordRTC\" e.g. \r\n * recorder.recordRTC.onStateChanged = function(state) {};\r\n * recorder.recordRTC.setRecordingDuration(5000);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.\r\n * @param {object} config - {type:\"video\", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\r\n * @throws Will throw an error if \"new\" keyword is not used to initiate \"RecordRTCPromisesHandler\". Also throws error if first argument \"MediaStream\" is missing.\r\n * @requires {@link RecordRTC}\r\n */\r\n\r\nfunction RecordRTCPromisesHandler(mediaStream, options) {\r\n    if (!this) {\r\n        throw 'Use \"new RecordRTCPromisesHandler()\"';\r\n    }\r\n\r\n    if (typeof mediaStream === 'undefined') {\r\n        throw 'First argument \"MediaStream\" is required.';\r\n    }\r\n\r\n    var self = this;\r\n\r\n    /**\r\n     * @property {Blob} blob - Access/reach the native {@link RecordRTC} object.\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * let internal = recorder.recordRTC.getInternalRecorder();\r\n     * alert(internal instanceof MediaStreamRecorder);\r\n     * recorder.recordRTC.onStateChanged = function(state) {};\r\n     */\r\n    self.recordRTC = new RecordRTC(mediaStream, options);\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.startRecording()\r\n     *         .then(successCB)\r\n     *         .catch(errorCB);\r\n     */\r\n    this.startRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.startRecording();\r\n                resolve();\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method stops the recording.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.stopRecording().then(function() {\r\n     *     var blob = recorder.getBlob();\r\n     * }).catch(errorCB);\r\n     */\r\n    this.stopRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.stopRecording(function(url) {\r\n                    self.blob = self.recordRTC.getBlob();\r\n\r\n                    if (!self.blob || !self.blob.size) {\r\n                        reject('Empty blob.', self.blob);\r\n                        return;\r\n                    }\r\n\r\n                    resolve(url);\r\n                });\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method pauses the recording. You can resume recording using \"resumeRecording\" method.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.pauseRecording()\r\n     *         .then(successCB)\r\n     *         .catch(errorCB);\r\n     */\r\n    this.pauseRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.pauseRecording();\r\n                resolve();\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.resumeRecording()\r\n     *         .then(successCB)\r\n     *         .catch(errorCB);\r\n     */\r\n    this.resumeRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.resumeRecording();\r\n                resolve();\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method returns data-url for the recorded blob.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.stopRecording().then(function() {\r\n     *     recorder.getDataURL().then(function(dataURL) {\r\n     *         window.open(dataURL);\r\n     *     }).catch(errorCB);;\r\n     * }).catch(errorCB);\r\n     */\r\n    this.getDataURL = function(callback) {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.getDataURL(function(dataURL) {\r\n                    resolve(dataURL);\r\n                });\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method returns the recorded blob.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.stopRecording().then(function() {\r\n     *     recorder.getBlob().then(function(blob) {})\r\n     * }).catch(errorCB);\r\n     */\r\n    this.getBlob = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.getBlob());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method returns the internal recording object.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * let internalRecorder = await recorder.getInternalRecorder();\r\n     * if(internalRecorder instanceof MultiStreamRecorder) {\r\n     *     internalRecorder.addStreams([newAudioStream]);\r\n     *     internalRecorder.resetVideoStreams([screenStream]);\r\n     * }\r\n     * @returns {Object} \r\n     */\r\n    this.getInternalRecorder = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.getInternalRecorder());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method resets the recorder. So that you can reuse single recorder instance many times.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * await recorder.reset();\r\n     * recorder.startRecording(); // record again\r\n     */\r\n    this.reset = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.reset());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Destroy RecordRTC instance. Clear all recorders and objects.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.destroy().then(successCB).catch(errorCB);\r\n     */\r\n    this.destroy = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.destroy());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Get recorder's readonly state.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * let state = await recorder.getState();\r\n     * // or\r\n     * recorder.getState().then(state => { console.log(state); })\r\n     * @returns {String} Returns recording state.\r\n     */\r\n    this.getState = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.getState());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @property {Blob} blob - Recorded data as \"Blob\" object.\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * await recorder.stopRecording();\r\n     * let blob = recorder.getBlob(); // or \"recorder.recordRTC.blob\"\r\n     * invokeSaveAsDialog(blob);\r\n     */\r\n    this.blob = null;\r\n\r\n    /**\r\n     * RecordRTC version number\r\n     * @property {String} version - Release version number.\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @static\r\n     * @readonly\r\n     * @example\r\n     * alert(recorder.version);\r\n     */\r\n    this.version = '5.6.1';\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.RecordRTCPromisesHandler = RecordRTCPromisesHandler;\r\n}\n\r\n// ______________________\r\n// WebAssemblyRecorder.js\r\n\r\n/**\r\n * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.\r\n * @summary Video recording feature in Chrome, Firefox and maybe Edge.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef WebAssemblyRecorder\r\n * @class\r\n * @example\r\n * var recorder = new WebAssemblyRecorder(mediaStream);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}\r\n */\r\nfunction WebAssemblyRecorder(stream, config) {\r\n    // based on: github.com/GoogleChromeLabs/webm-wasm\r\n\r\n    if (typeof ReadableStream === 'undefined' || typeof WritableStream === 'undefined') {\r\n        // because it fixes readable/writable streams issues\r\n        console.error('Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js');\r\n    }\r\n\r\n    config = config || {};\r\n\r\n    config.width = config.width || 640;\r\n    config.height = config.height || 480;\r\n    config.frameRate = config.frameRate || 30;\r\n    config.bitrate = config.bitrate || 1200;\r\n    config.realtime = config.realtime || true;\r\n\r\n    function createBufferURL(buffer, type) {\r\n        return URL.createObjectURL(new Blob([buffer], {\r\n            type: type || ''\r\n        }));\r\n    }\r\n\r\n    var finished;\r\n\r\n    function cameraStream() {\r\n        return new ReadableStream({\r\n            start: function(controller) {\r\n                var cvs = document.createElement('canvas');\r\n                var video = document.createElement('video');\r\n                var first = true;\r\n                video.srcObject = stream;\r\n                video.muted = true;\r\n                video.height = config.height;\r\n                video.width = config.width;\r\n                video.volume = 0;\r\n                video.onplaying = function() {\r\n                    cvs.width = config.width;\r\n                    cvs.height = config.height;\r\n                    var ctx = cvs.getContext('2d');\r\n                    var frameTimeout = 1000 / config.frameRate;\r\n                    var cameraTimer = setInterval(function f() {\r\n                        if (finished) {\r\n                            clearInterval(cameraTimer);\r\n                            controller.close();\r\n                        }\r\n\r\n                        if (first) {\r\n                            first = false;\r\n                            if (config.onVideoProcessStarted) {\r\n                                config.onVideoProcessStarted();\r\n                            }\r\n                        }\r\n\r\n                        ctx.drawImage(video, 0, 0);\r\n                        if (controller._controlledReadableStream.state !== 'closed') {\r\n                            try {\r\n                                controller.enqueue(\r\n                                    ctx.getImageData(0, 0, config.width, config.height)\r\n                                );\r\n                            } catch (e) {}\r\n                        }\r\n                    }, frameTimeout);\r\n                };\r\n                video.play();\r\n            }\r\n        });\r\n    }\r\n\r\n    var worker;\r\n\r\n    function startRecording(stream, buffer) {\r\n        if (!config.workerPath && !buffer) {\r\n            finished = false;\r\n\r\n            // is it safe to use @latest ?\r\n\r\n            fetch(\r\n                'https://unpkg.com/webm-wasm@latest/dist/webm-worker.js'\r\n            ).then(function(r) {\r\n                r.arrayBuffer().then(function(buffer) {\r\n                    startRecording(stream, buffer);\r\n                });\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (!config.workerPath && buffer instanceof ArrayBuffer) {\r\n            var blob = new Blob([buffer], {\r\n                type: 'text/javascript'\r\n            });\r\n            config.workerPath = URL.createObjectURL(blob);\r\n        }\r\n\r\n        if (!config.workerPath) {\r\n            console.error('workerPath parameter is missing.');\r\n        }\r\n\r\n        worker = new Worker(config.workerPath);\r\n\r\n        worker.postMessage(config.webAssemblyPath || 'https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm');\r\n        worker.addEventListener('message', function(event) {\r\n            if (event.data === 'READY') {\r\n                worker.postMessage({\r\n                    width: config.width,\r\n                    height: config.height,\r\n                    bitrate: config.bitrate || 1200,\r\n                    timebaseDen: config.frameRate || 30,\r\n                    realtime: config.realtime\r\n                });\r\n\r\n                cameraStream().pipeTo(new WritableStream({\r\n                    write: function(image) {\r\n                        if (finished) {\r\n                            console.error('Got image, but recorder is finished!');\r\n                            return;\r\n                        }\r\n\r\n                        worker.postMessage(image.data.buffer, [image.data.buffer]);\r\n                    }\r\n                }));\r\n            } else if (!!event.data) {\r\n                if (!isPaused) {\r\n                    arrayOfBuffers.push(event.data);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * This method records video.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        arrayOfBuffers = [];\r\n        isPaused = false;\r\n        this.blob = null;\r\n        startRecording(stream);\r\n\r\n        if (typeof config.initCallback === 'function') {\r\n            config.initCallback();\r\n        }\r\n    };\r\n\r\n    var isPaused;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPaused = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPaused = false;\r\n    };\r\n\r\n    function terminate(callback) {\r\n        if (!worker) {\r\n            if (callback) {\r\n                callback();\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        // Wait for null event data to indicate that the encoding is complete\r\n        worker.addEventListener('message', function(event) {\r\n            if (event.data === null) {\r\n                worker.terminate();\r\n                worker = null;\r\n\r\n                if (callback) {\r\n                    callback();\r\n                }\r\n            }\r\n        });\r\n\r\n        worker.postMessage(null);\r\n    }\r\n\r\n    var arrayOfBuffers = [];\r\n\r\n    /**\r\n     * This method stops recording video.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        finished = true;\r\n\r\n        var recorder = this;\r\n\r\n        terminate(function() {\r\n            recorder.blob = new Blob(arrayOfBuffers, {\r\n                type: 'video/webm'\r\n            });\r\n\r\n            callback(recorder.blob);\r\n        });\r\n    };\r\n\r\n    // for debugging\r\n    this.name = 'WebAssemblyRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        arrayOfBuffers = [];\r\n        isPaused = false;\r\n        this.blob = null;\r\n\r\n        // todo: if recording-ON then STOP it first\r\n    };\r\n\r\n    /**\r\n     * @property {Blob} blob - The recorded blob object.\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.stop(function(){\r\n     *     var blob = recorder.blob;\r\n     * });\r\n     */\r\n    this.blob = null;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.WebAssemblyRecorder = WebAssemblyRecorder;\r\n}\r\n","import has from 'lodash/has';\nimport isSchema from './util/isSchema';\n\nclass Condition {\n  constructor(refs, options) {\n    this.refs = refs;\n    this.refs = refs;\n\n    if (typeof options === 'function') {\n      this.fn = options;\n      return;\n    }\n\n    if (!has(options, 'is')) throw new TypeError('`is:` is required for `when()` conditions');\n    if (!options.then && !options.otherwise) throw new TypeError('either `then:` or `otherwise:` is required for `when()` conditions');\n    let {\n      is,\n      then,\n      otherwise\n    } = options;\n    let check = typeof is === 'function' ? is : (...values) => values.every(value => value === is);\n\n    this.fn = function (...args) {\n      let options = args.pop();\n      let schema = args.pop();\n      let branch = check(...args) ? then : otherwise;\n      if (!branch) return undefined;\n      if (typeof branch === 'function') return branch(schema);\n      return schema.concat(branch.resolve(options));\n    };\n  }\n\n  resolve(base, options) {\n    let values = this.refs.map(ref => ref.getValue(options == null ? void 0 : options.value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context));\n    let schema = this.fn.apply(base, values.concat(base, options));\n    if (schema === undefined || schema === base) return base;\n    if (!isSchema(schema)) throw new TypeError('conditions must return a schema object');\n    return schema.resolve(options);\n  }\n\n}\n\nexport default Condition;","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n","\n/**\n * Topological sorting function\n *\n * @param {Array} edges\n * @returns {Array}\n */\n\nmodule.exports = function(edges) {\n  return toposort(uniqueNodes(edges), edges)\n}\n\nmodule.exports.array = toposort\n\nfunction toposort(nodes, edges) {\n  var cursor = nodes.length\n    , sorted = new Array(cursor)\n    , visited = {}\n    , i = cursor\n    // Better data structures make algorithm much faster.\n    , outgoingEdges = makeOutgoingEdges(edges)\n    , nodesHash = makeNodesHash(nodes)\n\n  // check for unknown nodes\n  edges.forEach(function(edge) {\n    if (!nodesHash.has(edge[0]) || !nodesHash.has(edge[1])) {\n      throw new Error('Unknown node. There is an unknown node in the supplied edges.')\n    }\n  })\n\n  while (i--) {\n    if (!visited[i]) visit(nodes[i], i, new Set())\n  }\n\n  return sorted\n\n  function visit(node, i, predecessors) {\n    if(predecessors.has(node)) {\n      var nodeRep\n      try {\n        nodeRep = \", node was:\" + JSON.stringify(node)\n      } catch(e) {\n        nodeRep = \"\"\n      }\n      throw new Error('Cyclic dependency' + nodeRep)\n    }\n\n    if (!nodesHash.has(node)) {\n      throw new Error('Found unknown node. Make sure to provided all involved nodes. Unknown node: '+JSON.stringify(node))\n    }\n\n    if (visited[i]) return;\n    visited[i] = true\n\n    var outgoing = outgoingEdges.get(node) || new Set()\n    outgoing = Array.from(outgoing)\n\n    if (i = outgoing.length) {\n      predecessors.add(node)\n      do {\n        var child = outgoing[--i]\n        visit(child, nodesHash.get(child), predecessors)\n      } while (i)\n      predecessors.delete(node)\n    }\n\n    sorted[--cursor] = node\n  }\n}\n\nfunction uniqueNodes(arr){\n  var res = new Set()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    res.add(edge[0])\n    res.add(edge[1])\n  }\n  return Array.from(res)\n}\n\nfunction makeOutgoingEdges(arr){\n  var edges = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    if (!edges.has(edge[0])) edges.set(edge[0], new Set())\n    if (!edges.has(edge[1])) edges.set(edge[1], new Set())\n    edges.get(edge[0]).add(edge[1])\n  }\n  return edges\n}\n\nfunction makeNodesHash(arr){\n  var res = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    res.set(arr[i], i)\n  }\n  return res\n}\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\n/**\n * @see https://developers.google.com/youtube/iframe_api_reference#Events\n * `volumeChange` is not officially supported but seems to work\n * it emits an object: `{volume: 82.6923076923077, muted: false}`\n */\nexports.default = ['ready', 'stateChange', 'playbackQualityChange', 'playbackRateChange', 'error', 'apiChange', 'volumeChange'];\nmodule.exports = exports['default'];","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var arrayReduce = require('./_arrayReduce'),\n    deburr = require('./deburr'),\n    words = require('./words');\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nmodule.exports = createCompounder;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\n/**\n * @see https://developers.google.com/youtube/iframe_api_reference#Functions\n */\nexports.default = ['cueVideoById', 'loadVideoById', 'cueVideoByUrl', 'loadVideoByUrl', 'playVideo', 'pauseVideo', 'stopVideo', 'getVideoLoadedFraction', 'cuePlaylist', 'loadPlaylist', 'nextVideo', 'previousVideo', 'playVideoAt', 'setShuffle', 'setLoop', 'getPlaylist', 'getPlaylistIndex', 'setOption', 'mute', 'unMute', 'isMuted', 'setVolume', 'getVolume', 'seekTo', 'getPlayerState', 'getPlaybackRate', 'setPlaybackRate', 'getAvailablePlaybackRates', 'getPlaybackQuality', 'setPlaybackQuality', 'getAvailableQualityLevels', 'getCurrentTime', 'getDuration', 'removeEventListener', 'getVideoUrl', 'getVideoEmbedCode', 'getOptions', 'getOption', 'addEventListener', 'destroy', 'setSize', 'getIframe'];\nmodule.exports = exports['default'];","import { __extends } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { IonicNativePlugin, checkAvailability, cordovaPropertyGet, cordovaPropertySet, getPromise } from '@ionic-native/core';\nvar File = /** @class */ (function (_super) {\n    __extends(File, _super);\n    function File() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cordovaFileError = {\n            1: 'NOT_FOUND_ERR',\n            2: 'SECURITY_ERR',\n            3: 'ABORT_ERR',\n            4: 'NOT_READABLE_ERR',\n            5: 'ENCODING_ERR',\n            6: 'NO_MODIFICATION_ALLOWED_ERR',\n            7: 'INVALID_STATE_ERR',\n            8: 'SYNTAX_ERR',\n            9: 'INVALID_MODIFICATION_ERR',\n            10: 'QUOTA_EXCEEDED_ERR',\n            11: 'TYPE_MISMATCH_ERR',\n            12: 'PATH_EXISTS_ERR',\n            13: 'WRONG_ENTRY_TYPE',\n            14: 'DIR_READ_ERR',\n        };\n        return _this;\n    }\n    File.prototype.getFreeDiskSpace = function () {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                return getPromise(function (resolve, reject) {\n                    cordova.exec(resolve, reject, 'File', 'getFreeDiskSpace', []);\n                });\n            }\n        })();\n    };\n    File.prototype.checkDir = function (path, dir) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                if (/^\\//.test(dir)) {\n                    var err = new FileError(5);\n                    err.message = 'directory cannot start with /';\n                    return Promise.reject(err);\n                }\n                var fullPath = path + dir;\n                return _this.resolveDirectoryUrl(fullPath).then(function () {\n                    return true;\n                });\n            }\n        })();\n    };\n    File.prototype.createDir = function (path, dirName, replace) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                if (/^\\//.test(dirName)) {\n                    var err = new FileError(5);\n                    err.message = 'directory cannot start with /';\n                    return Promise.reject(err);\n                }\n                var options = {\n                    create: true,\n                };\n                if (!replace) {\n                    options.exclusive = true;\n                }\n                return _this.resolveDirectoryUrl(path).then(function (fse) {\n                    return _this.getDirectory(fse, dirName, options);\n                });\n            }\n        })();\n    };\n    File.prototype.removeDir = function (path, dirName) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                if (/^\\//.test(dirName)) {\n                    var err = new FileError(5);\n                    err.message = 'directory cannot start with /';\n                    return Promise.reject(err);\n                }\n                return _this.resolveDirectoryUrl(path)\n                    .then(function (fse) {\n                    return _this.getDirectory(fse, dirName, { create: false });\n                })\n                    .then(function (de) {\n                    return _this.remove(de);\n                });\n            }\n        })();\n    };\n    File.prototype.moveDir = function (path, dirName, newPath, newDirName) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                newDirName = newDirName || dirName;\n                if (/^\\//.test(newDirName)) {\n                    var err = new FileError(5);\n                    err.message = 'directory cannot start with /';\n                    return Promise.reject(err);\n                }\n                return _this.resolveDirectoryUrl(path)\n                    .then(function (fse) {\n                    return _this.getDirectory(fse, dirName, { create: false });\n                })\n                    .then(function (srcde) {\n                    return _this.resolveDirectoryUrl(newPath).then(function (destenation) {\n                        return _this.move(srcde, destenation, newDirName);\n                    });\n                });\n            }\n        })();\n    };\n    File.prototype.copyDir = function (path, dirName, newPath, newDirName) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                if (/^\\//.test(newDirName)) {\n                    var err = new FileError(5);\n                    err.message = 'directory cannot start with /';\n                    return Promise.reject(err);\n                }\n                return _this.resolveDirectoryUrl(path)\n                    .then(function (fse) {\n                    return _this.getDirectory(fse, dirName, { create: false });\n                })\n                    .then(function (srcde) {\n                    return _this.resolveDirectoryUrl(newPath).then(function (deste) {\n                        return _this.copy(srcde, deste, newDirName);\n                    });\n                });\n            }\n        })();\n    };\n    File.prototype.listDir = function (path, dirName) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                if (/^\\//.test(dirName)) {\n                    var err = new FileError(5);\n                    err.message = 'directory cannot start with /';\n                    return Promise.reject(err);\n                }\n                return _this.resolveDirectoryUrl(path)\n                    .then(function (fse) {\n                    return _this.getDirectory(fse, dirName, {\n                        create: false,\n                        exclusive: false,\n                    });\n                })\n                    .then(function (de) {\n                    var reader = de.createReader();\n                    return _this.readEntries(reader);\n                });\n            }\n        })();\n    };\n    File.prototype.removeRecursively = function (path, dirName) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                if (/^\\//.test(dirName)) {\n                    var err = new FileError(5);\n                    err.message = 'directory cannot start with /';\n                    return Promise.reject(err);\n                }\n                return _this.resolveDirectoryUrl(path)\n                    .then(function (fse) {\n                    return _this.getDirectory(fse, dirName, { create: false });\n                })\n                    .then(function (de) {\n                    return _this.rimraf(de);\n                });\n            }\n        })();\n    };\n    File.prototype.checkFile = function (path, file) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                if (/^\\//.test(file)) {\n                    var err = new FileError(5);\n                    err.message = 'file cannot start with /';\n                    return Promise.reject(err);\n                }\n                return _this.resolveLocalFilesystemUrl(path + file).then(function (fse) {\n                    if (fse.isFile) {\n                        return true;\n                    }\n                    else {\n                        var err = new FileError(13);\n                        err.message = 'input is not a file';\n                        return Promise.reject(err);\n                    }\n                });\n            }\n        })();\n    };\n    File.prototype.createFile = function (path, fileName, replace) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                if (/^\\//.test(fileName)) {\n                    var err = new FileError(5);\n                    err.message = 'file-name cannot start with /';\n                    return Promise.reject(err);\n                }\n                var options = {\n                    create: true,\n                };\n                if (!replace) {\n                    options.exclusive = true;\n                }\n                return _this.resolveDirectoryUrl(path).then(function (fse) {\n                    return _this.getFile(fse, fileName, options);\n                });\n            }\n        })();\n    };\n    File.prototype.removeFile = function (path, fileName) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                if (/^\\//.test(fileName)) {\n                    var err = new FileError(5);\n                    err.message = 'file-name cannot start with /';\n                    return Promise.reject(err);\n                }\n                return _this.resolveDirectoryUrl(path)\n                    .then(function (fse) {\n                    return _this.getFile(fse, fileName, { create: false });\n                })\n                    .then(function (fe) {\n                    return _this.remove(fe);\n                });\n            }\n        })();\n    };\n    File.prototype.writeFile = function (path, fileName, text, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                if (/^\\//.test(fileName)) {\n                    var err = new FileError(5);\n                    err.message = 'file-name cannot start with /';\n                    return Promise.reject(err);\n                }\n                var getFileOpts = {\n                    create: !options.append,\n                    exclusive: !options.replace,\n                };\n                return _this.resolveDirectoryUrl(path)\n                    .then(function (directoryEntry) {\n                    return _this.getFile(directoryEntry, fileName, getFileOpts);\n                })\n                    .then(function (fileEntry) {\n                    return _this.writeFileEntry(fileEntry, text, options);\n                });\n            }\n        })();\n    };\n    /**\n     * Write content to FileEntry.\n     * @hidden\n     * Write to an existing file.\n     * @param {FileEntry} fe file entry object\n     * @param {string | Blob | ArrayBuffer} text text content or blob to write\n     * @param {IWriteOptions} options replace file if set to true. See WriteOptions for more information.\n     * @returns {Promise<FileEntry>}  Returns a Promise that resolves to updated file entry or rejects with an error.\n     */\n    File.prototype.writeFileEntry = function (fe, text, options) {\n        var _this = this;\n        return this.createWriter(fe)\n            .then(function (writer) {\n            if (options.append) {\n                writer.seek(writer.length);\n            }\n            if (options.truncate) {\n                writer.truncate(options.truncate);\n            }\n            return _this.write(writer, text);\n        })\n            .then(function () { return fe; });\n    };\n    File.prototype.writeExistingFile = function (path, fileName, text) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                return _this.writeFile(path, fileName, text, { replace: true });\n            }\n        })();\n    };\n    File.prototype.readAsText = function (path, file) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                return _this.readFile(path, file, 'Text');\n            }\n        })();\n    };\n    File.prototype.readAsDataURL = function (path, file) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                return _this.readFile(path, file, 'DataURL');\n            }\n        })();\n    };\n    File.prototype.readAsBinaryString = function (path, file) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                return _this.readFile(path, file, 'BinaryString');\n            }\n        })();\n    };\n    File.prototype.readAsArrayBuffer = function (path, file) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                return _this.readFile(path, file, 'ArrayBuffer');\n            }\n        })();\n    };\n    File.prototype.moveFile = function (path, fileName, newPath, newFileName) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                newFileName = newFileName || fileName;\n                if (/^\\//.test(newFileName)) {\n                    var err = new FileError(5);\n                    err.message = 'file name cannot start with /';\n                    return Promise.reject(err);\n                }\n                return _this.resolveDirectoryUrl(path)\n                    .then(function (fse) {\n                    return _this.getFile(fse, fileName, { create: false });\n                })\n                    .then(function (srcfe) {\n                    return _this.resolveDirectoryUrl(newPath).then(function (deste) {\n                        return _this.move(srcfe, deste, newFileName);\n                    });\n                });\n            }\n        })();\n    };\n    File.prototype.copyFile = function (path, fileName, newPath, newFileName) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                newFileName = newFileName || fileName;\n                if (/^\\//.test(newFileName)) {\n                    var err = new FileError(5);\n                    err.message = 'file name cannot start with /';\n                    return Promise.reject(err);\n                }\n                return _this.resolveDirectoryUrl(path)\n                    .then(function (fse) {\n                    return _this.getFile(fse, fileName, { create: false });\n                })\n                    .then(function (srcfe) {\n                    return _this.resolveDirectoryUrl(newPath).then(function (deste) {\n                        return _this.copy(srcfe, deste, newFileName);\n                    });\n                });\n            }\n        })();\n    };\n    /**\n     * @hidden\n     */\n    File.prototype.fillErrorMessage = function (err) {\n        try {\n            err.message = this.cordovaFileError[err.code];\n        }\n        catch (e) { }\n    };\n    File.prototype.resolveLocalFilesystemUrl = function (fileUrl) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                return getPromise(function (resolve, reject) {\n                    try {\n                        window.resolveLocalFileSystemURL(fileUrl, function (entry) {\n                            resolve(entry);\n                        }, function (err) {\n                            _this.fillErrorMessage(err);\n                            reject(err);\n                        });\n                    }\n                    catch (xc) {\n                        _this.fillErrorMessage(xc);\n                        reject(xc);\n                    }\n                });\n            }\n        })();\n    };\n    File.prototype.resolveDirectoryUrl = function (directoryUrl) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                return _this.resolveLocalFilesystemUrl(directoryUrl).then(function (de) {\n                    if (de.isDirectory) {\n                        return de;\n                    }\n                    else {\n                        var err = new FileError(13);\n                        err.message = 'input is not a directory';\n                        return Promise.reject(err);\n                    }\n                });\n            }\n        })();\n    };\n    File.prototype.getDirectory = function (directoryEntry, directoryName, flags) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                return new Promise(function (resolve, reject) {\n                    try {\n                        directoryEntry.getDirectory(directoryName, flags, function (de) {\n                            resolve(de);\n                        }, function (err) {\n                            _this.fillErrorMessage(err);\n                            reject(err);\n                        });\n                    }\n                    catch (xc) {\n                        _this.fillErrorMessage(xc);\n                        reject(xc);\n                    }\n                });\n            }\n        })();\n    };\n    File.prototype.getFile = function (directoryEntry, fileName, flags) {\n        var _this = this;\n        return (function () {\n            if (checkAvailability(_this) === true) {\n                return new Promise(function (resolve, reject) {\n                    try {\n                        directoryEntry.getFile(fileName, flags, resolve, function (err) {\n                            _this.fillErrorMessage(err);\n                            reject(err);\n                        });\n                    }\n                    catch (xc) {\n                        _this.fillErrorMessage(xc);\n                        reject(xc);\n                    }\n                });\n            }\n        })();\n    };\n    File.prototype.readFile = function (path, file, readAs) {\n        var _this = this;\n        if (/^\\//.test(file)) {\n            var err = new FileError(5);\n            err.message = 'file-name cannot start with /';\n            return Promise.reject(err);\n        }\n        return this.resolveDirectoryUrl(path)\n            .then(function (directoryEntry) {\n            return _this.getFile(directoryEntry, file, { create: false });\n        })\n            .then(function (fileEntry) {\n            var reader = new FileReader();\n            return getPromise(function (resolve, reject) {\n                reader.onloadend = function () {\n                    if (reader.result !== undefined || reader.result !== null) {\n                        resolve(reader.result);\n                    }\n                    else if (reader.error !== undefined || reader.error !== null) {\n                        reject(reader.error);\n                    }\n                    else {\n                        reject({ code: null, message: 'READER_ONLOADEND_ERR' });\n                    }\n                };\n                fileEntry.file(function (file) {\n                    reader[\"readAs\" + readAs].call(reader, file);\n                }, function (error) {\n                    reject(error);\n                });\n            });\n        });\n    };\n    /**\n     * @hidden\n     */\n    File.prototype.remove = function (fe) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            fe.remove(function () {\n                resolve({ success: true, fileRemoved: fe });\n            }, function (err) {\n                _this.fillErrorMessage(err);\n                reject(err);\n            });\n        });\n    };\n    /**\n     * @hidden\n     */\n    File.prototype.move = function (srce, destdir, newName) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            srce.moveTo(destdir, newName, function (deste) {\n                resolve(deste);\n            }, function (err) {\n                _this.fillErrorMessage(err);\n                reject(err);\n            });\n        });\n    };\n    /**\n     * @hidden\n     */\n    File.prototype.copy = function (srce, destdir, newName) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            srce.copyTo(destdir, newName, function (deste) {\n                resolve(deste);\n            }, function (err) {\n                _this.fillErrorMessage(err);\n                reject(err);\n            });\n        });\n    };\n    /**\n     * @hidden\n     */\n    File.prototype.readEntries = function (dr) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            dr.readEntries(function (entries) {\n                resolve(entries);\n            }, function (err) {\n                _this.fillErrorMessage(err);\n                reject(err);\n            });\n        });\n    };\n    /**\n     * @hidden\n     */\n    File.prototype.rimraf = function (de) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            de.removeRecursively(function () {\n                resolve({ success: true, fileRemoved: de });\n            }, function (err) {\n                _this.fillErrorMessage(err);\n                reject(err);\n            });\n        });\n    };\n    /**\n     * @hidden\n     */\n    File.prototype.createWriter = function (fe) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            fe.createWriter(function (writer) {\n                resolve(writer);\n            }, function (err) {\n                _this.fillErrorMessage(err);\n                reject(err);\n            });\n        });\n    };\n    /**\n     * @hidden\n     */\n    File.prototype.write = function (writer, gu) {\n        if (gu instanceof Blob) {\n            return this.writeFileInChunks(writer, gu);\n        }\n        return new Promise(function (resolve, reject) {\n            writer.onwriteend = function (evt) {\n                if (writer.error) {\n                    reject(writer.error);\n                }\n                else {\n                    resolve(evt);\n                }\n            };\n            writer.write(gu);\n        });\n    };\n    /**\n     * @hidden\n     */\n    File.prototype.writeFileInChunks = function (writer, file) {\n        var BLOCK_SIZE = 1024 * 1024;\n        var writtenSize = 0;\n        function writeNextChunk() {\n            var size = Math.min(BLOCK_SIZE, file.size - writtenSize);\n            var chunk = file.slice(writtenSize, writtenSize + size);\n            writtenSize += size;\n            writer.write(chunk);\n        }\n        return getPromise(function (resolve, reject) {\n            writer.onerror = reject;\n            writer.onwrite = function () {\n                if (writtenSize < file.size) {\n                    writeNextChunk();\n                }\n                else {\n                    resolve();\n                }\n            };\n            writeNextChunk();\n        });\n    };\n    Object.defineProperty(File.prototype, \"applicationDirectory\", {\n        get: function () { return cordovaPropertyGet(this, \"applicationDirectory\"); },\n        set: function (value) { cordovaPropertySet(this, \"applicationDirectory\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"applicationStorageDirectory\", {\n        get: function () { return cordovaPropertyGet(this, \"applicationStorageDirectory\"); },\n        set: function (value) { cordovaPropertySet(this, \"applicationStorageDirectory\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"dataDirectory\", {\n        get: function () { return cordovaPropertyGet(this, \"dataDirectory\"); },\n        set: function (value) { cordovaPropertySet(this, \"dataDirectory\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"cacheDirectory\", {\n        get: function () { return cordovaPropertyGet(this, \"cacheDirectory\"); },\n        set: function (value) { cordovaPropertySet(this, \"cacheDirectory\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"externalApplicationStorageDirectory\", {\n        get: function () { return cordovaPropertyGet(this, \"externalApplicationStorageDirectory\"); },\n        set: function (value) { cordovaPropertySet(this, \"externalApplicationStorageDirectory\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"externalDataDirectory\", {\n        get: function () { return cordovaPropertyGet(this, \"externalDataDirectory\"); },\n        set: function (value) { cordovaPropertySet(this, \"externalDataDirectory\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"externalCacheDirectory\", {\n        get: function () { return cordovaPropertyGet(this, \"externalCacheDirectory\"); },\n        set: function (value) { cordovaPropertySet(this, \"externalCacheDirectory\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"externalRootDirectory\", {\n        get: function () { return cordovaPropertyGet(this, \"externalRootDirectory\"); },\n        set: function (value) { cordovaPropertySet(this, \"externalRootDirectory\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"tempDirectory\", {\n        get: function () { return cordovaPropertyGet(this, \"tempDirectory\"); },\n        set: function (value) { cordovaPropertySet(this, \"tempDirectory\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"syncedDataDirectory\", {\n        get: function () { return cordovaPropertyGet(this, \"syncedDataDirectory\"); },\n        set: function (value) { cordovaPropertySet(this, \"syncedDataDirectory\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"documentsDirectory\", {\n        get: function () { return cordovaPropertyGet(this, \"documentsDirectory\"); },\n        set: function (value) { cordovaPropertySet(this, \"documentsDirectory\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(File.prototype, \"sharedDirectory\", {\n        get: function () { return cordovaPropertyGet(this, \"sharedDirectory\"); },\n        set: function (value) { cordovaPropertySet(this, \"sharedDirectory\", value); },\n        enumerable: false,\n        configurable: true\n    });\n    File.pluginName = \"File\";\n    File.plugin = \"cordova-plugin-file\";\n    File.pluginRef = \"cordova.file\";\n    File.repo = \"https://github.com/apache/cordova-plugin-file\";\n    File.platforms = [\"Android\", \"Browser\", \"iOS\", \"macOS\", \"Windows\"];\n    File.decorators = [\n        { type: Injectable }\n    ];\n    return File;\n}(IonicNativePlugin));\nexport { File };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2ZpbGUvbmd4L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sZ0ZBQTRELFVBQVUsRUFBRSxNQUFNLG9CQUFvQixDQUFDOztJQW9xQmhGLHdCQUFpQjs7O1FBOER6QyxzQkFBZ0IsR0FBUTtZQUN0QixDQUFDLEVBQUUsZUFBZTtZQUNsQixDQUFDLEVBQUUsY0FBYztZQUNqQixDQUFDLEVBQUUsV0FBVztZQUNkLENBQUMsRUFBRSxrQkFBa0I7WUFDckIsQ0FBQyxFQUFFLGNBQWM7WUFDakIsQ0FBQyxFQUFFLDZCQUE2QjtZQUNoQyxDQUFDLEVBQUUsbUJBQW1CO1lBQ3RCLENBQUMsRUFBRSxZQUFZO1lBQ2YsQ0FBQyxFQUFFLDBCQUEwQjtZQUM3QixFQUFFLEVBQUUsb0JBQW9CO1lBQ3hCLEVBQUUsRUFBRSxtQkFBbUI7WUFDdkIsRUFBRSxFQUFFLGlCQUFpQjtZQUNyQixFQUFFLEVBQUUsa0JBQWtCO1lBQ3RCLEVBQUUsRUFBRSxjQUFjO1NBQ25CLENBQUM7OztJQU9GLCtCQUFnQjs7O21EQUFvQjtnQkFDbEMsT0FBTyxVQUFVLENBQU0sVUFBQyxPQUFPLEVBQUUsTUFBTTtvQkFDckMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUE2QixFQUFFLE1BQTRCLEVBQUUsTUFBTSxFQUFFLGtCQUFrQixFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUM1RyxDQUFDLENBQUMsQ0FBQzthQUNKOzs7SUFXRCx1QkFBUSxhQUFDLElBQVksRUFBRSxHQUFXOzs7bURBQW9CO2dCQUNwRCxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7b0JBQ25CLElBQU0sR0FBRyxHQUFHLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxD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LHNDQUFvQjs7Ozs7OzBCQUtwQiw2Q0FBMkI7Ozs7OzswQkFLM0IsK0JBQWE7Ozs7OzswQkFNYixnQ0FBYzs7Ozs7OzBCQUtkLHFEQUFtQzs7Ozs7OzBCQUtuQyx1Q0FBcUI7Ozs7OzswQkFLckIsd0NBQXNCOzs7Ozs7MEJBS3RCLHVDQUFxQjs7Ozs7OzBCQUtyQiwrQkFBYTs7Ozs7OzBCQUtiLHFDQUFtQjs7Ozs7OzBCQUtuQixvQ0FBa0I7Ozs7OzswQkFLbEIsaUNBQWU7Ozs7Ozs7Ozs7OztnQkE3RG5DLFVBQVU7O2VBcHFCWDtFQXFxQjBCLGlCQUFpQjtTQUE5QixJQUFJIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29yZG92YUNoZWNrLCBDb3Jkb3ZhUHJvcGVydHksIElvbmljTmF0aXZlUGx1Z2luLCBQbHVnaW4sIGdldFByb21pc2UgfSBmcm9tICdAaW9uaWMtbmF0aXZlL2NvcmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlIGV4dGVuZHMgQmxvYiB7XG4gIC8qKlxuICAgKiBOYW1lIG9mIHRoZSBmaWxlLCB3aXRob3V0IHBhdGggaW5mb3JtYXRpb25cbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIExhc3QgbW9kaWZpZWQgZGF0ZVxuICAgKi9cbiAgbGFzdE1vZGlmaWVkOiBudW1iZXI7XG4gIC8qKlxuICAgKiBMYXN0IG1vZGlmaWVkIGRhdGVcbiAgICovXG4gIGxhc3RNb2RpZmllZERhdGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIFNpemUgaW4gYnl0ZXNcbiAgICovXG4gIHNpemU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEZpbGUgbWltZSB0eXBlXG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIGxvY2FsVVJMOiBzdHJpbmc7XG4gIHN0YXJ0OiBudW1iZXI7XG4gIGVuZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgXCJzbGljZVwiIG9mIHRoZSBmaWxlLiBTaW5jZSBDb3Jkb3ZhIEZpbGVzIGRvbid0IGNvbnRhaW4gdGhlIGFjdHVhbFxuICAgKiBjb250ZW50LCB0aGlzIHJlYWxseSByZXR1cm5zIGEgRmlsZSB3aXRoIGFkanVzdGVkIHN0YXJ0IGFuZCBlbmQuXG4gICAqIFNsaWNlcyBvZiBzbGljZXMgYXJlIHN1cHBvcnRlZC5cbiAgICogQHBhcmFtIHN0YXJ0IHtOdW1iZXJ9IFRoZSBpbmRleCBhdCB3aGljaCB0byBzdGFydCB0aGUgc2xpY2UgKGluY2x1c2l2ZSkuXG4gICAqIEBwYXJhbSBlbmQge051bWJlcn0gVGhlIGluZGV4IGF0IHdoaWNoIHRvIGVuZCB0aGUgc2xpY2UgKGV4Y2x1c2l2ZSkuXG4gICAqL1xuICBzbGljZShzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcik6IEJsb2I7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9jYWxGaWxlU3lzdGVtIHtcbiAgLyoqXG4gICAqIFVzZWQgZm9yIHN0b3JhZ2Ugd2l0aCBubyBndWFyYW50ZWUgb2YgcGVyc2lzdGVuY2UuXG4gICAqL1xuICBURU1QT1JBUlk6IG51bWJlcjtcblxuICAvKipcbiAgICogVXNlZCBmb3Igc3RvcmFnZSB0aGF0IHNob3VsZCBub3QgYmUgcmVtb3ZlZCBieSB0aGUgdXNlciBhZ2VudCB3aXRob3V0IGFwcGxpY2F0aW9uIG9yIHVzZXIgcGVybWlzc2lvbi5cbiAgICovXG4gIFBFUlNJU1RFTlQ6IG51bWJlcjtcblxuICAvKipcbiAgICogUmVxdWVzdHMgYSBmaWxlc3lzdGVtIGluIHdoaWNoIHRvIHN0b3JlIGFwcGxpY2F0aW9uIGRhdGEuXG4gICAqIEBwYXJhbSB0eXBlIFdoZXRoZXIgdGhlIGZpbGVzeXN0ZW0gcmVxdWVzdGVkIHNob3VsZCBiZSBwZXJzaXN0ZW50LCBhcyBkZWZpbmVkIGFib3ZlLiBVc2Ugb25lIG9mIFRFTVBPUkFSWSBvclxuICAgKiAgIFBFUlNJU1RFTlQuXG4gICAqIEBwYXJhbSBzaXplIFRoaXMgaXMgYW4gaW5kaWNhdG9yIG9mIGhvdyBtdWNoIHN0b3JhZ2Ugc3BhY2UsIGluIGJ5dGVzLCB0aGUgYXBwbGljYXRpb24gZXhwZWN0cyB0byBuZWVkLlxuICAgKiBAcGFyYW0gc3VjY2Vzc0NhbGxiYWNrIFRoZSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSB1c2VyIGFnZW50IHByb3ZpZGVzIGEgZmlsZXN5c3RlbS5cbiAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sgQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVycm9ycyBoYXBwZW4sIG9yIHdoZW4gdGhlIHJlcXVlc3QgdG8gb2J0YWluIHRoZSBmaWxlc3lzdGVtIGlzXG4gICAqICAgZGVuaWVkLlxuICAgKi9cbiAgcmVxdWVzdEZpbGVTeXN0ZW0oXG4gICAgdHlwZTogbnVtYmVyLFxuICAgIHNpemU6IG51bWJlcixcbiAgICBzdWNjZXNzQ2FsbGJhY2s6IEZpbGVTeXN0ZW1DYWxsYmFjayxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHVzZXIgdG8gbG9vayB1cCB0aGUgRW50cnkgZm9yIGEgZmlsZSBvciBkaXJlY3RvcnkgcmVmZXJyZWQgdG8gYnkgYSBsb2NhbCBVUkwuXG4gICAqIEBwYXJhbSB1cmwgQSBVUkwgcmVmZXJyaW5nIHRvIGEgbG9jYWwgZmlsZSBpbiBhIGZpbGVzeXN0ZW0gYWNjZXNzYWJsZSB2aWEgdGhpcyBBUEkuXG4gICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2sgQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB0byByZXBvcnQgdGhlIEZpbGVFbnRyeSB0byB3aGljaCB0aGUgc3VwcGxpZWQgVVJMIHJlZmVycy5cbiAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sgQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVycm9ycyBoYXBwZW4sIG9yIHdoZW4gdGhlIHJlcXVlc3QgdG8gb2J0YWluIHRoZSBFbnRyeSBpc1xuICAgKiAgIGRlbmllZC5cbiAgICovXG4gIHJlc29sdmVMb2NhbEZpbGVTeXN0ZW1VUkwodXJsOiBzdHJpbmcsIHN1Y2Nlc3NDYWxsYmFjazogRmlsZUVudHJ5Q2FsbGJhY2ssIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrKTogdm9pZDtcblxuICAvKipcbiAgICogc2VlIHJlcXVlc3RGaWxlU3lzdGVtLlxuICAgKi9cbiAgd2Via2l0UmVxdWVzdEZpbGVTeXN0ZW0oXG4gICAgdHlwZTogbnVtYmVyLFxuICAgIHNpemU6IG51bWJlcixcbiAgICBzdWNjZXNzQ2FsbGJhY2s6IEZpbGVTeXN0ZW1DYWxsYmFjayxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1ldGFkYXRhIHtcbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIHRpbWUgYXQgd2hpY2ggdGhlIGZpbGUgb3IgZGlyZWN0b3J5IHdhcyBsYXN0IG1vZGlmaWVkLlxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIG1vZGlmaWNhdGlvblRpbWU6IERhdGU7XG5cbiAgLyoqXG4gICAqIFRoZSBzaXplIG9mIHRoZSBmaWxlLCBpbiBieXRlcy4gVGhpcyBtdXN0IHJldHVybiAwIGZvciBkaXJlY3Rvcmllcy5cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBzaXplOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxhZ3Mge1xuICAvKipcbiAgICogVXNlZCB0byBpbmRpY2F0ZSB0aGF0IHRoZSB1c2VyIHdhbnRzIHRvIGNyZWF0ZSBhIGZpbGUgb3IgZGlyZWN0b3J5IGlmIGl0IHdhcyBub3QgcHJldmlvdXNseSB0aGVyZS5cbiAgICovXG4gIGNyZWF0ZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEJ5IGl0c2VsZiwgZXhjbHVzaXZlIG11c3QgaGF2ZSBubyBlZmZlY3QuIFVzZWQgd2l0aCBjcmVhdGUsIGl0IG11c3QgY2F1c2UgZ2V0RmlsZSBhbmQgZ2V0RGlyZWN0b3J5IHRvIGZhaWwgaWYgdGhlXG4gICAqIHRhcmdldCBwYXRoIGFscmVhZHkgZXhpc3RzLlxuICAgKi9cbiAgZXhjbHVzaXZlPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBUaGlzIGV4cG9ydCBpbnRlcmZhY2UgcmVwcmVzZW50cyBhIGZpbGUgc3lzdGVtLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVTeXN0ZW0ge1xuICAvKipcbiAgICogVGhpcyBpcyB0aGUgbmFtZSBvZiB0aGUgZmlsZSBzeXN0ZW0uIFRoZSBzcGVjaWZpY3Mgb2YgbmFtaW5nIGZpbGVzeXN0ZW1zIGlzIHVuc3BlY2lmaWVkLCBidXQgYSBuYW1lIG11c3QgYmUgdW5pcXVlXG4gICAqIGFjcm9zcyB0aGUgbGlzdCBvZiBleHBvc2VkIGZpbGUgc3lzdGVtcy5cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSByb290IGRpcmVjdG9yeSBvZiB0aGUgZmlsZSBzeXN0ZW0uXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgcm9vdDogRGlyZWN0b3J5RW50cnk7XG5cbiAgdG9KU09OKCk6IHN0cmluZztcblxuICBlbmNvZGVVUklQYXRoKHBhdGg6IHN0cmluZyk6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbnRyeSB7XG4gIC8qKlxuICAgKiBFbnRyeSBpcyBhIGZpbGUuXG4gICAqL1xuICBpc0ZpbGU6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEVudHJ5IGlzIGEgZGlyZWN0b3J5LlxuICAgKi9cbiAgaXNEaXJlY3Rvcnk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIExvb2sgdXAgbWV0YWRhdGEgYWJvdXQgdGhpcyBlbnRyeS5cbiAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFjayBBIGNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdpdGggdGhlIHRpbWUgb2YgdGhlIGxhc3QgbW9kaWZpY2F0aW9uLlxuICAgKiBAcGFyYW0gZXJyb3JDYWxsYmFjayBFcnJvckNhbGxiYWNrIEEgY2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiBlcnJvcnMgaGFwcGVuLlxuICAgKi9cbiAgZ2V0TWV0YWRhdGEoc3VjY2Vzc0NhbGxiYWNrOiBNZXRhZGF0YUNhbGxiYWNrLCBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFjayk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbWV0YWRhdGEgb2YgdGhlIGVudHJ5LlxuICAgKiBAcGFyYW0gc3VjY2Vzc0NhbGxiYWNrIHtGdW5jdGlvbn0gaXMgY2FsbGVkIHdpdGggYSBNZXRhZGF0YSBvYmplY3RcbiAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sge0Z1bmN0aW9ufSBpcyBjYWxsZWQgd2l0aCBhIEZpbGVFcnJvclxuICAgKiBAcGFyYW0gbWV0YWRhdGFPYmplY3Qge01ldGFkYXRhfSBrZXlzIGFuZCB2YWx1ZXMgdG8gc2V0XG4gICAqL1xuICBzZXRNZXRhZGF0YShzdWNjZXNzQ2FsbGJhY2s6IE1ldGFkYXRhQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2s6IEVycm9yQ2FsbGJhY2ssIG1ldGFkYXRhT2JqZWN0OiBNZXRhZGF0YSk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBlbnRyeSwgZXhjbHVkaW5nIHRoZSBwYXRoIGxlYWRpbmcgdG8gaXQuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgZnVsbCBhYnNvbHV0ZSBwYXRoIGZyb20gdGhlIHJvb3QgdG8gdGhlIGVudHJ5LlxuICAgKi9cbiAgZnVsbFBhdGg6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBmaWxlIHN5c3RlbSBvbiB3aGljaCB0aGUgZW50cnkgcmVzaWRlcy5cbiAgICovXG4gIGZpbGVzeXN0ZW06IEZpbGVTeXN0ZW07XG4gIC8qKlxuICAgKiBhbiBhbHRlcm5hdGUgVVJMIHdoaWNoIGNhbiBiZSB1c2VkIGJ5IG5hdGl2ZSB3ZWJ2aWV3IGNvbnRyb2xzLCBmb3IgZXhhbXBsZSBtZWRpYSBwbGF5ZXJzLlxuICAgKi9cbiAgbmF0aXZlVVJMOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIExvb2sgdXAgbWV0YWRhdGEgYWJvdXQgdGhpcyBlbnRyeS5cbiAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFjayBBIGNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdpdGggdGhlIHRpbWUgb2YgdGhlIGxhc3QgbW9kaWZpY2F0aW9uLlxuICAgKiBAcGFyYW0gZXJyb3JDYWxsYmFjayBFcnJvckNhbGxiYWNrIEEgY2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiBlcnJvcnMgaGFwcGVuLlxuICAgKi9cbiAgZ2V0TWV0YWRhdGEoc3VjY2Vzc0NhbGxiYWNrOiBNZXRhZGF0YUNhbGxiYWNrLCBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFjayk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbWV0YWRhdGEgb2YgdGhlIGVudHJ5LlxuICAgKiBAcGFyYW0gc3VjY2Vzc0NhbGxiYWNrIHtGdW5jdGlvbn0gaXMgY2FsbGVkIHdpdGggYSBNZXRhZGF0YSBvYmplY3RcbiAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sge0Z1bmN0aW9ufSBpcyBjYWxsZWQgd2l0aCBhIEZpbGVFcnJvclxuICAgKiBAcGFyYW0gbWV0YWRhdGFPYmplY3Qge01ldGFkYXRhfSBrZXlzIGFuZCB2YWx1ZXMgdG8gc2V0XG4gICAqL1xuICBzZXRNZXRhZGF0YShzdWNjZXNzQ2FsbGJhY2s6IE1ldGFkYXRhQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2s6IEVycm9yQ2FsbGJhY2ssIG1ldGFkYXRhT2JqZWN0OiBNZXRhZGF0YSk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIE1vdmUgYW4gZW50cnkgdG8gYSBkaWZmZXJlbnQgbG9jYXRpb24gb24gdGhlIGZpbGUgc3lzdGVtLiBJdCBpcyBhbiBlcnJvciB0byB0cnkgdG86XG4gICAqXG4gICAqIDx1aT5cbiAgICogPGxpPm1vdmUgYSBkaXJlY3RvcnkgaW5zaWRlIGl0c2VsZiBvciB0byBhbnkgY2hpbGQgYXQgYW55IGRlcHRoOzwvbGk+XG4gICAqIDxsaT5tb3ZlIGFuIGVudHJ5IGludG8gaXRzIHBhcmVudCBpZiBhIG5hbWUgZGlmZmVyZW50IGZyb20gaXRzIGN1cnJlbnQgb25lIGlzbid0IHByb3ZpZGVkOzwvbGk+XG4gICAqIDxsaT5tb3ZlIGEgZmlsZSB0byBhIHBhdGggb2NjdXBpZWQgYnkgYSBkaXJlY3Rvcnk7PC9saT5cbiAgICogPGxpPm1vdmUgYSBkaXJlY3RvcnkgdG8gYSBwYXRoIG9jY3VwaWVkIGJ5IGEgZmlsZTs8L2xpPlxuICAgKiA8bGk+bW92ZSBhbnkgZWxlbWVudCB0byBhIHBhdGggb2NjdXBpZWQgYnkgYSBkaXJlY3Rvcnkgd2hpY2ggaXMgbm90IGVtcHR5LjwvbGk+XG4gICAqIDx1bD5cbiAgICpcbiAgICogQSBtb3ZlIG9mIGEgZmlsZSBvbiB0b3Agb2YgYW4gZXhpc3RpbmcgZmlsZSBtdXN0IGF0dGVtcHQgdG8gZGVsZXRlIGFuZCByZXBsYWNlIHRoYXQgZmlsZS5cbiAgICogQSBtb3ZlIG9mIGEgZGlyZWN0b3J5IG9uIHRvcCBvZiBhbiBleGlzdGluZyBlbXB0eSBkaXJlY3RvcnkgbXVzdCBhdHRlbXB0IHRvIGRlbGV0ZSBhbmQgcmVwbGFjZSB0aGF0IGRpcmVjdG9yeS5cbiAgICovXG4gIG1vdmVUbyhcbiAgICBwYXJlbnQ6IERpcmVjdG9yeUVudHJ5LFxuICAgIG5ld05hbWU/OiBzdHJpbmcsXG4gICAgc3VjY2Vzc0NhbGxiYWNrPzogRW50cnlDYWxsYmFjayxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBDb3B5IGFuIGVudHJ5IHRvIGEgZGlmZmVyZW50IGxvY2F0aW9uIG9uIHRoZSBmaWxlIHN5c3RlbS4gSXQgaXMgYW4gZXJyb3IgdG8gdHJ5IHRvOlxuICAgKlxuICAgKiA8dWw+XG4gICAqIDxsaT4gY29weSBhIGRpcmVjdG9yeSBpbnNpZGUgaXRzZWxmIG9yIHRvIGFueSBjaGlsZCBhdCBhbnkgZGVwdGg7PC9saT5cbiAgICogPGxpPiBjb3B5IGFuIGVudHJ5IGludG8gaXRzIHBhcmVudCBpZiBhIG5hbWUgZGlmZmVyZW50IGZyb20gaXRzIGN1cnJlbnQgb25lIGlzbid0IHByb3ZpZGVkOzwvbGk+XG4gICAqIDxsaT4gY29weSBhIGZpbGUgdG8gYSBwYXRoIG9jY3VwaWVkIGJ5IGEgZGlyZWN0b3J5OzwvbGk+XG4gICAqIDxsaT4gY29weSBhIGRpcmVjdG9yeSB0byBhIHBhdGggb2NjdXBpZWQgYnkgYSBmaWxlOzwvbGk+XG4gICAqIDxsaT4gY29weSBhbnkgZWxlbWVudCB0byBhIHBhdGggb2NjdXBpZWQgYnkgYSBkaXJlY3Rvcnkgd2hpY2ggaXMgbm90IGVtcHR5LjwvbGk+XG4gICAqIDxsaT4gQSBjb3B5IG9mIGEgZmlsZSBvbiB0b3Agb2YgYW4gZXhpc3RpbmcgZmlsZSBtdXN0IGF0dGVtcHQgdG8gZGVsZXRlIGFuZCByZXBsYWNlIHRoYXQgZmlsZS48L2xpPlxuICAgKiA8bGk+IEEgY29weSBvZiBhIGRpcmVjdG9yeSBvbiB0b3Agb2YgYW4gZXhpc3RpbmcgZW1wdHkgZGlyZWN0b3J5IG11c3QgYXR0ZW1wdCB0byBkZWxldGUgYW5kIHJlcGxhY2UgdGhhdFxuICAgKiBkaXJlY3RvcnkuPC9saT5cbiAgICogPC91bD5cbiAgICpcbiAgICogRGlyZWN0b3J5IGNvcGllcyBhcmUgYWx3YXlzIHJlY3Vyc2l2ZS0tdGhhdCBpcywgdGhleSBjb3B5IGFsbCBjb250ZW50cyBvZiB0aGUgZGlyZWN0b3J5LlxuICAgKi9cbiAgY29weVRvKFxuICAgIHBhcmVudDogRGlyZWN0b3J5RW50cnksXG4gICAgbmV3TmFtZT86IHN0cmluZyxcbiAgICBzdWNjZXNzQ2FsbGJhY2s/OiBFbnRyeUNhbGxiYWNrLFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBVUkwgdGhhdCBjYW4gYmUgdXNlZCB0byBpZGVudGlmeSB0aGlzIGVudHJ5LiBVbmxpa2UgdGhlIFVSTiBkZWZpbmVkIGluIFtGSUxFLUFQSS1FRF0sIGl0IGhhcyBubyBzcGVjaWZpY1xuICAgKiBleHBpcmF0aW9uOyBhcyBpdCBkZXNjcmliZXMgYSBsb2NhdGlvbiBvbiBkaXNrLCBpdCBzaG91bGQgYmUgdmFsaWQgYXQgbGVhc3QgYXMgbG9uZyBhcyB0aGF0IGxvY2F0aW9uIGV4aXN0cy5cbiAgICovXG4gIHRvVVJMKCk6IHN0cmluZztcblxuICAvKipcbiAgICogUmV0dXJuIGEgVVJMIHRoYXQgY2FuIGJlIHBhc3NlZCBhY3Jvc3MgdGhlIGJyaWRnZSB0byBpZGVudGlmeSB0aGlzIGVudHJ5LlxuICAgKiBAcmV0dXJuIHN0cmluZyBVUkwgdGhhdCBjYW4gYmUgcGFzc2VkIGFjcm9zcyB0aGUgYnJpZGdlIHRvIGlkZW50aWZ5IHRoaXMgZW50cnlcbiAgICovXG4gIHRvSW50ZXJuYWxVUkwoKTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBEZWxldGVzIGEgZmlsZSBvciBkaXJlY3RvcnkuIEl0IGlzIGFuIGVycm9yIHRvIGF0dGVtcHQgdG8gZGVsZXRlIGEgZGlyZWN0b3J5IHRoYXQgaXMgbm90IGVtcHR5LiBJdCBpcyBhbiBlcnJvciB0b1xuICAgKiBhdHRlbXB0IHRvIGRlbGV0ZSB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgYSBmaWxlc3lzdGVtLlxuICAgKiBAcGFyYW0gc3VjY2Vzc0NhbGxiYWNrIEEgY2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgb24gc3VjY2Vzcy5cbiAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sgQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVycm9ycyBoYXBwZW4uXG4gICAqL1xuICByZW1vdmUoc3VjY2Vzc0NhbGxiYWNrOiBWb2lkQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrKTogdm9pZDtcblxuICAvKipcbiAgICogTG9vayB1cCB0aGUgcGFyZW50IERpcmVjdG9yeUVudHJ5IGNvbnRhaW5pbmcgdGhpcyBFbnRyeS4gSWYgdGhpcyBFbnRyeSBpcyB0aGUgcm9vdCBvZiBpdHMgZmlsZXN5c3RlbSwgaXRzIHBhcmVudFxuICAgKiBpcyBpdHNlbGYuXG4gICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2sgQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB0byByZXR1cm4gdGhlIHBhcmVudCBFbnRyeS5cbiAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sgQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVycm9ycyBoYXBwZW4uXG4gICAqL1xuICBnZXRQYXJlbnQoc3VjY2Vzc0NhbGxiYWNrOiBEaXJlY3RvcnlFbnRyeUNhbGxiYWNrLCBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFjayk6IHZvaWQ7XG59XG5cbi8qKlxuICogVGhpcyBleHBvcnQgaW50ZXJmYWNlIHJlcHJlc2VudHMgYSBkaXJlY3Rvcnkgb24gYSBmaWxlIHN5c3RlbS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEaXJlY3RvcnlFbnRyeSBleHRlbmRzIEVudHJ5IHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgRGlyZWN0b3J5UmVhZGVyIHRvIHJlYWQgRW50cmllcyBmcm9tIHRoaXMgRGlyZWN0b3J5LlxuICAgKi9cbiAgY3JlYXRlUmVhZGVyKCk6IERpcmVjdG9yeVJlYWRlcjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBvciBsb29rcyB1cCBhIGZpbGUuXG4gICAqIEBwYXJhbSBwYXRoIEVpdGhlciBhbiBhYnNvbHV0ZSBwYXRoIG9yIGEgcmVsYXRpdmUgcGF0aCBmcm9tIHRoaXMgRGlyZWN0b3J5RW50cnkgdG8gdGhlIGZpbGUgdG8gYmUgbG9va2VkIHVwIG9yXG4gICAqICAgY3JlYXRlZC4gSXQgaXMgYW4gZXJyb3IgdG8gYXR0ZW1wdCB0byBjcmVhdGUgYSBmaWxlIHdob3NlIGltbWVkaWF0ZSBwYXJlbnQgZG9lcyBub3QgeWV0IGV4aXN0LlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiAgICAgPHVsPlxuICAgKiAgICAgPGxpPklmIGNyZWF0ZSBhbmQgZXhjbHVzaXZlIGFyZSBib3RoIHRydWUsIGFuZCB0aGUgcGF0aCBhbHJlYWR5IGV4aXN0cywgZ2V0RmlsZSBtdXN0IGZhaWwuPC9saT5cbiAgICogICAgIDxsaT5JZiBjcmVhdGUgaXMgdHJ1ZSwgdGhlIHBhdGggZG9lc24ndCBleGlzdCwgYW5kIG5vIG90aGVyIGVycm9yIG9jY3VycywgZ2V0RmlsZSBtdXN0IGNyZWF0ZSBpdCBhcyBhXG4gICAqICAgemVyby1sZW5ndGggZmlsZSBhbmQgcmV0dXJuIGEgY29ycmVzcG9uZGluZyBGaWxlRW50cnkuPC9saT5cbiAgICogICAgIDxsaT5JZiBjcmVhdGUgaXMgbm90IHRydWUgYW5kIHRoZSBwYXRoIGRvZXNuJ3QgZXhpc3QsIGdldEZpbGUgbXVzdCBmYWlsLjwvbGk+XG4gICAqICAgICA8bGk+SWYgY3JlYXRlIGlzIG5vdCB0cnVlIGFuZCB0aGUgcGF0aCBleGlzdHMsIGJ1dCBpcyBhIGRpcmVjdG9yeSwgZ2V0RmlsZSBtdXN0IGZhaWwuPC9saT5cbiAgICogICAgIDxsaT5PdGhlcndpc2UsIGlmIG5vIG90aGVyIGVycm9yIG9jY3VycywgZ2V0RmlsZSBtdXN0IHJldHVybiBhIEZpbGVFbnRyeSBjb3JyZXNwb25kaW5nIHRvIHBhdGguPC9saT5cbiAgICogICAgIDwvdWw+XG4gICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2sgQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB0byByZXR1cm4gdGhlIEZpbGUgc2VsZWN0ZWQgb3IgY3JlYXRlZC5cbiAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sgQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVycm9ycyBoYXBwZW4uXG4gICAqL1xuICBnZXRGaWxlKHBhdGg6IHN0cmluZywgb3B0aW9ucz86IEZsYWdzLCBzdWNjZXNzQ2FsbGJhY2s/OiBGaWxlRW50cnlDYWxsYmFjaywgZXJyb3JDYWxsYmFjaz86IEVycm9yQ2FsbGJhY2spOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIG9yIGxvb2tzIHVwIGEgZGlyZWN0b3J5LlxuICAgKiBAcGFyYW0gcGF0aCBFaXRoZXIgYW4gYWJzb2x1dGUgcGF0aCBvciBhIHJlbGF0aXZlIHBhdGggZnJvbSB0aGlzIERpcmVjdG9yeUVudHJ5IHRvIHRoZSBkaXJlY3RvcnkgdG8gYmUgbG9va2VkIHVwXG4gICAqICAgb3IgY3JlYXRlZC4gSXQgaXMgYW4gZXJyb3IgdG8gYXR0ZW1wdCB0byBjcmVhdGUgYSBkaXJlY3Rvcnkgd2hvc2UgaW1tZWRpYXRlIHBhcmVudCBkb2VzIG5vdCB5ZXQgZXhpc3QuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqICAgICA8dWw+XG4gICAqICAgICA8bGk+SWYgY3JlYXRlIGFuZCBleGNsdXNpdmUgYXJlIGJvdGggdHJ1ZSBhbmQgdGhlIHBhdGggYWxyZWFkeSBleGlzdHMsIGdldERpcmVjdG9yeSBtdXN0IGZhaWwuPC9saT5cbiAgICogICAgIDxsaT5JZiBjcmVhdGUgaXMgdHJ1ZSwgdGhlIHBhdGggZG9lc24ndCBleGlzdCwgYW5kIG5vIG90aGVyIGVycm9yIG9jY3VycywgZ2V0RGlyZWN0b3J5IG11c3QgY3JlYXRlIGFuZCByZXR1cm5cbiAgICogICBhIGNvcnJlc3BvbmRpbmcgRGlyZWN0b3J5RW50cnkuPC9saT5cbiAgICogICAgIDxsaT5JZiBjcmVhdGUgaXMgbm90IHRydWUgYW5kIHRoZSBwYXRoIGRvZXNuJ3QgZXhpc3QsIGdldERpcmVjdG9yeSBtdXN0IGZhaWwuPC9saT5cbiAgICogICAgIDxsaT5JZiBjcmVhdGUgaXMgbm90IHRydWUgYW5kIHRoZSBwYXRoIGV4aXN0cywgYnV0IGlzIGEgZmlsZSwgZ2V0RGlyZWN0b3J5IG11c3QgZmFpbC48L2xpPlxuICAgKiAgICAgPGxpPk90aGVyd2lzZSwgaWYgbm8gb3RoZXIgZXJyb3Igb2NjdXJzLCBnZXREaXJlY3RvcnkgbXVzdCByZXR1cm4gYSBEaXJlY3RvcnlFbnRyeSBjb3JyZXNwb25kaW5nIHRvIHBhdGguPC9saT5cbiAgICogICAgIDwvdWw+XG4gICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2sgICBBIGNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHRvIHJldHVybiB0aGUgRGlyZWN0b3J5RW50cnkgc2VsZWN0ZWQgb3IgY3JlYXRlZC5cbiAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sgQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVycm9ycyBoYXBwZW4uXG4gICAqXG4gICAqL1xuICBnZXREaXJlY3RvcnkoXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBGbGFncyxcbiAgICBzdWNjZXNzQ2FsbGJhY2s/OiBEaXJlY3RvcnlFbnRyeUNhbGxiYWNrLFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYSBkaXJlY3RvcnkgYW5kIGFsbCBvZiBpdHMgY29udGVudHMsIGlmIGFueS4gSW4gdGhlIGV2ZW50IG9mIGFuIGVycm9yIFtlLmcuIHRyeWluZyB0byBkZWxldGUgYSBkaXJlY3RvcnlcbiAgICogdGhhdCBjb250YWlucyBhIGZpbGUgdGhhdCBjYW5ub3QgYmUgcmVtb3ZlZF0sIHNvbWUgb2YgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RvcnkgbWF5IGJlIGRlbGV0ZWQuIEl0IGlzIGFuIGVycm9yXG4gICAqIHRvIGF0dGVtcHQgdG8gZGVsZXRlIHRoZSByb290IGRpcmVjdG9yeSBvZiBhIGZpbGVzeXN0ZW0uXG4gICAqIEBwYXJhbSBzdWNjZXNzQ2FsbGJhY2sgQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBzdWNjZXNzLlxuICAgKiBAcGFyYW0gZXJyb3JDYWxsYmFjayBBIGNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gZXJyb3JzIGhhcHBlbi5cbiAgICovXG4gIHJlbW92ZVJlY3Vyc2l2ZWx5KHN1Y2Nlc3NDYWxsYmFjazogVm9pZENhbGxiYWNrLCBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFjayk6IHZvaWQ7XG59XG5cbi8qKlxuICogVGhpcyBleHBvcnQgaW50ZXJmYWNlIGxldHMgYSB1c2VyIGxpc3QgZmlsZXMgYW5kIGRpcmVjdG9yaWVzIGluIGEgZGlyZWN0b3J5LiBJZiB0aGVyZSBhcmUgbm8gYWRkaXRpb25zIHRvIG9yXG4gKiBkZWxldGlvbnMgZnJvbSBhIGRpcmVjdG9yeSBiZXR3ZWVuIHRoZSBmaXJzdCBhbmQgbGFzdCBjYWxsIHRvIHJlYWRFbnRyaWVzLCBhbmQgbm8gZXJyb3JzIG9jY3VyLCB0aGVuOlxuICogPHVsPlxuICogPGxpPiBBIHNlcmllcyBvZiBjYWxscyB0byByZWFkRW50cmllcyBtdXN0IHJldHVybiBlYWNoIGVudHJ5IGluIHRoZSBkaXJlY3RvcnkgZXhhY3RseSBvbmNlLjwvbGk+XG4gKiA8bGk+IE9uY2UgYWxsIGVudHJpZXMgaGF2ZSBiZWVuIHJldHVybmVkLCB0aGUgbmV4dCBjYWxsIHRvIHJlYWRFbnRyaWVzIG11c3QgcHJvZHVjZSBhbiBlbXB0eSBhcnJheS48L2xpPlxuICogPGxpPiBJZiBub3QgYWxsIGVudHJpZXMgaGF2ZSBiZWVuIHJldHVybmVkLCB0aGUgYXJyYXkgcHJvZHVjZWQgYnkgcmVhZEVudHJpZXMgbXVzdCBub3QgYmUgZW1wdHkuPC9saT5cbiAqIDxsaT4gVGhlIGVudHJpZXMgcHJvZHVjZWQgYnkgcmVhZEVudHJpZXMgbXVzdCBub3QgaW5jbHVkZSB0aGUgZGlyZWN0b3J5IGl0c2VsZiBbXCIuXCJdIG9yIGl0cyBwYXJlbnQgW1wiLi5cIl0uPC9saT5cbiAqIDwvdWw+XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGlyZWN0b3J5UmVhZGVyIHtcbiAgbG9jYWxVUkw6IHN0cmluZztcbiAgaGFzUmVhZEVudHJpZXM6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFJlYWQgdGhlIG5leHQgYmxvY2sgb2YgZW50cmllcyBmcm9tIHRoaXMgZGlyZWN0b3J5LlxuICAgKiBAcGFyYW0gc3VjY2Vzc0NhbGxiYWNrIENhbGxlZCBvbmNlIHBlciBzdWNjZXNzZnVsIGNhbGwgdG8gcmVhZEVudHJpZXMgdG8gZGVsaXZlciB0aGUgbmV4dCBwcmV2aW91c2x5LXVucmVwb3J0ZWRcbiAgICogICBzZXQgb2YgRW50cmllcyBpbiB0aGUgYXNzb2NpYXRlZCBEaXJlY3RvcnkuIElmIGFsbCBFbnRyaWVzIGhhdmUgYWxyZWFkeSBiZWVuIHJldHVybmVkIGZyb20gcHJldmlvdXMgaW52b2NhdGlvbnNcbiAgICogICBvZiByZWFkRW50cmllcywgc3VjY2Vzc0NhbGxiYWNrIG11c3QgYmUgY2FsbGVkIHdpdGggYSB6ZXJvLWxlbmd0aCBhcnJheSBhcyBhbiBhcmd1bWVudC5cbiAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sgQSBjYWxsYmFjayBpbmRpY2F0aW5nIHRoYXQgdGhlcmUgd2FzIGFuIGVycm9yIHJlYWRpbmcgZnJvbSB0aGUgRGlyZWN0b3J5LlxuICAgKi9cbiAgcmVhZEVudHJpZXMoc3VjY2Vzc0NhbGxiYWNrOiBFbnRyaWVzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrKTogdm9pZDtcbn1cblxuLyoqXG4gKiBUaGlzIGV4cG9ydCBpbnRlcmZhY2UgcmVwcmVzZW50cyBhIGZpbGUgb24gYSBmaWxlIHN5c3RlbS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaWxlRW50cnkgZXh0ZW5kcyBFbnRyeSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEZpbGVXcml0ZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBmaWxlIHRoYXQgdGhpcyBGaWxlRW50cnkgcmVwcmVzZW50cy5cbiAgICogQHBhcmFtIHN1Y2Nlc3NDYWxsYmFjayBBIGNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdpdGggdGhlIG5ldyBGaWxlV3JpdGVyLlxuICAgKiBAcGFyYW0gZXJyb3JDYWxsYmFjayBBIGNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gZXJyb3JzIGhhcHBlbi5cbiAgICovXG4gIGNyZWF0ZVdyaXRlcihzdWNjZXNzQ2FsbGJhY2s6IEZpbGVXcml0ZXJDYWxsYmFjaywgZXJyb3JDYWxsYmFjaz86IEVycm9yQ2FsbGJhY2spOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgRmlsZSB0aGF0IHJlcHJlc2VudHMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGZpbGUgdGhhdCB0aGlzIEZpbGVFbnRyeSByZXByZXNlbnRzLlxuICAgKiBAcGFyYW0gc3VjY2Vzc0NhbGxiYWNrIEEgY2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2l0aCB0aGUgRmlsZS5cbiAgICogQHBhcmFtIGVycm9yQ2FsbGJhY2sgQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVycm9ycyBoYXBwZW4uXG4gICAqL1xuICBmaWxlKHN1Y2Nlc3NDYWxsYmFjazogRmlsZUNhbGxiYWNrLCBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFjayk6IHZvaWQ7XG59XG5cbi8qKlxuICogV2hlbiByZXF1ZXN0RmlsZVN5c3RlbSgpIHN1Y2NlZWRzLCB0aGUgZm9sbG93aW5nIGNhbGxiYWNrIGlzIG1hZGUuXG4gKi9cbmV4cG9ydCB0eXBlIEZpbGVTeXN0ZW1DYWxsYmFjayA9IChmaWxlc3lzdGVtOiBGaWxlU3lzdGVtKSA9PiB2b2lkO1xuXG4vKipcbiAqIFRoaXMgZXhwb3J0IGludGVyZmFjZSBpcyB0aGUgY2FsbGJhY2sgdXNlZCB0byBsb29rIHVwIEVudHJ5IG9iamVjdHMuXG4gKi9cbmV4cG9ydCB0eXBlIEVudHJ5Q2FsbGJhY2sgPSAoZW50cnk6IEVudHJ5KSA9PiB2b2lkO1xuXG4vKipcbiAqIFRoaXMgZXhwb3J0IGludGVyZmFjZSBpcyB0aGUgY2FsbGJhY2sgdXNlZCB0byBsb29rIHVwIEZpbGVFbnRyeSBvYmplY3RzLlxuICovXG5leHBvcnQgdHlwZSBGaWxlRW50cnlDYWxsYmFjayA9IChlbnRyeTogRmlsZUVudHJ5KSA9PiB2b2lkO1xuXG4vKipcbiAqIFRoaXMgZXhwb3J0IGludGVyZmFjZSBpcyB0aGUgY2FsbGJhY2sgdXNlZCB0byBsb29rIHVwIERpcmVjdG9yeUVudHJ5IG9iamVjdHMuXG4gKi9cbmV4cG9ydCB0eXBlIERpcmVjdG9yeUVudHJ5Q2FsbGJhY2sgPSAoZW50cnk6IERpcmVjdG9yeUVudHJ5KSA9PiB2b2lkO1xuXG4vKipcbiAqIFdoZW4gcmVhZEVudHJpZXMoKSBzdWNjZWVkcywgdGhlIGZvbGxvd2luZyBjYWxsYmFjayBpcyBtYWRlLlxuICovXG5leHBvcnQgdHlwZSBFbnRyaWVzQ2FsbGJhY2sgPSAoZW50cmllczogRW50cnlbXSkgPT4gdm9pZDtcblxuLyoqXG4gKiBUaGlzIGV4cG9ydCBpbnRlcmZhY2UgaXMgdGhlIGNhbGxiYWNrIHVzZWQgdG8gbG9vayB1cCBmaWxlIGFuZCBkaXJlY3RvcnkgbWV0YWRhdGEuXG4gKi9cbmV4cG9ydCB0eXBlIE1ldGFkYXRhQ2FsbGJhY2sgPSAobWV0YWRhdGE6IE1ldGFkYXRhKSA9PiB2b2lkO1xuXG4vKipcbiAqIFRoaXMgZXhwb3J0IGludGVyZmFjZSBpcyB0aGUgY2FsbGJhY2sgdXNlZCB0byBjcmVhdGUgYSBGaWxlV3JpdGVyLlxuICovXG5leHBvcnQgdHlwZSBGaWxlV3JpdGVyQ2FsbGJhY2sgPSAoZmlsZVdyaXRlcjogRmlsZVdyaXRlcikgPT4gdm9pZDtcblxuLyoqXG4gKiBUaGlzIGV4cG9ydCBpbnRlcmZhY2UgaXMgdGhlIGNhbGxiYWNrIHVzZWQgdG8gb2J0YWluIGEgRmlsZS5cbiAqL1xuZXhwb3J0IHR5cGUgRmlsZUNhbGxiYWNrID0gKGZpbGU6IElGaWxlKSA9PiB2b2lkO1xuXG4vKipcbiAqIFRoaXMgZXhwb3J0IGludGVyZmFjZSBpcyB0aGUgZ2VuZXJpYyBjYWxsYmFjayB1c2VkIHRvIGluZGljYXRlIHN1Y2Nlc3Mgb2YgYW4gYXN5bmNocm9ub3VzIG1ldGhvZC5cbiAqL1xuZXhwb3J0IHR5cGUgVm9pZENhbGxiYWNrID0gKCkgPT4gdm9pZDtcblxuLyoqXG4gKiBXaGVuIGFuIGVycm9yIG9jY3VycywgdGhlIGZvbGxvd2luZyBjYWxsYmFjayBpcyBtYWRlLlxuICovXG5leHBvcnQgdHlwZSBFcnJvckNhbGxiYWNrID0gKGVycjogRmlsZUVycm9yKSA9PiB2b2lkO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlbW92ZVJlc3VsdCB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGZpbGVSZW1vdmVkOiBFbnRyeTtcbn1cblxuLyoqIEBoaWRkZW4gKi9cbmV4cG9ydCBkZWNsYXJlIGNsYXNzIEZpbGVTYXZlciBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgLyoqXG4gICAqIFdoZW4gdGhlIEZpbGVTYXZlciBjb25zdHJ1Y3RvciBpcyBjYWxsZWQsIHRoZSB1c2VyIGFnZW50IG11c3QgcmV0dXJuIGEgbmV3IEZpbGVTYXZlciBvYmplY3Qgd2l0aCByZWFkeVN0YXRlIHNldCB0b1xuICAgKiBJTklULiBUaGlzIGNvbnN0cnVjdG9yIG11c3QgYmUgdmlzaWJsZSB3aGVuIHRoZSBzY3JpcHQncyBnbG9iYWwgb2JqZWN0IGlzIGVpdGhlciBhIFdpbmRvdyBvYmplY3Qgb3IgYW4gb2JqZWN0XG4gICAqIGltcGxlbWVudGluZyB0aGUgV29ya2VyVXRpbHMgaW50ZXJmYWNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YTogQmxvYik7XG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIGFib3J0IG1ldGhvZCBpcyBjYWxsZWQsIHVzZXIgYWdlbnRzIG11c3QgcnVuIHRoZSBzdGVwcyBiZWxvdzpcbiAgICogPG9sPlxuICAgKiA8bGk+IElmIHJlYWR5U3RhdGUgPT0gRE9ORSBvciByZWFkeVN0YXRlID09IElOSVQsIHRlcm1pbmF0ZSB0aGlzIG92ZXJhbGwgc2VyaWVzIG9mIHN0ZXBzIHdpdGhvdXQgZG9pbmcgYW55dGhpbmdcbiAgICogZWxzZS4gPC9saT5cbiAgICogPGxpPiBTZXQgcmVhZHlTdGF0ZSB0byBET05FLiA8L2xpPlxuICAgKiA8bGk+IElmIHRoZXJlIGFyZSBhbnkgdGFza3MgZnJvbSB0aGUgb2JqZWN0J3MgRmlsZVNhdmVyIHRhc2sgc291cmNlIGluIG9uZSBvZiB0aGUgdGFzayBxdWV1ZXMsIHRoZW4gcmVtb3ZlIHRob3NlXG4gICAqIHRhc2tzLiA8L2xpPlxuICAgKiA8bGk+IFRlcm1pbmF0ZSB0aGUgd3JpdGUgYWxnb3JpdGhtIGJlaW5nIHByb2Nlc3NlZC4gPC9saT5cbiAgICogPGxpPiBTZXQgdGhlIGVycm9yIGF0dHJpYnV0ZSB0byBhIERPTUVycm9yIG9iamVjdCBvZiB0eXBlIFwiQWJvcnRFcnJvclwiLiA8L2xpPlxuICAgKiA8bGk+IEZpcmUgYSBwcm9ncmVzcyBldmVudCBjYWxsZWQgYWJvcnQgPC9saT5cbiAgICogPGxpPiBGaXJlIGEgcHJvZ3Jlc3MgZXZlbnQgY2FsbGVkIHdyaXRlIGVuZCA8L2xpPlxuICAgKiA8bGk+IFRlcm1pbmF0ZSB0aGlzIGFsZ29yaXRobS4gPC9saT5cbiAgICogPC9vbD5cbiAgICovXG4gIGFib3J0KCk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBibG9iIGlzIGJlaW5nIHdyaXR0ZW4uXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgSU5JVDogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIG9iamVjdCBoYXMgYmVlbiBjb25zdHJ1Y3RlZCwgYnV0IHRoZXJlIGlzIG5vIHBlbmRpbmcgd3JpdGUuXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgV1JJVElORzogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIGVudGlyZSBCbG9iIGhhcyBiZWVuIHdyaXR0ZW4gdG8gdGhlIGZpbGUsIGFuIGVycm9yIG9jY3VycmVkIGR1cmluZyB0aGUgd3JpdGUsIG9yIHRoZSB3cml0ZSB3YXMgYWJvcnRlZCB1c2luZ1xuICAgKiBhYm9ydCgpLiBUaGUgRmlsZVNhdmVyIGlzIG5vIGxvbmdlciB3cml0aW5nIHRoZSBibG9iLlxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIERPTkU6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBGaWxlU2F2ZXIgb2JqZWN0IGNhbiBiZSBpbiBvbmUgb2YgMyBzdGF0ZXMuIFRoZSByZWFkeVN0YXRlIGF0dHJpYnV0ZSwgb24gZ2V0dGluZywgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnRcbiAgICogc3RhdGUsIHdoaWNoIG11c3QgYmUgb25lIG9mIHRoZSBmb2xsb3dpbmcgdmFsdWVzOlxuICAgKiA8dWw+XG4gICAqIDxsaT5JTklUPC9saT5cbiAgICogPGxpPldSSVRJTkc8L2xpPlxuICAgKiA8bGk+RE9ORTwvbGk+XG4gICAqIDx1bD5cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICByZWFkeVN0YXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgbGFzdCBlcnJvciB0aGF0IG9jY3VycmVkIG9uIHRoZSBGaWxlU2F2ZXIuXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZXJyb3I6IEVycm9yO1xuICAvKipcbiAgICogSGFuZGxlciBmb3Igd3JpdGUgc3RhcnQgZXZlbnRzXG4gICAqL1xuICBvbndyaXRlc3RhcnQ6IChldmVudDogUHJvZ3Jlc3NFdmVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIHByb2dyZXNzIGV2ZW50cy5cbiAgICovXG4gIG9ucHJvZ3Jlc3M6IChldmVudDogUHJvZ3Jlc3NFdmVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIHdyaXRlIGV2ZW50cy5cbiAgICovXG4gIG9ud3JpdGU6IChldmVudDogUHJvZ3Jlc3NFdmVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIGFib3J0IGV2ZW50cy5cbiAgICovXG4gIG9uYWJvcnQ6IChldmVudDogUHJvZ3Jlc3NFdmVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIGVycm9yIGV2ZW50cy5cbiAgICovXG4gIG9uZXJyb3I6IChldmVudDogUHJvZ3Jlc3NFdmVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIHdyaXRlIGVuZCBldmVudHMuXG4gICAqL1xuICBvbndyaXRlZW5kOiAoZXZlbnQ6IFByb2dyZXNzRXZlbnQpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIEZpbGVTYXZlciBjb25zdHJ1Y3RvciBpcyBjYWxsZWQsIHRoZSB1c2VyIGFnZW50IG11c3QgcmV0dXJuIGEgbmV3IEZpbGVTYXZlciBvYmplY3Qgd2l0aCByZWFkeVN0YXRlIHNldCB0b1xuICAgKiBJTklULiBUaGlzIGNvbnN0cnVjdG9yIG11c3QgYmUgdmlzaWJsZSB3aGVuIHRoZSBzY3JpcHQncyBnbG9iYWwgb2JqZWN0IGlzIGVpdGhlciBhIFdpbmRvdyBvYmplY3Qgb3IgYW4gb2JqZWN0XG4gICAqIGltcGxlbWVudGluZyB0aGUgV29ya2VyVXRpbHMgaW50ZXJmYWNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YTogQmxvYik7XG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIGFib3J0IG1ldGhvZCBpcyBjYWxsZWQsIHVzZXIgYWdlbnRzIG11c3QgcnVuIHRoZSBzdGVwcyBiZWxvdzpcbiAgICogPG9sPlxuICAgKiA8bGk+IElmIHJlYWR5U3RhdGUgPT0gRE9ORSBvciByZWFkeVN0YXRlID09IElOSVQsIHRlcm1pbmF0ZSB0aGlzIG92ZXJhbGwgc2VyaWVzIG9mIHN0ZXBzIHdpdGhvdXQgZG9pbmcgYW55dGhpbmdcbiAgICogZWxzZS4gPC9saT5cbiAgICogPGxpPiBTZXQgcmVhZHlTdGF0ZSB0byBET05FLiA8L2xpPlxuICAgKiA8bGk+IElmIHRoZXJlIGFyZSBhbnkgdGFza3MgZnJvbSB0aGUgb2JqZWN0J3MgRmlsZVNhdmVyIHRhc2sgc291cmNlIGluIG9uZSBvZiB0aGUgdGFzayBxdWV1ZXMsIHRoZW4gcmVtb3ZlIHRob3NlXG4gICAqIHRhc2tzLiA8L2xpPlxuICAgKiA8bGk+IFRlcm1pbmF0ZSB0aGUgd3JpdGUgYWxnb3JpdGhtIGJlaW5nIHByb2Nlc3NlZC4gPC9saT5cbiAgICogPGxpPiBTZXQgdGhlIGVycm9yIGF0dHJpYnV0ZSB0byBhIERPTUVycm9yIG9iamVjdCBvZiB0eXBlIFwiQWJvcnRFcnJvclwiLiA8L2xpPlxuICAgKiA8bGk+IEZpcmUgYSBwcm9ncmVzcyBldmVudCBjYWxsZWQgYWJvcnQgPC9saT5cbiAgICogPGxpPiBGaXJlIGEgcHJvZ3Jlc3MgZXZlbnQgY2FsbGVkIHdyaXRlZW5kIDwvbGk+XG4gICAqIDxsaT4gVGVybWluYXRlIHRoaXMgYWxnb3JpdGhtLiA8L2xpPlxuICAgKiA8L29sPlxuICAgKi9cbiAgYWJvcnQoKTogdm9pZDtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKiBUaGlzIGludGVyZmFjZSBleHBhbmRzIG9uIHRoZSBGaWxlU2F2ZXIgaW50ZXJmYWNlIHRvIGFsbG93IGZvciBtdWx0aXBsZSB3cml0ZSBhY3Rpb25zLCByYXRoZXIgdGhhbiBqdXN0IHNhdmluZyBhXG4gKiAgIHNpbmdsZSBCbG9iLlxuICovXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBGaWxlV3JpdGVyIGV4dGVuZHMgRmlsZVNhdmVyIHtcbiAgLyoqXG4gICAqIFRoZSBieXRlIG9mZnNldCBhdCB3aGljaCB0aGUgbmV4dCB3cml0ZSB0byB0aGUgZmlsZSB3aWxsIG9jY3VyLiBUaGlzIG11c3QgYmUgbm8gZ3JlYXRlciB0aGFuIGxlbmd0aC5cbiAgICogQSBuZXdseS1jcmVhdGVkIEZpbGVXcml0ZXIgbXVzdCBoYXZlIHBvc2l0aW9uIHNldCB0byAwLlxuICAgKi9cbiAgcG9zaXRpb246IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGxlbmd0aCBvZiB0aGUgZmlsZS4gSWYgdGhlIHVzZXIgZG9lcyBub3QgaGF2ZSByZWFkIGFjY2VzcyB0byB0aGUgZmlsZSwgdGhpcyBtdXN0IGJlIHRoZSBoaWdoZXN0IGJ5dGUgb2Zmc2V0IGF0XG4gICAqIHdoaWNoIHRoZSB1c2VyIGhhcyB3cml0dGVuLlxuICAgKi9cbiAgbGVuZ3RoOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFdyaXRlIHRoZSBzdXBwbGllZCBkYXRhIHRvIHRoZSBmaWxlIGF0IHBvc2l0aW9uLlxuICAgKiBAcGFyYW0gZGF0YSBUaGUgYmxvYiB0byB3cml0ZS5cbiAgICovXG4gIHdyaXRlKGRhdGE6IEFycmF5QnVmZmVyIHwgQmxvYiB8IHN0cmluZyk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFNlZWsgc2V0cyB0aGUgZmlsZSBwb3NpdGlvbiBhdCB3aGljaCB0aGUgbmV4dCB3cml0ZSB3aWxsIG9jY3VyLlxuICAgKiBAcGFyYW0gb2Zmc2V0IElmIG5vbm5lZ2F0aXZlLCBhbiBhYnNvbHV0ZSBieXRlIG9mZnNldCBpbnRvIHRoZSBmaWxlLiBJZiBuZWdhdGl2ZSwgYW4gb2Zmc2V0IGJhY2sgZnJvbSB0aGUgZW5kIG9mXG4gICAqICAgdGhlIGZpbGUuXG4gICAqL1xuICBzZWVrKG9mZnNldDogbnVtYmVyKTogdm9pZDtcblxuICAvKipcbiAgICogQ2hhbmdlcyB0aGUgbGVuZ3RoIG9mIHRoZSBmaWxlIHRvIHRoYXQgc3BlY2lmaWVkLiBJZiBzaG9ydGVuaW5nIHRoZSBmaWxlLCBkYXRhIGJleW9uZCB0aGUgbmV3IGxlbmd0aCBtdXN0IGJlXG4gICAqIGRpc2NhcmRlZC4gSWYgZXh0ZW5kaW5nIHRoZSBmaWxlLCB0aGUgZXhpc3RpbmcgZGF0YSBtdXN0IGJlIHplcm8tcGFkZGVkIHVwIHRvIHRoZSBuZXcgbGVuZ3RoLlxuICAgKiBAcGFyYW0gc2l6ZSBUaGUgc2l6ZSB0byB3aGljaCB0aGUgbGVuZ3RoIG9mIHRoZSBmaWxlIGlzIHRvIGJlIGFkanVzdGVkLCBtZWFzdXJlZCBpbiBieXRlcy5cbiAgICovXG4gIHRydW5jYXRlKHNpemU6IG51bWJlcik6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVdyaXRlT3B0aW9ucyB7XG4gIHJlcGxhY2U/OiBib29sZWFuO1xuICBhcHBlbmQ/OiBib29sZWFuO1xuICB0cnVuY2F0ZT86IG51bWJlcjsgLy8gaWYgcHJlc2VudCwgbnVtYmVyIG9mIGJ5dGVzIHRvIHRydW5jYXRlIGZpbGUgdG8gYmVmb3JlIHdyaXRpbmdcbn1cblxuLyoqIEBoaWRkZW4gKi9cbmV4cG9ydCBkZWNsYXJlIGNsYXNzIEZpbGVFcnJvciB7XG4gIHN0YXRpYyBOT1RfRk9VTkRfRVJSOiBudW1iZXI7XG4gIHN0YXRpYyBTRUNVUklUWV9FUlI6IG51bWJlcjtcbiAgc3RhdGljIEFCT1JUX0VSUjogbnVtYmVyO1xuICBzdGF0aWMgTk9UX1JFQURBQkxFX0VSUjogbnVtYmVyO1xuICBzdGF0aWMgRU5DT0RJTkdfRVJSOiBudW1iZXI7XG4gIHN0YXRpYyBOT19NT0RJRklDQVRJT05fQUxMT1dFRF9FUlI6IG51bWJlcjtcbiAgc3RhdGljIElOVkFMSURfU1RBVEVfRVJSOiBudW1iZXI7XG4gIHN0YXRpYyBTWU5UQVhfRVJSOiBudW1iZXI7XG4gIHN0YXRpYyBJTlZBTElEX01PRElGSUNBVElPTl9FUlI6IG51bWJlcjtcbiAgc3RhdGljIFFVT1RBX0VYQ0VFREVEX0VSUjogbnVtYmVyO1xuICBzdGF0aWMgVFlQRV9NSVNNQVRDSF9FUlI6IG51bWJlcjtcbiAgc3RhdGljIFBBVEhfRVhJU1RTX0VSUjogbnVtYmVyO1xuICAvKiogRXJyb3IgY29kZSAqL1xuICBjb2RlOiBudW1iZXI7XG4gIG1lc3NhZ2U6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcihjb2RlOiBudW1iZXIpO1xufVxuXG4vKiogQGhpZGRlbiAqL1xuZXhwb3J0IGRlY2xhcmUgY2xhc3MgRmlsZVJlYWRlciB7XG4gIHN0YXRpYyBFTVBUWTogbnVtYmVyO1xuICBzdGF0aWMgTE9BRElORzogbnVtYmVyO1xuICBzdGF0aWMgRE9ORTogbnVtYmVyO1xuICBzdGF0aWMgUkVBRF9DSFVOS19TSVpFOiBudW1iZXI7XG5cbiAgcmVhZHlTdGF0ZTogbnVtYmVyOyAvLyBzZWUgY29uc3RhbnRzIGluIHZhciBkZWNsYXJhdGlvbiBiZWxvd1xuICBlcnJvcjogRXJyb3I7XG4gIHJlc3VsdDogc3RyaW5nIHwgQXJyYXlCdWZmZXI7IC8vIHR5cGUgZGVwZW5kcyBvbiByZWFkQXNYWFgoKSBjYWxsIHR5cGVcblxuICBvbmxvYWRzdGFydDogKGV2dDogUHJvZ3Jlc3NFdmVudCkgPT4gdm9pZDtcbiAgb25wcm9ncmVzczogKGV2dDogUHJvZ3Jlc3NFdmVudCkgPT4gdm9pZDtcbiAgb25sb2FkOiAoZXZ0OiBQcm9ncmVzc0V2ZW50KSA9PiB2b2lkO1xuICBvbmVycm9yOiAoZXZ0OiBQcm9ncmVzc0V2ZW50KSA9PiB2b2lkO1xuICBvbmxvYWRlbmQ6IChldnQ6IFByb2dyZXNzRXZlbnQpID0+IHZvaWQ7XG4gIG9uYWJvcnQ6IChldnQ6IFByb2dyZXNzRXZlbnQpID0+IHZvaWQ7XG5cbiAgYWJvcnQoKTogdm9pZDtcblxuICByZWFkQXNUZXh0KGZlOiBJRmlsZSwgZW5jb2Rpbmc/OiBzdHJpbmcpOiB2b2lkO1xuXG4gIHJlYWRBc0RhdGFVUkwoZmU6IElGaWxlKTogdm9pZDtcblxuICByZWFkQXNCaW5hcnlTdHJpbmcoZmU6IElGaWxlKTogdm9pZDtcblxuICByZWFkQXNBcnJheUJ1ZmZlcihmZTogSUZpbGUpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbmludGVyZmFjZSBXaW5kb3cgZXh0ZW5kcyBMb2NhbEZpbGVTeXN0ZW0ge31cblxuZGVjbGFyZSBjb25zdCB3aW5kb3c6IFdpbmRvdztcblxuLyoqXG4gKiBAbmFtZSBGaWxlXG4gKiBAcHJlbWllciBmaWxlc3lzdGVtXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgcGx1Z2luIGltcGxlbWVudHMgYSBGaWxlIEFQSSBhbGxvd2luZyByZWFkL3dyaXRlIGFjY2VzcyB0byBmaWxlcyByZXNpZGluZyBvbiB0aGUgZGV2aWNlLlxuICpcbiAqIFRoZSBGaWxlIGNsYXNzIGltcGxlbWVudHMgc3RhdGljIGNvbnZlbmllbmNlIGZ1bmN0aW9ucyB0byBhY2Nlc3MgZmlsZXMgYW5kIGRpcmVjdG9yaWVzLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIGltcG9ydCB7IEZpbGUgfSBmcm9tICdAaW9uaWMtbmF0aXZlL2ZpbGUvbmd4JztcbiAqXG4gKiBjb25zdHJ1Y3Rvcihwcml2YXRlIGZpbGU6IEZpbGUpIHsgfVxuICpcbiAqIC4uLlxuICpcbiAqIHRoaXMuZmlsZS5jaGVja0Rpcih0aGlzLmZpbGUuZGF0YURpcmVjdG9yeSwgJ215ZGlyJykudGhlbihfID0+IGNvbnNvbGUubG9nKCdEaXJlY3RvcnkgZXhpc3RzJykpLmNhdGNoKGVyciA9PlxuICogICBjb25zb2xlLmxvZygnRGlyZWN0b3J5IGRvZXNuJ3QgZXhpc3QnKSk7XG4gKlxuICogYGBgXG4gKlxuICogIFRoaXMgcGx1Z2luIGlzIGJhc2VkIG9uIHNldmVyYWwgc3BlY3MsIGluY2x1ZGluZyA6IFRoZSBIVE1MNSBGaWxlIEFQSSBodHRwOiAvL3d3dy53My5vcmcvVFIvRmlsZUFQSS9cbiAqICBUaGUgKG5vdy1kZWZ1bmN0KSBEaXJlY3RvcmllcyBhbmQgU3lzdGVtIGV4dGVuc2lvbnMgTGF0ZXN0OiBodHRwOiAvL3d3dy53My5vcmcvVFIvMjAxMi9XRC1maWxlLXN5c3RlbS1hcGktMjAxMjA0MTcvXG4gKiAgQWx0aG91Z2ggbW9zdCBvZiB0aGUgcGx1Z2luIGNvZGUgd2FzIHdyaXR0ZW4gd2hlbiBhbiBlYXJsaWVyIHNwZWMgd2FzIGN1cnJlbnQ6IGh0dHA6XG4gKiAgIC8vd3d3LnczLm9yZy9UUi8yMDExL1dELWZpbGUtc3lzdGVtLWFwaS0yMDExMDQxOS8gSXQgYWxzbyBpbXBsZW1lbnRzIHRoZSBGaWxlV3JpdGVyIHNwZWMgOiBodHRwOlxuICogICAvL2Rldi53My5vcmcvMjAwOS9kYXAvZmlsZS1zeXN0ZW0vZmlsZS13cml0ZXIuaHRtbFxuICogIEBpbnRlcmZhY2VzXG4gKiAgSUZpbGVcbiAqICBFbnRyeVxuICogIERpcmVjdG9yeUVudHJ5XG4gKiAgRGlyZWN0b3J5UmVhZGVyXG4gKiAgRmlsZVN5c3RlbVxuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ0ZpbGUnLFxuICBwbHVnaW46ICdjb3Jkb3ZhLXBsdWdpbi1maWxlJyxcbiAgcGx1Z2luUmVmOiAnY29yZG92YS5maWxlJyxcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9hcGFjaGUvY29yZG92YS1wbHVnaW4tZmlsZScsXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ0Jyb3dzZXInLCAnaU9TJywgJ21hY09TJywgJ1dpbmRvd3MnXSxcbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRmlsZSBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcbiAgLyoqXG4gICAqICBSZWFkLW9ubHkgZGlyZWN0b3J5IHdoZXJlIHRoZSBhcHBsaWNhdGlvbiBpcyBpbnN0YWxsZWQuXG4gICAqL1xuICBAQ29yZG92YVByb3BlcnR5KCkgYXBwbGljYXRpb25EaXJlY3Rvcnk6IHN0cmluZztcblxuICAvKipcbiAgICogIFJlYWQtb25seSBkaXJlY3Rvcnkgd2hlcmUgdGhlIGFwcGxpY2F0aW9uIGlzIGluc3RhbGxlZC5cbiAgICovXG4gIEBDb3Jkb3ZhUHJvcGVydHkoKSBhcHBsaWNhdGlvblN0b3JhZ2VEaXJlY3Rvcnk6IHN0cmluZztcblxuICAvKipcbiAgICogV2hlcmUgdG8gcHV0IGFwcC1zcGVjaWZpYyBkYXRhIGZpbGVzLlxuICAgKi9cbiAgQENvcmRvdmFQcm9wZXJ0eSgpIGRhdGFEaXJlY3Rvcnk6IHN0cmluZztcblxuICAvKipcbiAgICogQ2FjaGVkIGZpbGVzIHRoYXQgc2hvdWxkIHN1cnZpdmUgYXBwIHJlc3RhcnRzLlxuICAgKiBBcHBzIHNob3VsZCBub3QgcmVseSBvbiB0aGUgT1MgdG8gZGVsZXRlIGZpbGVzIGluIGhlcmUuXG4gICAqL1xuICBAQ29yZG92YVByb3BlcnR5KCkgY2FjaGVEaXJlY3Rvcnk6IHN0cmluZztcblxuICAvKipcbiAgICogQW5kcm9pZDogdGhlIGFwcGxpY2F0aW9uIHNwYWNlIG9uIGV4dGVybmFsIHN0b3JhZ2UuXG4gICAqL1xuICBAQ29yZG92YVByb3BlcnR5KCkgZXh0ZXJuYWxBcHBsaWNhdGlvblN0b3JhZ2VEaXJlY3Rvcnk6IHN0cmluZztcblxuICAvKipcbiAgICogIEFuZHJvaWQ6IFdoZXJlIHRvIHB1dCBhcHAtc3BlY2lmaWMgZGF0YSBmaWxlcyBvbiBleHRlcm5hbCBzdG9yYWdlLlxuICAgKi9cbiAgQENvcmRvdmFQcm9wZXJ0eSgpIGV4dGVybmFsRGF0YURpcmVjdG9yeTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBbmRyb2lkOiB0aGUgYXBwbGljYXRpb24gY2FjaGUgb24gZXh0ZXJuYWwgc3RvcmFnZS5cbiAgICovXG4gIEBDb3Jkb3ZhUHJvcGVydHkoKSBleHRlcm5hbENhY2hlRGlyZWN0b3J5OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFuZHJvaWQ6IHRoZSBleHRlcm5hbCBzdG9yYWdlIChTRCBjYXJkKSByb290LlxuICAgKi9cbiAgQENvcmRvdmFQcm9wZXJ0eSgpIGV4dGVybmFsUm9vdERpcmVjdG9yeTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBpT1M6IFRlbXAgZGlyZWN0b3J5IHRoYXQgdGhlIE9TIGNhbiBjbGVhciBhdCB3aWxsLlxuICAgKi9cbiAgQENvcmRvdmFQcm9wZXJ0eSgpIHRlbXBEaXJlY3Rvcnk6IHN0cmluZztcblxuICAvKipcbiAgICogaU9TOiBIb2xkcyBhcHAtc3BlY2lmaWMgZmlsZXMgdGhhdCBzaG91bGQgYmUgc3luY2VkIChlLmcuIHRvIGlDbG91ZCkuXG4gICAqL1xuICBAQ29yZG92YVByb3BlcnR5KCkgc3luY2VkRGF0YURpcmVjdG9yeTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBpT1M6IEZpbGVzIHByaXZhdGUgdG8gdGhlIGFwcCwgYnV0IHRoYXQgYXJlIG1lYW5pbmdmdWwgdG8gb3RoZXIgYXBwbGljYXRpb25zIChlLmcuIE9mZmljZSBmaWxlcylcbiAgICovXG4gIEBDb3Jkb3ZhUHJvcGVydHkoKSBkb2N1bWVudHNEaXJlY3Rvcnk6IHN0cmluZztcblxuICAvKipcbiAgICogQmxhY2tCZXJyeTEwOiBGaWxlcyBnbG9iYWxseSBhdmFpbGFibGUgdG8gYWxsIGFwcHNcbiAgICovXG4gIEBDb3Jkb3ZhUHJvcGVydHkoKSBzaGFyZWREaXJlY3Rvcnk6IHN0cmluZztcblxuICBjb3Jkb3ZhRmlsZUVycm9yOiBhbnkgPSB7XG4gICAgMTogJ05PVF9GT1VORF9FUlInLFxuICAgIDI6ICdTRUNVUklUWV9FUlInLFxuICAgIDM6ICdBQk9SVF9FUlInLFxuICAgIDQ6ICdOT1RfUkVBREFCTEVfRVJSJyxcbiAgICA1OiAnRU5DT0RJTkdfRVJSJyxcbiAgICA2OiAnTk9fTU9ESUZJQ0FUSU9OX0FMTE9XRURfRVJSJyxcbiAgICA3OiAnSU5WQUxJRF9TVEFURV9FUlInLFxuICAgIDg6ICdTWU5UQVhfRVJSJyxcbiAgICA5OiAnSU5WQUxJRF9NT0RJRklDQVRJT05fRVJSJyxcbiAgICAxMDogJ1FVT1RBX0VYQ0VFREVEX0VSUicsXG4gICAgMTE6ICdUWVBFX01JU01BVENIX0VSUicsXG4gICAgMTI6ICdQQVRIX0VYSVNUU19FUlInLFxuICAgIDEzOiAnV1JPTkdfRU5UUllfVFlQRScsXG4gICAgMTQ6ICdESVJfUkVBRF9FUlInLFxuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgZnJlZSBkaXNrIHNwYWNlIGluIEJ5dGVzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcj59IFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcmVtYWluaW5nIGZyZWUgZGlzayBzcGFjZSBpbiBCeXRlc1xuICAgKi9cbiAgQENvcmRvdmFDaGVjaygpXG4gIGdldEZyZWVEaXNrU3BhY2UoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICByZXR1cm4gZ2V0UHJvbWlzZTxhbnk+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvcmRvdmEuZXhlYyhyZXNvbHZlIGFzIChkYXRhOiBhbnkpID0+IGFueSwgcmVqZWN0IGFzIChkYXRhOiBhbnkpID0+IGFueSwgJ0ZpbGUnLCAnZ2V0RnJlZURpc2tTcGFjZScsIFtdKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGRpcmVjdG9yeSBleGlzdHMgaW4gYSBjZXJ0YWluIHBhdGgsIGRpcmVjdG9yeS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggQmFzZSBGaWxlU3lzdGVtLiBQbGVhc2UgcmVmZXIgdG8gdGhlIGlPUyBhbmQgQW5kcm9pZCBmaWxlc3lzdGVtIGFib3ZlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkaXIgTmFtZSBvZiBkaXJlY3RvcnkgdG8gY2hlY2tcbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdHJ1ZSBpZiB0aGUgZGlyZWN0b3J5IGV4aXN0cyBvciByZWplY3RzIHdpdGggYW5cbiAgICogICBlcnJvci5cbiAgICovXG4gIEBDb3Jkb3ZhQ2hlY2soKVxuICBjaGVja0RpcihwYXRoOiBzdHJpbmcsIGRpcjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgaWYgKC9eXFwvLy50ZXN0KGRpcikpIHtcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBGaWxlRXJyb3IoNSk7XG4gICAgICBlcnIubWVzc2FnZSA9ICdkaXJlY3RvcnkgY2Fubm90IHN0YXJ0IHdpdGggLyc7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Q8YW55PihlcnIpO1xuICAgIH1cblxuICAgIGNvbnN0IGZ1bGxQYXRoID0gcGF0aCArIGRpcjtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlRGlyZWN0b3J5VXJsKGZ1bGxQYXRoKS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgZGlyZWN0b3J5IGluIHRoZSBzcGVjaWZpYyBwYXRoLlxuICAgKiBUaGUgcmVwbGFjZSBib29sZWFuIHZhbHVlIGRldGVybWluZXMgd2hldGhlciB0byByZXBsYWNlIGFuIGV4aXN0aW5nIGRpcmVjdG9yeSB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gICAqIElmIGFuIGV4aXN0aW5nIGRpcmVjdG9yeSBleGlzdHMgYW5kIHRoZSByZXBsYWNlIHZhbHVlIGlzIGZhbHNlLCB0aGUgcHJvbWlzZSB3aWxsIGZhaWwgYW5kIHJldHVybiBhbiBlcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggIEJhc2UgRmlsZVN5c3RlbS4gUGxlYXNlIHJlZmVyIHRvIHRoZSBpT1MgYW5kIEFuZHJvaWQgZmlsZXN5c3RlbSBhYm92ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyTmFtZSBOYW1lIG9mIGRpcmVjdG9yeSB0byBjcmVhdGVcbiAgICogQHBhcmFtIHtib29sZWFufSByZXBsYWNlIElmIHRydWUsIHJlcGxhY2VzIGZpbGUgd2l0aCBzYW1lIG5hbWUuIElmIGZhbHNlIHJldHVybnMgZXJyb3JcbiAgICogQHJldHVybnMge1Byb21pc2U8RGlyZWN0b3J5RW50cnk+fSBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBEaXJlY3RvcnlFbnRyeSBvciByZWplY3RzIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YUNoZWNrKClcbiAgY3JlYXRlRGlyKHBhdGg6IHN0cmluZywgZGlyTmFtZTogc3RyaW5nLCByZXBsYWNlOiBib29sZWFuKTogUHJvbWlzZTxEaXJlY3RvcnlFbnRyeT4ge1xuICAgIGlmICgvXlxcLy8udGVzdChkaXJOYW1lKSkge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEZpbGVFcnJvcig1KTtcbiAgICAgIGVyci5tZXNzYWdlID0gJ2RpcmVjdG9yeSBjYW5ub3Qgc3RhcnQgd2l0aCAvJztcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdDxhbnk+KGVycik7XG4gICAgfVxuXG4gICAgY29uc3Qgb3B0aW9uczogRmxhZ3MgPSB7XG4gICAgICBjcmVhdGU6IHRydWUsXG4gICAgfTtcblxuICAgIGlmICghcmVwbGFjZSkge1xuICAgICAgb3B0aW9ucy5leGNsdXNpdmUgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlc29sdmVEaXJlY3RvcnlVcmwocGF0aCkudGhlbihmc2UgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RGlyZWN0b3J5KGZzZSwgZGlyTmFtZSwgb3B0aW9ucyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgZGlyZWN0b3J5IGF0IGEgZ2l2ZW4gcGF0aC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gdGhlIGRpcmVjdG9yeVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyTmFtZSBUaGUgZGlyZWN0b3J5IG5hbWVcbiAgICogQHJldHVybnMge1Byb21pc2U8UmVtb3ZlUmVzdWx0Pn0gUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIFJlbW92ZVJlc3VsdCBvciByZWplY3RzIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YUNoZWNrKClcbiAgcmVtb3ZlRGlyKHBhdGg6IHN0cmluZywgZGlyTmFtZTogc3RyaW5nKTogUHJvbWlzZTxSZW1vdmVSZXN1bHQ+IHtcbiAgICBpZiAoL15cXC8vLnRlc3QoZGlyTmFtZSkpIHtcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBGaWxlRXJyb3IoNSk7XG4gICAgICBlcnIubWVzc2FnZSA9ICdkaXJlY3RvcnkgY2Fubm90IHN0YXJ0IHdpdGggLyc7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Q8YW55PihlcnIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlc29sdmVEaXJlY3RvcnlVcmwocGF0aClcbiAgICAgIC50aGVuKGZzZSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERpcmVjdG9yeShmc2UsIGRpck5hbWUsIHsgY3JlYXRlOiBmYWxzZSB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbihkZSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZShkZSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIGEgZGlyZWN0b3J5IHRvIGEgZ2l2ZW4gcGF0aC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHNvdXJjZSBwYXRoIHRvIHRoZSBkaXJlY3RvcnlcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRpck5hbWUgVGhlIHNvdXJjZSBkaXJlY3RvcnkgbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3UGF0aCBUaGUgZGVzdGluYXRpb24gcGF0aCB0byB0aGUgZGlyZWN0b3J5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdEaXJOYW1lIFRoZSBkZXN0aW5hdGlvbiBkaXJlY3RvcnkgbmFtZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxEaXJlY3RvcnlFbnRyeXxFbnRyeT59IFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG5ldyBEaXJlY3RvcnlFbnRyeSBvYmplY3Qgb3JcbiAgICogICByZWplY3RzIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YUNoZWNrKClcbiAgbW92ZURpcihwYXRoOiBzdHJpbmcsIGRpck5hbWU6IHN0cmluZywgbmV3UGF0aDogc3RyaW5nLCBuZXdEaXJOYW1lOiBzdHJpbmcpOiBQcm9taXNlPERpcmVjdG9yeUVudHJ5IHwgRW50cnk+IHtcbiAgICBuZXdEaXJOYW1lID0gbmV3RGlyTmFtZSB8fCBkaXJOYW1lO1xuXG4gICAgaWYgKC9eXFwvLy50ZXN0KG5ld0Rpck5hbWUpKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRmlsZUVycm9yKDUpO1xuICAgICAgZXJyLm1lc3NhZ2UgPSAnZGlyZWN0b3J5IGNhbm5vdCBzdGFydCB3aXRoIC8nO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0PGFueT4oZXJyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlRGlyZWN0b3J5VXJsKHBhdGgpXG4gICAgICAudGhlbihmc2UgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREaXJlY3RvcnkoZnNlLCBkaXJOYW1lLCB7IGNyZWF0ZTogZmFsc2UgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oc3JjZGUgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlRGlyZWN0b3J5VXJsKG5ld1BhdGgpLnRoZW4oZGVzdGVuYXRpb24gPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLm1vdmUoc3JjZGUsIGRlc3RlbmF0aW9uLCBuZXdEaXJOYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3B5IGEgZGlyZWN0b3J5IGluIHZhcmlvdXMgbWV0aG9kcy4gSWYgZGVzdGluYXRpb24gZGlyZWN0b3J5IGV4aXN0cywgd2lsbCBmYWlsIHRvIGNvcHkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIEJhc2UgRmlsZVN5c3RlbS4gUGxlYXNlIHJlZmVyIHRvIHRoZSBpT1MgYW5kIEFuZHJvaWQgZmlsZXN5c3RlbXMgYWJvdmVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRpck5hbWUgTmFtZSBvZiBkaXJlY3RvcnkgdG8gY29weVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3UGF0aCBCYXNlIEZpbGVTeXN0ZW0gb2YgbmV3IGxvY2F0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdEaXJOYW1lIE5ldyBuYW1lIG9mIGRpcmVjdG9yeSB0byBjb3B5IHRvIChsZWF2ZSBibGFuayB0byByZW1haW4gdGhlIHNhbWUpXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEVudHJ5Pn0gUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgbmV3IEVudHJ5IG9iamVjdCBvciByZWplY3RzIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YUNoZWNrKClcbiAgY29weURpcihwYXRoOiBzdHJpbmcsIGRpck5hbWU6IHN0cmluZywgbmV3UGF0aDogc3RyaW5nLCBuZXdEaXJOYW1lOiBzdHJpbmcpOiBQcm9taXNlPEVudHJ5PiB7XG4gICAgaWYgKC9eXFwvLy50ZXN0KG5ld0Rpck5hbWUpKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRmlsZUVycm9yKDUpO1xuICAgICAgZXJyLm1lc3NhZ2UgPSAnZGlyZWN0b3J5IGNhbm5vdCBzdGFydCB3aXRoIC8nO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0PGFueT4oZXJyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlRGlyZWN0b3J5VXJsKHBhdGgpXG4gICAgICAudGhlbihmc2UgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREaXJlY3RvcnkoZnNlLCBkaXJOYW1lLCB7IGNyZWF0ZTogZmFsc2UgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oc3JjZGUgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlRGlyZWN0b3J5VXJsKG5ld1BhdGgpLnRoZW4oZGVzdGUgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvcHkoc3JjZGUsIGRlc3RlLCBuZXdEaXJOYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0IGZpbGVzIGFuZCBkaXJlY3RvcnkgZnJvbSBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIEJhc2UgRmlsZVN5c3RlbS4gUGxlYXNlIHJlZmVyIHRvIHRoZSBpT1MgYW5kIEFuZHJvaWQgZmlsZXN5c3RlbXMgYWJvdmVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRpck5hbWUgTmFtZSBvZiBkaXJlY3RvcnlcbiAgICogQHJldHVybnMge1Byb21pc2U8RW50cnlbXT59IFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2YgRW50cnkgb2JqZWN0cyBvciByZWplY3RzIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YUNoZWNrKClcbiAgbGlzdERpcihwYXRoOiBzdHJpbmcsIGRpck5hbWU6IHN0cmluZyk6IFByb21pc2U8RW50cnlbXT4ge1xuICAgIGlmICgvXlxcLy8udGVzdChkaXJOYW1lKSkge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEZpbGVFcnJvcig1KTtcbiAgICAgIGVyci5tZXNzYWdlID0gJ2RpcmVjdG9yeSBjYW5ub3Qgc3RhcnQgd2l0aCAvJztcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdDxFbnRyeVtdPihlcnIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlc29sdmVEaXJlY3RvcnlVcmwocGF0aClcbiAgICAgIC50aGVuKGZzZSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERpcmVjdG9yeShmc2UsIGRpck5hbWUsIHtcbiAgICAgICAgICBjcmVhdGU6IGZhbHNlLFxuICAgICAgICAgIGV4Y2x1c2l2ZTogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGRlID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gZGUuY3JlYXRlUmVhZGVyKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRFbnRyaWVzKHJlYWRlcik7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBmaWxlcyBhbmQgdGhlIGRpcmVjdG9yeSBmcm9tIGEgZGVzaXJlZCBsb2NhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggQmFzZSBGaWxlU3lzdGVtLiBQbGVhc2UgcmVmZXIgdG8gdGhlIGlPUyBhbmQgQW5kcm9pZCBmaWxlc3lzdGVtIGFib3ZlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkaXJOYW1lIE5hbWUgb2YgZGlyZWN0b3J5XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFJlbW92ZVJlc3VsdD59IFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIFJlbW92ZVJlc3VsdCBvciByZWplY3RzIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YUNoZWNrKClcbiAgcmVtb3ZlUmVjdXJzaXZlbHkocGF0aDogc3RyaW5nLCBkaXJOYW1lOiBzdHJpbmcpOiBQcm9taXNlPFJlbW92ZVJlc3VsdD4ge1xuICAgIGlmICgvXlxcLy8udGVzdChkaXJOYW1lKSkge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEZpbGVFcnJvcig1KTtcbiAgICAgIGVyci5tZXNzYWdlID0gJ2RpcmVjdG9yeSBjYW5ub3Qgc3RhcnQgd2l0aCAvJztcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdDxSZW1vdmVSZXN1bHQ+KGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVzb2x2ZURpcmVjdG9yeVVybChwYXRoKVxuICAgICAgLnRoZW4oZnNlID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGlyZWN0b3J5KGZzZSwgZGlyTmFtZSwgeyBjcmVhdGU6IGZhbHNlIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGRlID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmltcmFmKGRlKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgZmlsZSBleGlzdHMgaW4gYSBjZXJ0YWluIHBhdGgsIGRpcmVjdG9yeS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggQmFzZSBGaWxlU3lzdGVtLiBQbGVhc2UgcmVmZXIgdG8gdGhlIGlPUyBhbmQgQW5kcm9pZCBmaWxlc3lzdGVtIGFib3ZlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlIE5hbWUgb2YgZmlsZSB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgYm9vbGVhbiBvciByZWplY3RzIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YUNoZWNrKClcbiAgY2hlY2tGaWxlKHBhdGg6IHN0cmluZywgZmlsZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgaWYgKC9eXFwvLy50ZXN0KGZpbGUpKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRmlsZUVycm9yKDUpO1xuICAgICAgZXJyLm1lc3NhZ2UgPSAnZmlsZSBjYW5ub3Qgc3RhcnQgd2l0aCAvJztcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdDxhbnk+KGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVzb2x2ZUxvY2FsRmlsZXN5c3RlbVVybChwYXRoICsgZmlsZSkudGhlbihmc2UgPT4ge1xuICAgICAgaWYgKGZzZS5pc0ZpbGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlcnIgPSBuZXcgRmlsZUVycm9yKDEzKTtcbiAgICAgICAgZXJyLm1lc3NhZ2UgPSAnaW5wdXQgaXMgbm90IGEgZmlsZSc7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdDxib29sZWFuPihlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgZmlsZSBpbiB0aGUgc3BlY2lmaWMgcGF0aC5cbiAgICogVGhlIHJlcGxhY2UgYm9vbGVhbiB2YWx1ZSBkZXRlcm1pbmVzIHdoZXRoZXIgdG8gcmVwbGFjZSBhbiBleGlzdGluZyBmaWxlIHdpdGggdGhlIHNhbWUgbmFtZS5cbiAgICogSWYgYW4gZXhpc3RpbmcgZmlsZSBleGlzdHMgYW5kIHRoZSByZXBsYWNlIHZhbHVlIGlzIGZhbHNlLCB0aGUgcHJvbWlzZSB3aWxsIGZhaWwgYW5kIHJldHVybiBhbiBlcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggIEJhc2UgRmlsZVN5c3RlbS4gUGxlYXNlIHJlZmVyIHRvIHRoZSBpT1MgYW5kIEFuZHJvaWQgZmlsZXN5c3RlbSBhYm92ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZU5hbWUgTmFtZSBvZiBmaWxlIHRvIGNyZWF0ZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlcGxhY2UgSWYgdHJ1ZSwgcmVwbGFjZXMgZmlsZSB3aXRoIHNhbWUgbmFtZS4gSWYgZmFsc2UgcmV0dXJucyBlcnJvclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxGaWxlRW50cnk+fSBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgRmlsZUVudHJ5IG9yIHJlamVjdHMgd2l0aCBhbiBlcnJvci5cbiAgICovXG4gIEBDb3Jkb3ZhQ2hlY2soKVxuICBjcmVhdGVGaWxlKHBhdGg6IHN0cmluZywgZmlsZU5hbWU6IHN0cmluZywgcmVwbGFjZTogYm9vbGVhbik6IFByb21pc2U8RmlsZUVudHJ5PiB7XG4gICAgaWYgKC9eXFwvLy50ZXN0KGZpbGVOYW1lKSkge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEZpbGVFcnJvcig1KTtcbiAgICAgIGVyci5tZXNzYWdlID0gJ2ZpbGUtbmFtZSBjYW5ub3Qgc3RhcnQgd2l0aCAvJztcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdDxhbnk+KGVycik7XG4gICAgfVxuXG4gICAgY29uc3Qgb3B0aW9uczogRmxhZ3MgPSB7XG4gICAgICBjcmVhdGU6IHRydWUsXG4gICAgfTtcblxuICAgIGlmICghcmVwbGFjZSkge1xuICAgICAgb3B0aW9ucy5leGNsdXNpdmUgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlc29sdmVEaXJlY3RvcnlVcmwocGF0aCkudGhlbihmc2UgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RmlsZShmc2UsIGZpbGVOYW1lLCBvcHRpb25zKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgZmlsZSBmcm9tIGEgZGVzaXJlZCBsb2NhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggIEJhc2UgRmlsZVN5c3RlbS4gUGxlYXNlIHJlZmVyIHRvIHRoZSBpT1MgYW5kIEFuZHJvaWQgZmlsZXN5c3RlbSBhYm92ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZU5hbWUgTmFtZSBvZiBmaWxlIHRvIHJlbW92ZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxSZW1vdmVSZXN1bHQ+fSBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgUmVtb3ZlUmVzdWx0IG9yIHJlamVjdHMgd2l0aCBhbiBlcnJvci5cbiAgICovXG4gIEBDb3Jkb3ZhQ2hlY2soKVxuICByZW1vdmVGaWxlKHBhdGg6IHN0cmluZywgZmlsZU5hbWU6IHN0cmluZyk6IFByb21pc2U8UmVtb3ZlUmVzdWx0PiB7XG4gICAgaWYgKC9eXFwvLy50ZXN0KGZpbGVOYW1lKSkge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEZpbGVFcnJvcig1KTtcbiAgICAgIGVyci5tZXNzYWdlID0gJ2ZpbGUtbmFtZSBjYW5ub3Qgc3RhcnQgd2l0aCAvJztcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdDxhbnk+KGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVzb2x2ZURpcmVjdG9yeVVybChwYXRoKVxuICAgICAgLnRoZW4oZnNlID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmlsZShmc2UsIGZpbGVOYW1lLCB7IGNyZWF0ZTogZmFsc2UgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZmUgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmUoZmUpO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogV3JpdGUgYSBuZXcgZmlsZSB0byB0aGUgZGVzaXJlZCBsb2NhdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggQmFzZSBGaWxlU3lzdGVtLiBQbGVhc2UgcmVmZXIgdG8gdGhlIGlPUyBhbmQgQW5kcm9pZCBmaWxlc3lzdGVtIGFib3ZlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlTmFtZSBwYXRoIHJlbGF0aXZlIHRvIGJhc2UgcGF0aFxuICAgKiBAcGFyYW0ge3N0cmluZyB8IEJsb2IgfCBBcnJheUJ1ZmZlcn0gdGV4dCBjb250ZW50LCBibG9iIG9yIEFycmF5QnVmZmVyIHRvIHdyaXRlXG4gICAqIEBwYXJhbSB7SVdyaXRlT3B0aW9uc30gd2hldGhlciB0byByZXBsYWNlL2FwcGVuZCB0byBhbiBleGlzdGluZyBmaWxlLiBTZWUgSVdyaXRlT3B0aW9ucyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byB1cGRhdGVkIGZpbGUgZW50cnkgb3IgcmVqZWN0cyB3aXRoIGFuIGVycm9yLlxuICAgKi9cbiAgQENvcmRvdmFDaGVjaygpXG4gIHdyaXRlRmlsZShcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgZmlsZU5hbWU6IHN0cmluZyxcbiAgICB0ZXh0OiBzdHJpbmcgfCBCbG9iIHwgQXJyYXlCdWZmZXIsXG4gICAgb3B0aW9uczogSVdyaXRlT3B0aW9ucyA9IHt9XG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgaWYgKC9eXFwvLy50ZXN0KGZpbGVOYW1lKSkge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEZpbGVFcnJvcig1KTtcbiAgICAgIGVyci5tZXNzYWdlID0gJ2ZpbGUtbmFtZSBjYW5ub3Qgc3RhcnQgd2l0aCAvJztcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldEZpbGVPcHRzOiBGbGFncyA9IHtcbiAgICAgIGNyZWF0ZTogIW9wdGlvbnMuYXBwZW5kLFxuICAgICAgZXhjbHVzaXZlOiAhb3B0aW9ucy5yZXBsYWNlLFxuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlRGlyZWN0b3J5VXJsKHBhdGgpXG4gICAgICAudGhlbigoZGlyZWN0b3J5RW50cnk6IERpcmVjdG9yeUVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZpbGUoZGlyZWN0b3J5RW50cnksIGZpbGVOYW1lLCBnZXRGaWxlT3B0cyk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKGZpbGVFbnRyeTogRmlsZUVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyaXRlRmlsZUVudHJ5KGZpbGVFbnRyeSwgdGV4dCwgb3B0aW9ucyk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcml0ZSBjb250ZW50IHRvIEZpbGVFbnRyeS5cbiAgICogQGhpZGRlblxuICAgKiBXcml0ZSB0byBhbiBleGlzdGluZyBmaWxlLlxuICAgKiBAcGFyYW0ge0ZpbGVFbnRyeX0gZmUgZmlsZSBlbnRyeSBvYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBCbG9iIHwgQXJyYXlCdWZmZXJ9IHRleHQgdGV4dCBjb250ZW50IG9yIGJsb2IgdG8gd3JpdGVcbiAgICogQHBhcmFtIHtJV3JpdGVPcHRpb25zfSBvcHRpb25zIHJlcGxhY2UgZmlsZSBpZiBzZXQgdG8gdHJ1ZS4gU2VlIFdyaXRlT3B0aW9ucyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICogQHJldHVybnMge1Byb21pc2U8RmlsZUVudHJ5Pn0gIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdXBkYXRlZCBmaWxlIGVudHJ5IG9yIHJlamVjdHMgd2l0aCBhbiBlcnJvci5cbiAgICovXG4gIHByaXZhdGUgd3JpdGVGaWxlRW50cnkoZmU6IEZpbGVFbnRyeSwgdGV4dDogc3RyaW5nIHwgQmxvYiB8IEFycmF5QnVmZmVyLCBvcHRpb25zOiBJV3JpdGVPcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlV3JpdGVyKGZlKVxuICAgICAgLnRoZW4od3JpdGVyID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXBwZW5kKSB7XG4gICAgICAgICAgd3JpdGVyLnNlZWsod3JpdGVyLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy50cnVuY2F0ZSkge1xuICAgICAgICAgIHdyaXRlci50cnVuY2F0ZShvcHRpb25zLnRydW5jYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLndyaXRlKHdyaXRlciwgdGV4dCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4gZmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyaXRlIHRvIGFuIGV4aXN0aW5nIGZpbGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIEJhc2UgRmlsZVN5c3RlbS4gUGxlYXNlIHJlZmVyIHRvIHRoZSBpT1MgYW5kIEFuZHJvaWQgZmlsZXN5c3RlbSBhYm92ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZU5hbWUgcGF0aCByZWxhdGl2ZSB0byBiYXNlIHBhdGhcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBCbG9ifSB0ZXh0IGNvbnRlbnQgb3IgYmxvYiB0byB3cml0ZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyBvciByZWplY3RzIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YUNoZWNrKClcbiAgd3JpdGVFeGlzdGluZ0ZpbGUocGF0aDogc3RyaW5nLCBmaWxlTmFtZTogc3RyaW5nLCB0ZXh0OiBzdHJpbmcgfCBCbG9iKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMud3JpdGVGaWxlKHBhdGgsIGZpbGVOYW1lLCB0ZXh0LCB7IHJlcGxhY2U6IHRydWUgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhZCB0aGUgY29udGVudHMgb2YgYSBmaWxlIGFzIHRleHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIEJhc2UgRmlsZVN5c3RlbS4gUGxlYXNlIHJlZmVyIHRvIHRoZSBpT1MgYW5kIEFuZHJvaWQgZmlsZXN5c3RlbSBhYm92ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZSBOYW1lIG9mIGZpbGUsIHJlbGF0aXZlIHRvIHBhdGguXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY29udGVudHMgb2YgdGhlIGZpbGUgYXMgc3RyaW5nIG9yIHJlamVjdHMgd2l0aFxuICAgKiAgIGFuIGVycm9yLlxuICAgKi9cbiAgQENvcmRvdmFDaGVjaygpXG4gIHJlYWRBc1RleHQocGF0aDogc3RyaW5nLCBmaWxlOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLnJlYWRGaWxlPHN0cmluZz4ocGF0aCwgZmlsZSwgJ1RleHQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkIGZpbGUgYW5kIHJldHVybiBkYXRhIGFzIGEgYmFzZTY0IGVuY29kZWQgZGF0YSB1cmwuXG4gICAqIEEgZGF0YSB1cmwgaXMgb2YgdGhlIGZvcm06XG4gICAqICAgICAgZGF0YTogWzxtZWRpYXR5cGU+XVs7YmFzZTY0XSw8ZGF0YT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggQmFzZSBGaWxlU3lzdGVtLiBQbGVhc2UgcmVmZXIgdG8gdGhlIGlPUyBhbmQgQW5kcm9pZCBmaWxlc3lzdGVtIGFib3ZlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlIE5hbWUgb2YgZmlsZSwgcmVsYXRpdmUgdG8gcGF0aC5cbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjb250ZW50cyBvZiB0aGUgZmlsZSBhcyBkYXRhIFVSTCBvciByZWplY3RzXG4gICAqICAgd2l0aCBhbiBlcnJvci5cbiAgICovXG4gIEBDb3Jkb3ZhQ2hlY2soKVxuICByZWFkQXNEYXRhVVJMKHBhdGg6IHN0cmluZywgZmlsZTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gdGhpcy5yZWFkRmlsZTxzdHJpbmc+KHBhdGgsIGZpbGUsICdEYXRhVVJMJyk7XG4gIH1cblxuICAvKipcbiAgICogUmVhZCBmaWxlIGFuZCByZXR1cm4gZGF0YSBhcyBhIGJpbmFyeSBkYXRhLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBCYXNlIEZpbGVTeXN0ZW0uIFBsZWFzZSByZWZlciB0byB0aGUgaU9TIGFuZCBBbmRyb2lkIGZpbGVzeXN0ZW0gYWJvdmVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGUgTmFtZSBvZiBmaWxlLCByZWxhdGl2ZSB0byBwYXRoLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGNvbnRlbnRzIG9mIHRoZSBmaWxlIGFzIHN0cmluZyByZWplY3RzIHdpdGggYW5cbiAgICogICBlcnJvci5cbiAgICovXG4gIEBDb3Jkb3ZhQ2hlY2soKVxuICByZWFkQXNCaW5hcnlTdHJpbmcocGF0aDogc3RyaW5nLCBmaWxlOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLnJlYWRGaWxlPHN0cmluZz4ocGF0aCwgZmlsZSwgJ0JpbmFyeVN0cmluZycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgZmlsZSBhbmQgcmV0dXJuIGRhdGEgYXMgYW4gQXJyYXlCdWZmZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIEJhc2UgRmlsZVN5c3RlbS4gUGxlYXNlIHJlZmVyIHRvIHRoZSBpT1MgYW5kIEFuZHJvaWQgZmlsZXN5c3RlbSBhYm92ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZSBOYW1lIG9mIGZpbGUsIHJlbGF0aXZlIHRvIHBhdGguXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5QnVmZmVyPn0gUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjb250ZW50cyBvZiB0aGUgZmlsZSBhcyBBcnJheUJ1ZmZlciBvclxuICAgKiAgIHJlamVjdHMgd2l0aCBhbiBlcnJvci5cbiAgICovXG4gIEBDb3Jkb3ZhQ2hlY2soKVxuICByZWFkQXNBcnJheUJ1ZmZlcihwYXRoOiBzdHJpbmcsIGZpbGU6IHN0cmluZyk6IFByb21pc2U8QXJyYXlCdWZmZXI+IHtcbiAgICByZXR1cm4gdGhpcy5yZWFkRmlsZTxBcnJheUJ1ZmZlcj4ocGF0aCwgZmlsZSwgJ0FycmF5QnVmZmVyJyk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSBhIGZpbGUgdG8gYSBnaXZlbiBwYXRoLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBCYXNlIEZpbGVTeXN0ZW0uIFBsZWFzZSByZWZlciB0byB0aGUgaU9TIGFuZCBBbmRyb2lkIGZpbGVzeXN0ZW0gYWJvdmVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVOYW1lIE5hbWUgb2YgZmlsZSB0byBtb3ZlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdQYXRoIEJhc2UgRmlsZVN5c3RlbSBvZiBuZXcgbG9jYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld0ZpbGVOYW1lIE5ldyBuYW1lIG9mIGZpbGUgdG8gbW92ZSB0byAobGVhdmUgYmxhbmsgdG8gcmVtYWluIHRoZSBzYW1lKVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxFbnRyeT59IFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG5ldyBFbnRyeSBvciByZWplY3RzIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YUNoZWNrKClcbiAgbW92ZUZpbGUocGF0aDogc3RyaW5nLCBmaWxlTmFtZTogc3RyaW5nLCBuZXdQYXRoOiBzdHJpbmcsIG5ld0ZpbGVOYW1lOiBzdHJpbmcpOiBQcm9taXNlPEVudHJ5PiB7XG4gICAgbmV3RmlsZU5hbWUgPSBuZXdGaWxlTmFtZSB8fCBmaWxlTmFtZTtcblxuICAgIGlmICgvXlxcLy8udGVzdChuZXdGaWxlTmFtZSkpIHtcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBGaWxlRXJyb3IoNSk7XG4gICAgICBlcnIubWVzc2FnZSA9ICdmaWxlIG5hbWUgY2Fubm90IHN0YXJ0IHdpdGggLyc7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Q8YW55PihlcnIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlc29sdmVEaXJlY3RvcnlVcmwocGF0aClcbiAgICAgIC50aGVuKGZzZSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZpbGUoZnNlLCBmaWxlTmFtZSwgeyBjcmVhdGU6IGZhbHNlIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKHNyY2ZlID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZURpcmVjdG9yeVVybChuZXdQYXRoKS50aGVuKGRlc3RlID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5tb3ZlKHNyY2ZlLCBkZXN0ZSwgbmV3RmlsZU5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgYSBmaWxlIGluIHZhcmlvdXMgbWV0aG9kcy4gSWYgZmlsZSBleGlzdHMsIHdpbGwgZmFpbCB0byBjb3B5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBCYXNlIEZpbGVTeXN0ZW0uIFBsZWFzZSByZWZlciB0byB0aGUgaU9TIGFuZCBBbmRyb2lkIGZpbGVzeXN0ZW0gYWJvdmVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVOYW1lIE5hbWUgb2YgZmlsZSB0byBjb3B5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdQYXRoIEJhc2UgRmlsZVN5c3RlbSBvZiBuZXcgbG9jYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld0ZpbGVOYW1lIE5ldyBuYW1lIG9mIGZpbGUgdG8gY29weSB0byAobGVhdmUgYmxhbmsgdG8gcmVtYWluIHRoZSBzYW1lKVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxFbnRyeT59IFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gRW50cnkgb3IgcmVqZWN0cyB3aXRoIGFuIGVycm9yLlxuICAgKi9cbiAgQENvcmRvdmFDaGVjaygpXG4gIGNvcHlGaWxlKHBhdGg6IHN0cmluZywgZmlsZU5hbWU6IHN0cmluZywgbmV3UGF0aDogc3RyaW5nLCBuZXdGaWxlTmFtZTogc3RyaW5nKTogUHJvbWlzZTxFbnRyeT4ge1xuICAgIG5ld0ZpbGVOYW1lID0gbmV3RmlsZU5hbWUgfHwgZmlsZU5hbWU7XG5cbiAgICBpZiAoL15cXC8vLnRlc3QobmV3RmlsZU5hbWUpKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRmlsZUVycm9yKDUpO1xuICAgICAgZXJyLm1lc3NhZ2UgPSAnZmlsZSBuYW1lIGNhbm5vdCBzdGFydCB3aXRoIC8nO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0PGFueT4oZXJyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlRGlyZWN0b3J5VXJsKHBhdGgpXG4gICAgICAudGhlbihmc2UgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGaWxlKGZzZSwgZmlsZU5hbWUsIHsgY3JlYXRlOiBmYWxzZSB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbihzcmNmZSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVEaXJlY3RvcnlVcmwobmV3UGF0aCkudGhlbihkZXN0ZSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29weShzcmNmZSwgZGVzdGUsIG5ld0ZpbGVOYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBwcml2YXRlIGZpbGxFcnJvck1lc3NhZ2UoZXJyOiBGaWxlRXJyb3IpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgZXJyLm1lc3NhZ2UgPSB0aGlzLmNvcmRvdmFGaWxlRXJyb3JbZXJyLmNvZGVdO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZXMgYSBsb2NhbCBmaWxlIHN5c3RlbSBVUkxcbiAgICogQHBhcmFtIGZpbGVVcmwge3N0cmluZ30gZmlsZSBzeXN0ZW0gdXJsXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEVudHJ5Pn1cbiAgICovXG4gIEBDb3Jkb3ZhQ2hlY2soKVxuICByZXNvbHZlTG9jYWxGaWxlc3lzdGVtVXJsKGZpbGVVcmw6IHN0cmluZyk6IFByb21pc2U8RW50cnk+IHtcbiAgICByZXR1cm4gZ2V0UHJvbWlzZTxFbnRyeT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LnJlc29sdmVMb2NhbEZpbGVTeXN0ZW1VUkwoXG4gICAgICAgICAgZmlsZVVybCxcbiAgICAgICAgICAoZW50cnk6IEVudHJ5KSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKGVudHJ5KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVyciA9PiB7XG4gICAgICAgICAgICB0aGlzLmZpbGxFcnJvck1lc3NhZ2UoZXJyKTtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKHhjKSB7XG4gICAgICAgIHRoaXMuZmlsbEVycm9yTWVzc2FnZSh4Yyk7XG4gICAgICAgIHJlamVjdCh4Yyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZXMgYSBsb2NhbCBkaXJlY3RvcnkgdXJsXG4gICAqIEBwYXJhbSBkaXJlY3RvcnlVcmwge3N0cmluZ30gZGlyZWN0b3J5IHN5c3RlbSB1cmxcbiAgICogQHJldHVybnMge1Byb21pc2U8RGlyZWN0b3J5RW50cnk+fVxuICAgKi9cbiAgQENvcmRvdmFDaGVjaygpXG4gIHJlc29sdmVEaXJlY3RvcnlVcmwoZGlyZWN0b3J5VXJsOiBzdHJpbmcpOiBQcm9taXNlPERpcmVjdG9yeUVudHJ5PiB7XG4gICAgcmV0dXJuIHRoaXMucmVzb2x2ZUxvY2FsRmlsZXN5c3RlbVVybChkaXJlY3RvcnlVcmwpLnRoZW4oZGUgPT4ge1xuICAgICAgaWYgKGRlLmlzRGlyZWN0b3J5KSB7XG4gICAgICAgIHJldHVybiBkZSBhcyBEaXJlY3RvcnlFbnRyeTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVyciA9IG5ldyBGaWxlRXJyb3IoMTMpO1xuICAgICAgICBlcnIubWVzc2FnZSA9ICdpbnB1dCBpcyBub3QgYSBkaXJlY3RvcnknO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Q8RGlyZWN0b3J5RW50cnk+KGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgZGlyZWN0b3J5XG4gICAqIEBwYXJhbSBkaXJlY3RvcnlFbnRyeSB7RGlyZWN0b3J5RW50cnl9IERpcmVjdG9yeSBlbnRyeSwgb2J0YWluZWQgYnkgcmVzb2x2ZURpcmVjdG9yeVVybCBtZXRob2RcbiAgICogQHBhcmFtIGRpcmVjdG9yeU5hbWUge3N0cmluZ30gRGlyZWN0b3J5IG5hbWVcbiAgICogQHBhcmFtIGZsYWdzIHtGbGFnc30gT3B0aW9uc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxEaXJlY3RvcnlFbnRyeT59XG4gICAqL1xuICBAQ29yZG92YUNoZWNrKClcbiAgZ2V0RGlyZWN0b3J5KGRpcmVjdG9yeUVudHJ5OiBEaXJlY3RvcnlFbnRyeSwgZGlyZWN0b3J5TmFtZTogc3RyaW5nLCBmbGFnczogRmxhZ3MpOiBQcm9taXNlPERpcmVjdG9yeUVudHJ5PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPERpcmVjdG9yeUVudHJ5PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBkaXJlY3RvcnlFbnRyeS5nZXREaXJlY3RvcnkoXG4gICAgICAgICAgZGlyZWN0b3J5TmFtZSxcbiAgICAgICAgICBmbGFncyxcbiAgICAgICAgICBkZSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKGRlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVyciA9PiB7XG4gICAgICAgICAgICB0aGlzLmZpbGxFcnJvck1lc3NhZ2UoZXJyKTtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKHhjKSB7XG4gICAgICAgIHRoaXMuZmlsbEVycm9yTWVzc2FnZSh4Yyk7XG4gICAgICAgIHJlamVjdCh4Yyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgZmlsZVxuICAgKiBAcGFyYW0gZGlyZWN0b3J5RW50cnkge0RpcmVjdG9yeUVudHJ5fSBEaXJlY3RvcnkgZW50cnksIG9idGFpbmVkIGJ5IHJlc29sdmVEaXJlY3RvcnlVcmwgbWV0aG9kXG4gICAqIEBwYXJhbSBmaWxlTmFtZSB7c3RyaW5nfSBGaWxlIG5hbWVcbiAgICogQHBhcmFtIGZsYWdzIHtGbGFnc30gT3B0aW9uc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxGaWxlRW50cnk+fVxuICAgKi9cbiAgQENvcmRvdmFDaGVjaygpXG4gIGdldEZpbGUoZGlyZWN0b3J5RW50cnk6IERpcmVjdG9yeUVudHJ5LCBmaWxlTmFtZTogc3RyaW5nLCBmbGFnczogRmxhZ3MpOiBQcm9taXNlPEZpbGVFbnRyeT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxGaWxlRW50cnk+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRpcmVjdG9yeUVudHJ5LmdldEZpbGUoZmlsZU5hbWUsIGZsYWdzLCByZXNvbHZlLCBlcnIgPT4ge1xuICAgICAgICAgIHRoaXMuZmlsbEVycm9yTWVzc2FnZShlcnIpO1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKHhjKSB7XG4gICAgICAgIHRoaXMuZmlsbEVycm9yTWVzc2FnZSh4Yyk7XG4gICAgICAgIHJlamVjdCh4Yyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlYWRGaWxlPFQ+KFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBmaWxlOiBzdHJpbmcsXG4gICAgcmVhZEFzOiAnQXJyYXlCdWZmZXInIHwgJ0JpbmFyeVN0cmluZycgfCAnRGF0YVVSTCcgfCAnVGV4dCdcbiAgKTogUHJvbWlzZTxUPiB7XG4gICAgaWYgKC9eXFwvLy50ZXN0KGZpbGUpKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRmlsZUVycm9yKDUpO1xuICAgICAgZXJyLm1lc3NhZ2UgPSAnZmlsZS1uYW1lIGNhbm5vdCBzdGFydCB3aXRoIC8nO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0PGFueT4oZXJyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlRGlyZWN0b3J5VXJsKHBhdGgpXG4gICAgICAudGhlbigoZGlyZWN0b3J5RW50cnk6IERpcmVjdG9yeUVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZpbGUoZGlyZWN0b3J5RW50cnksIGZpbGUsIHsgY3JlYXRlOiBmYWxzZSB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoZmlsZUVudHJ5OiBGaWxlRW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmV0dXJuIGdldFByb21pc2U8VD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVhZGVyLnJlc3VsdCAhPT0gdW5kZWZpbmVkIHx8IHJlYWRlci5yZXN1bHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgocmVhZGVyLnJlc3VsdCBhcyBhbnkpIGFzIFQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZWFkZXIuZXJyb3IgIT09IHVuZGVmaW5lZCB8fCByZWFkZXIuZXJyb3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZWplY3QoeyBjb2RlOiBudWxsLCBtZXNzYWdlOiAnUkVBREVSX09OTE9BREVORF9FUlInIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBmaWxlRW50cnkuZmlsZShcbiAgICAgICAgICAgIGZpbGUgPT4ge1xuICAgICAgICAgICAgICByZWFkZXJbYHJlYWRBcyR7cmVhZEFzfWBdLmNhbGwocmVhZGVyLCBmaWxlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBwcml2YXRlIHJlbW92ZShmZTogRW50cnkpOiBQcm9taXNlPFJlbW92ZVJlc3VsdD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxSZW1vdmVSZXN1bHQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGZlLnJlbW92ZShcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoeyBzdWNjZXNzOiB0cnVlLCBmaWxlUmVtb3ZlZDogZmUgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVyciA9PiB7XG4gICAgICAgICAgdGhpcy5maWxsRXJyb3JNZXNzYWdlKGVycik7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQGhpZGRlblxuICAgKi9cbiAgcHJpdmF0ZSBtb3ZlKHNyY2U6IEVudHJ5LCBkZXN0ZGlyOiBEaXJlY3RvcnlFbnRyeSwgbmV3TmFtZTogc3RyaW5nKTogUHJvbWlzZTxFbnRyeT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxFbnRyeT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc3JjZS5tb3ZlVG8oXG4gICAgICAgIGRlc3RkaXIsXG4gICAgICAgIG5ld05hbWUsXG4gICAgICAgIGRlc3RlID0+IHtcbiAgICAgICAgICByZXNvbHZlKGRlc3RlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyID0+IHtcbiAgICAgICAgICB0aGlzLmZpbGxFcnJvck1lc3NhZ2UoZXJyKTtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBwcml2YXRlIGNvcHkoc3JjZTogRW50cnksIGRlc3RkaXI6IERpcmVjdG9yeUVudHJ5LCBuZXdOYW1lOiBzdHJpbmcpOiBQcm9taXNlPEVudHJ5PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPEVudHJ5PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzcmNlLmNvcHlUbyhcbiAgICAgICAgZGVzdGRpcixcbiAgICAgICAgbmV3TmFtZSxcbiAgICAgICAgZGVzdGUgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZGVzdGUpO1xuICAgICAgICB9LFxuICAgICAgICBlcnIgPT4ge1xuICAgICAgICAgIHRoaXMuZmlsbEVycm9yTWVzc2FnZShlcnIpO1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIHByaXZhdGUgcmVhZEVudHJpZXMoZHI6IERpcmVjdG9yeVJlYWRlcik6IFByb21pc2U8RW50cnlbXT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxFbnRyeVtdPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBkci5yZWFkRW50cmllcyhcbiAgICAgICAgZW50cmllcyA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShlbnRyaWVzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyID0+IHtcbiAgICAgICAgICB0aGlzLmZpbGxFcnJvck1lc3NhZ2UoZXJyKTtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBwcml2YXRlIHJpbXJhZihkZTogRGlyZWN0b3J5RW50cnkpOiBQcm9taXNlPFJlbW92ZVJlc3VsdD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxSZW1vdmVSZXN1bHQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGRlLnJlbW92ZVJlY3Vyc2l2ZWx5KFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUsIGZpbGVSZW1vdmVkOiBkZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyID0+IHtcbiAgICAgICAgICB0aGlzLmZpbGxFcnJvck1lc3NhZ2UoZXJyKTtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZVdyaXRlcihmZTogRmlsZUVudHJ5KTogUHJvbWlzZTxGaWxlV3JpdGVyPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPEZpbGVXcml0ZXI+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGZlLmNyZWF0ZVdyaXRlcihcbiAgICAgICAgd3JpdGVyID0+IHtcbiAgICAgICAgICByZXNvbHZlKHdyaXRlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGVyciA9PiB7XG4gICAgICAgICAgdGhpcy5maWxsRXJyb3JNZXNzYWdlKGVycik7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQGhpZGRlblxuICAgKi9cbiAgcHJpdmF0ZSB3cml0ZSh3cml0ZXI6IEZpbGVXcml0ZXIsIGd1OiBzdHJpbmcgfCBCbG9iIHwgQXJyYXlCdWZmZXIpOiBQcm9taXNlPGFueT4ge1xuICAgIGlmIChndSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgIHJldHVybiB0aGlzLndyaXRlRmlsZUluQ2h1bmtzKHdyaXRlciwgZ3UpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxhbnk+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdyaXRlci5vbndyaXRlZW5kID0gZXZ0ID0+IHtcbiAgICAgICAgaWYgKHdyaXRlci5lcnJvcikge1xuICAgICAgICAgIHJlamVjdCh3cml0ZXIuZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoZXZ0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHdyaXRlci53cml0ZShndSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQGhpZGRlblxuICAgKi9cbiAgcHJpdmF0ZSB3cml0ZUZpbGVJbkNodW5rcyh3cml0ZXI6IEZpbGVXcml0ZXIsIGZpbGU6IEJsb2IpIHtcbiAgICBjb25zdCBCTE9DS19TSVpFID0gMTAyNCAqIDEwMjQ7XG4gICAgbGV0IHdyaXR0ZW5TaXplID0gMDtcblxuICAgIGZ1bmN0aW9uIHdyaXRlTmV4dENodW5rKCkge1xuICAgICAgY29uc3Qgc2l6ZSA9IE1hdGgubWluKEJMT0NLX1NJWkUsIGZpbGUuc2l6ZSAtIHdyaXR0ZW5TaXplKTtcbiAgICAgIGNvbnN0IGNodW5rID0gZmlsZS5zbGljZSh3cml0dGVuU2l6ZSwgd3JpdHRlblNpemUgKyBzaXplKTtcblxuICAgICAgd3JpdHRlblNpemUgKz0gc2l6ZTtcbiAgICAgIHdyaXRlci53cml0ZShjaHVuayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFByb21pc2U8YW55PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3cml0ZXIub25lcnJvciA9IHJlamVjdCBhcyAoZXZlbnQ6IFByb2dyZXNzRXZlbnQpID0+IHZvaWQ7XG4gICAgICB3cml0ZXIub253cml0ZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHdyaXR0ZW5TaXplIDwgZmlsZS5zaXplKSB7XG4gICAgICAgICAgd3JpdGVOZXh0Q2h1bmsoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB3cml0ZU5leHRDaHVuaygpO1xuICAgIH0pO1xuICB9XG59XG4iXX0=","import React, { Component } from 'react';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport PropTypes from 'prop-types';\nimport warning from 'tiny-warning';\n\nvar MAX_SIGNED_31_BIT_INT = 1073741823;\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : {};\n\nfunction getUniqueId() {\n  var key = '__global_unique_id__';\n  return commonjsGlobal[key] = (commonjsGlobal[key] || 0) + 1;\n}\n\nfunction objectIs(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nfunction createEventEmitter(value) {\n  var handlers = [];\n  return {\n    on: function on(handler) {\n      handlers.push(handler);\n    },\n    off: function off(handler) {\n      handlers = handlers.filter(function (h) {\n        return h !== handler;\n      });\n    },\n    get: function get() {\n      return value;\n    },\n    set: function set(newValue, changedBits) {\n      value = newValue;\n      handlers.forEach(function (handler) {\n        return handler(value, changedBits);\n      });\n    }\n  };\n}\n\nfunction onlyChild(children) {\n  return Array.isArray(children) ? children[0] : children;\n}\n\nfunction createReactContext(defaultValue, calculateChangedBits) {\n  var _Provider$childContex, _Consumer$contextType;\n\n  var contextProp = '__create-react-context-' + getUniqueId() + '__';\n\n  var Provider = /*#__PURE__*/function (_Component) {\n    _inheritsLoose(Provider, _Component);\n\n    function Provider() {\n      var _this;\n\n      _this = _Component.apply(this, arguments) || this;\n      _this.emitter = createEventEmitter(_this.props.value);\n      return _this;\n    }\n\n    var _proto = Provider.prototype;\n\n    _proto.getChildContext = function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextProp] = this.emitter, _ref;\n    };\n\n    _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      if (this.props.value !== nextProps.value) {\n        var oldValue = this.props.value;\n        var newValue = nextProps.value;\n        var changedBits;\n\n        if (objectIs(oldValue, newValue)) {\n          changedBits = 0;\n        } else {\n          changedBits = typeof calculateChangedBits === 'function' ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;\n\n          if (process.env.NODE_ENV !== 'production') {\n            warning((changedBits & MAX_SIGNED_31_BIT_INT) === changedBits, 'calculateChangedBits: Expected the return value to be a ' + '31-bit integer. Instead received: ' + changedBits);\n          }\n\n          changedBits |= 0;\n\n          if (changedBits !== 0) {\n            this.emitter.set(nextProps.value, changedBits);\n          }\n        }\n      }\n    };\n\n    _proto.render = function render() {\n      return this.props.children;\n    };\n\n    return Provider;\n  }(Component);\n\n  Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = PropTypes.object.isRequired, _Provider$childContex);\n\n  var Consumer = /*#__PURE__*/function (_Component2) {\n    _inheritsLoose(Consumer, _Component2);\n\n    function Consumer() {\n      var _this2;\n\n      _this2 = _Component2.apply(this, arguments) || this;\n      _this2.state = {\n        value: _this2.getValue()\n      };\n\n      _this2.onUpdate = function (newValue, changedBits) {\n        var observedBits = _this2.observedBits | 0;\n\n        if ((observedBits & changedBits) !== 0) {\n          _this2.setState({\n            value: _this2.getValue()\n          });\n        }\n      };\n\n      return _this2;\n    }\n\n    var _proto2 = Consumer.prototype;\n\n    _proto2.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      var observedBits = nextProps.observedBits;\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT : observedBits;\n    };\n\n    _proto2.componentDidMount = function componentDidMount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].on(this.onUpdate);\n      }\n\n      var observedBits = this.props.observedBits;\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT : observedBits;\n    };\n\n    _proto2.componentWillUnmount = function componentWillUnmount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].off(this.onUpdate);\n      }\n    };\n\n    _proto2.getValue = function getValue() {\n      if (this.context[contextProp]) {\n        return this.context[contextProp].get();\n      } else {\n        return defaultValue;\n      }\n    };\n\n    _proto2.render = function render() {\n      return onlyChild(this.props.children)(this.state.value);\n    };\n\n    return Consumer;\n  }(Component);\n\n  Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = PropTypes.object, _Consumer$contextType);\n  return {\n    Provider: Provider,\n    Consumer: Consumer\n  };\n}\n\nvar index = React.createContext || createReactContext;\n\nexport default index;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","import BaseSchema from './schema';\nimport { boolean as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nexport function create() {\n  return new BooleanSchema();\n}\nexport default class BooleanSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'boolean'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (!this.isType(value)) {\n          if (/^(true|1)$/i.test(String(value))) return true;\n          if (/^(false|0)$/i.test(String(value))) return false;\n        }\n\n        return value;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    if (v instanceof Boolean) v = v.valueOf();\n    return typeof v === 'boolean';\n  }\n\n  isTrue(message = locale.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'true'\n      },\n\n      test(value) {\n        return isAbsent(value) || value === true;\n      }\n\n    });\n  }\n\n  isFalse(message = locale.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'false'\n      },\n\n      test(value) {\n        return isAbsent(value) || value === false;\n      }\n\n    });\n  }\n\n}\ncreate.prototype = BooleanSchema.prototype;","var capitalize = require('./capitalize'),\n    createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the camel cased string.\n * @example\n *\n * _.camelCase('Foo Bar');\n * // => 'fooBar'\n *\n * _.camelCase('--foo-bar--');\n * // => 'fooBar'\n *\n * _.camelCase('__FOO_BAR__');\n * // => 'fooBar'\n */\nvar camelCase = createCompounder(function(result, word, index) {\n  word = word.toLowerCase();\n  return result + (index ? capitalize(word) : word);\n});\n\nmodule.exports = camelCase;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  BUFFERING: 3,\n  ENDED: 0,\n  PAUSED: 2,\n  PLAYING: 1,\n  UNSTARTED: -1,\n  VIDEO_CUED: 5\n};\nmodule.exports = exports[\"default\"];","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","import React from 'react'\nimport {Box, Flex, Spinner, Text} from '@chakra-ui/react'\nimport {\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardTitle,\n  IonIcon,\n  IonImg,\n  IonProgressBar,\n  IonText,\n} from '@ionic/react'\nimport clsx from 'clsx'\nimport {checkmark} from 'ionicons/icons'\nimport {useSpeechToText} from './useSpeechToText'\n\nexport function RecordResultItem({\n  loading,\n  error = undefined,\n  data,\n  index,\n  isPlaying,\n  onPlay,\n  onStop,\n}) {\n  return (\n    <IonCard className=\"confidence-level \" mode=\"ios\">\n      {data && index === 0 && (\n        <IonCardHeader>\n          <IonCardTitle id=\"checkmark-icon\">\n            <IonIcon mode=\"md\" icon={checkmark}></IonIcon>\n            <IonText>\n              {data.percent >= 93\n                ? 'You got it! English must be your mother tongue!'\n                : data.percent >= 80\n                ? 'You are pretty good.'\n                : data.percent >= 70\n                ? 'You are not bad.'\n                : \"That doesn't sound good. You can try again.\"}\n            </IonText>\n          </IonCardTitle>\n        </IonCardHeader>\n      )}\n      <IonCardContent>\n        <Flex>\n          {loading ? (\n            <Box flex={1}>\n              <Spinner />\n            </Box>\n          ) : error ? (\n            <Box flex={1}>Can not evaluate. Try again</Box>\n          ) : (\n            <Box flex={1}>\n              <IonText className=\"percent\">\n                {index === 0 ? 'Latest' : index + 1}: {data.percent}%{' '}\n              </IonText>\n\n              <IonProgressBar\n                className={clsx(index === 0 ? 'latest-confidence' : 'old-confidence')}\n                mode=\"md\"\n                value={data.confidence}\n              ></IonProgressBar>\n              <Box mt={2}>\n                <Text color={index === 0 ? '#e22d2d' : '#444'}>{data.transcript}</Text>\n              </Box>\n            </Box>\n          )}\n\n          <Box h=\"40px\" w=\"40px\">\n            {!isPlaying ? (\n              <IonImg\n                className=\"pointer\"\n                onClick={onPlay}\n                style={{height: '100%'}}\n                src=\"../../../../../assets/images/play.png\"\n              />\n            ) : (\n              <IonImg\n                className=\"pointer\"\n                onClick={onStop}\n                style={{height: '100%'}}\n                src=\"../../../../../assets/images/audioFilePlaying.png\"\n              />\n            )}\n          </Box>\n        </Flex>\n      </IonCardContent>\n    </IonCard>\n  )\n}\n\nexport function RecordView({\n  audioAsBase64,\n  sampleRate,\n  index,\n  isPlaying,\n  onPlay,\n  onStop,\n  onCompleted,\n}) {\n  const {data, error, loading} = useSpeechToText(audioAsBase64, sampleRate, {onCompleted})\n  return (\n    <RecordResultItem\n      data={data}\n      error={error}\n      loading={loading}\n      index={index}\n      isPlaying={isPlaying}\n      onStop={onStop}\n      onPlay={onPlay}\n    />\n  )\n}\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","import locale from './locale';\nexport default function setLocale(custom) {\n  Object.keys(custom).forEach(type => {\n    Object.keys(custom[type]).forEach(method => {\n      locale[type][method] = custom[type][method];\n    });\n  });\n}","import React from 'react'\nimport {currentLessonIdVar, recordsVar} from 'src/reactapp/apollo-client'\nimport {File} from '@ionic-native/file'\nimport {Media, MediaObject} from '@ionic-native/media'\nimport {Plugins} from '@capacitor/core'\nconst {Filesystem} = Plugins\n\nconst iosSampleRate = 16000\n\nexport function useRecordIos({onStop}) {\n  const [status, setStatus] = React.useState('idle')\n  const [fileName, setFileName] = React.useState<string>()\n  const [audioFile, setAudioFile] = React.useState<MediaObject>()\n\n  async function stopRecording() {\n    try {\n      audioFile.stopRecord()\n      audioFile.release()\n      //@ts-ignore\n      const file = new File()\n\n      let data = await Filesystem.readFile({\n        path: file.tempDirectory + fileName,\n      })\n      if (data) {\n        console.log({data})\n      }\n\n      setStatus('stopped')\n\n      onStop &&\n        onStop({\n          audioAsBase64: data?.data,\n          audioUrl: fileName,\n\n          sampleRate: iosSampleRate,\n        })\n    } catch (err) {\n      console.log({err})\n    }\n  }\n\n  async function startRecording() {\n    //@ts-ignore\n    const file = new File()\n    //@ts-ignore\n    const media = new Media()\n\n    let fileName = `record-${+new Date()}.m4a`\n\n    await file.createFile(file.tempDirectory, fileName, true)\n\n    const audioFile = media.create(\n      file.tempDirectory.replace(/^file:\\/\\//, '') + fileName,\n    )\n    audioFile.startRecord()\n\n    setAudioFile(audioFile)\n    setFileName(fileName)\n    setStatus('recording')\n  }\n\n  return {\n    status,\n    sampleRate: iosSampleRate,\n    startRecording,\n    stopRecording,\n  }\n}\n\nexport function setRecordSTT(sceneIdx: number, arrIdx: number, result) {\n  const oldVar = recordsVar()\n  const lessonId = currentLessonIdVar()\n  const key = `${lessonId}:${sceneIdx}`\n  const rs = oldVar[key] || []\n  const newRs = rs.map((record, i) => {\n    if (i === arrIdx) {\n      return {\n        ...record,\n        stt: result,\n      }\n    }\n    return record\n  })\n\n  recordsVar({...oldVar, [key]: newRs})\n}\n\nexport function setRecord(sceneIdx: number, record) {\n  const oldVar = recordsVar()\n  const lessonId = currentLessonIdVar()\n  const key = `${lessonId}:${sceneIdx}`\n  const rs = oldVar[key] || []\n\n  recordsVar({...oldVar, [key]: [record, ...rs.slice(0, 2)]})\n  rs.slice(2).map((r) => {\n    URL.revokeObjectURL(r.audioUrl)\n  })\n}\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nmodule.exports = castSlice;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","function valueOf(obj) {\n  return obj.valueOf ? obj.valueOf() : Object.prototype.valueOf.call(obj);\n}\n\nfunction valueEqual(a, b) {\n  // Test for strict equality first.\n  if (a === b) return true;\n\n  // Otherwise, if either of them == null they are not equal.\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return (\n      Array.isArray(b) &&\n      a.length === b.length &&\n      a.every(function(item, index) {\n        return valueEqual(item, b[index]);\n      })\n    );\n  }\n\n  if (typeof a === 'object' || typeof b === 'object') {\n    var aValue = valueOf(a);\n    var bValue = valueOf(b);\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    return Object.keys(Object.assign({}, a, b)).every(function(key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nexport default valueEqual;\n","import {IonCol, IonRow, IonText} from '@ionic/react'\nimport clsx from 'clsx'\nimport {range} from 'lodash'\nimport React, {useEffect, useMemo, useState} from 'react'\nimport PlayerStates from 'youtube-player/dist/constants/PlayerStates'\nimport {ActionBar} from '../ActionBar'\nimport {NextButton} from '../NextButton'\nimport WebRecordingView from './RecordingView'\nimport {useLessonStore} from '../useLessonStore'\nimport {Capacitor, Plugins} from '@capacitor/core'\nimport {useStore} from 'src/reactapp/useStore'\nimport IosRecordingView from './IosRecordingView'\nimport {ScriptView} from './ScriptView'\nimport {PracticeContext} from './PracticeContext'\nimport create from 'zustand'\nimport AndroidRecordingView from './AndroidRecordingView'\nconst {Device} = Plugins\n\nfunction RecordingView() {\n  const platform = Capacitor.getPlatform()\n  if (platform === 'web') {\n    return <WebRecordingView />\n  } else if (platform === 'ios') {\n    return <IosRecordingView />\n  } else if (platform === 'android') {\n    return <AndroidRecordingView />\n  }\n\n  // return platform === 'ios' ? <IosRecordingView /> : <WebRecordingView />\n}\n\nfunction usePracticeState() {\n  const [isRecording, setIsRecording] = useState(false)\n  const [isPlaying, setIsPlaying] = useState(false)\n\n  return {\n    isRecording,\n    isPlaying,\n    setIsRecording,\n    setIsPlaying,\n  }\n}\n\nexport function LessonStepPractice({Footer}) {\n  const repeat = 3 // 10\n  const [count, setCount] = useState(0)\n  const sceneIdx = useLessonStore((state) => state.sceneIdx)\n  const moveNext = useLessonStore((state) => state.moveNext)\n  const setOverlay = useLessonStore((state) => state.setOverlay)\n  const playerState = useLessonStore((state) => state.playerState)\n  const ytPlayer = useLessonStore((state) => state.ytPlayer)\n  const lesson = useLessonStore((state) => state.lesson)\n  const practiceState = usePracticeState()\n\n  const scene = lesson.scenes[sceneIdx]\n\n  useEffect(() => {\n    ytPlayer.seekTo(scene.start, true)\n    ytPlayer.playVideo()\n  }, [sceneIdx])\n\n  useEffect(() => {\n    if (playerState === PlayerStates.PLAYING) {\n      setOverlay(null)\n      const itv = setInterval(() => {\n        const cur = ytPlayer.getCurrentTime()\n        if (cur > scene.end) {\n          console.log('end')\n          clearInterval(itv)\n          ytPlayer.pauseVideo()\n          ytPlayer.seekTo(scene.start, true)\n          setCount((c) => Math.min(c + 1, repeat))\n        }\n      }, 100)\n      return () => clearInterval(itv)\n    }\n  }, [playerState])\n\n  useEffect(() => {\n    if (count > 0) {\n      setOverlay(<h2>Repeat what you just heard.</h2>)\n      let to = setTimeout(() => {\n        setOverlay(null)\n        if (practiceState.isPlaying || practiceState.isRecording) {\n          return\n        }\n        if (count < 3) {\n          ytPlayer.seekTo(scene.start, true)\n          ytPlayer.playVideo()\n        }\n      }, 8000)\n      return () => clearTimeout(to)\n    }\n    // } else {\n    //   ytPlayer.seekTo(scene.start, true)\n    //   ytPlayer.playVideo()\n    // }\n  }, [count, practiceState.isRecording, practiceState.isPlaying])\n\n  const counts = range(repeat).map((i) => ({\n    num: i + 1,\n    done: i < count,\n  }))\n\n  return (\n    <PracticeContext.Provider value={practiceState}>\n      <ActionBar />\n      <div className=\"practice \">\n        <div\n          className=\"ion-text-center ion-align-self-center shadowing\"\n          id=\"scene-iteration\"\n        >\n          {counts.map((c) => (\n            <IonText key={c.num} className={clsx('lesson-loop', c.done && 'complete')}>\n              <span className={clsx(c.done && 'c-red')}>{c.num}</span>\n            </IonText>\n          ))}\n        </div>\n\n        <h5>1 ) Shadow (repeat what you hear)</h5>\n\n        <ScriptView />\n        <IonRow className=\"ion-margin-top ion-align-items-center ion-justify-content-center\">\n          <IonCol size=\"12\" className=\"ion-align-self-center\">\n            <h5>2 ) Record your speech and get it evaluated</h5>\n          </IonCol>\n        </IonRow>\n        <RecordingView />\n      </div>\n\n      <Footer>\n        <NextButton onClick={() => moveNext()} />\n      </Footer>\n    </PracticeContext.Provider>\n  )\n}\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","export default (value => value == null);","import {Capacitor} from '@capacitor/core'\nimport {mean} from 'lodash'\nimport React from 'react'\n\n// const G_SPEECH_KEY = 'AIzaSyBbKxoaEv0Lgnm8ixXSZEbzJA7aePr9Od8'\n// const G_SPEECH_KEY = 'AIzaSyBbjo_hE0z1qwcUb6wpIOFlYgZeFX7zgFo'\nconst G_SPEECH_KEY = 'AIzaSyAWjLtg7e9W9cNJR6DZDLB5YqdwZ1KCrPk'\n\ninterface SpeechToTextResult {\n  error?: boolean\n  confidence?: number\n  transcript?: string\n  percent?: number\n}\ninterface UseSpeechToTextResult {\n  loading: boolean\n  error?: any\n  data?: SpeechToTextResult\n}\n\nexport function fetchSpeechToText(\n  audioBase64: string,\n  sampleRate: number,\n): Promise<SpeechToTextResult> {\n  const platform = Capacitor.getPlatform()\n  let config: any = {\n    encoding: 'LINEAR16',\n    sampleRateHertz: sampleRate,\n    languageCode: 'en-US',\n    enableWordTimeOffsets: false,\n    audio_channel_count: 1,\n  }\n  if (platform === 'ios' || platform === 'android') {\n    config = {\n      encoding: 'MP3',\n      sampleRateHertz: 16000,\n      languageCode: 'en-US',\n    }\n  }\n\n  return fetch(\n    `https://speech.googleapis.com/v1p1beta1/speech:recognize?key=${G_SPEECH_KEY}`,\n    {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8',\n      },\n      body: JSON.stringify({\n        config,\n        audio: {\n          content: audioBase64,\n        },\n      }),\n    },\n  )\n    .then((res) => res.json())\n    .then((res) => {\n      // const result = res.results[0].alternatives[0]\n      const list = res.results.map((rs) => rs.alternatives[0])\n      const confidence = mean(list.map((alt) => alt.confidence))\n      const transcript = list.map((alt) => alt.transcript).join('. ')\n      const percent = parseInt((confidence * 100).toFixed(), 10)\n\n      return Promise.resolve({\n        confidence,\n        transcript,\n        percent,\n      })\n    })\n}\n\nexport function useSpeechToText(\n  audioBase64,\n  sampleRate,\n  {onCompleted} = {onCompleted: null},\n) {\n  const [state, setState] = React.useState<UseSpeechToTextResult>({loading: true})\n\n  React.useEffect(() => {\n    fetchSpeechToText(audioBase64, sampleRate)\n      .then((data) => {\n        setState({\n          loading: false,\n          data,\n        })\n        onCompleted && onCompleted({...data, error: false})\n      })\n      .catch((err) => {\n        setState({loading: false, error: err})\n        onCompleted &&\n          onCompleted({error: true, confidence: null, transcript: null, percent: null})\n      })\n  }, [audioBase64, sampleRate])\n  return state\n  // return res\n  // console.log(res)\n}\n","// @ts-ignore\nimport isoParse from './util/isodate';\nimport { date as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport Ref from './Reference';\nimport BaseSchema from './schema';\nlet invalidDate = new Date('');\n\nlet isDate = obj => Object.prototype.toString.call(obj) === '[object Date]';\n\nexport function create() {\n  return new DateSchema();\n}\nexport default class DateSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'date'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (this.isType(value)) return value;\n        value = isoParse(value); // 0 is a valid timestamp equivalent to 1970-01-01T00:00:00Z(unix epoch) or before.\n\n        return !isNaN(value) ? new Date(value) : invalidDate;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return isDate(v) && !isNaN(v.getTime());\n  }\n\n  prepareParam(ref, name) {\n    let param;\n\n    if (!Ref.isRef(ref)) {\n      let cast = this.cast(ref);\n      if (!this._typeCheck(cast)) throw new TypeError(`\\`${name}\\` must be a Date or a value that can be \\`cast()\\` to a Date`);\n      param = cast;\n    } else {\n      param = ref;\n    }\n\n    return param;\n  }\n\n  min(min, message = locale.min) {\n    let limit = this.prepareParam(min, 'min');\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value >= this.resolve(limit);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    var limit = this.prepareParam(max, 'max');\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value <= this.resolve(limit);\n      }\n\n    });\n  }\n\n}\nDateSchema.INVALID_DATE = invalidDate;\ncreate.prototype = DateSchema.prototype;\ncreate.INVALID_DATE = invalidDate;","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","export const msg = {\n  MSG_FOLLOWED: 'Followed successfully!',\n  MSG_ACCOUNT_CREATED:\n    \"Welcome! Account created successfully.\\n\\nNotes: \\n1) You've just gotten 5 free lessons.\\n2) Check your email to verify that you're real.\",\n  MSG_OTP_SENT: 'OTP sent to your email/mobile to reset password.',\n  MSG_PASSWORD_RESET: 'Password changed successfully.',\n  MSG_RECOVER_ACCOUNT:\n    'If your recovery email is correct, you should have received OTP to reset your account.',\n  MSG_RECOVER_ACCOUNT_SUCCESS: 'Account recovered successfully.',\n  MSG_PROFILE_UPDATED: 'Profile updated successfully',\n  ERR_USER_NOT_FOUND:\n    'Account with email not found. Please double-check your info or sign up for a new account.',\n  ERR_PASSWORD_NOT_MATCHED:\n    'Wrong Password, Try again or click Forgot Password to reset it.',\n  ERR_VALID_EMAIL: 'Please enter valid email address.',\n  ERR_VALID_NAME: 'Please enter valid name.',\n  ERR_VALID_PHONE_NUMBER: 'Please enter valid phone number.',\n  ERR_INTERNAL_SERVER: 'Internal Server Error!',\n  ERR_USER_ALREADY_EXIST: 'An account with this email address already exists.',\n  ERR_USER_ALREADY_EXIST_RECOVER:\n    'Recovery email is already associated with another account.',\n  ERR_GENRIC_OTP_EXPIRE: 'OTP is not correct or expired, please try again.',\n  ERR_RECOVEREMAIL_SAME: 'Primary email and Recovery email cannot be the same.',\n  ERR_UNAUTH: 'You are unauthorized.',\n  ERR_USER_BLOCKED: 'Your account is not verified yet.',\n  ERR_USER_WITHDRAWN: 'You are withdrawned.',\n  ERR_TOKEN_EXP: 'Your session has expired, please login again',\n  ERR_FB_ACCESS_TOKEN_EXP: 'Facebook access token is expired or not valid.',\n  ERR_GOOGLE_ACCESS_TOKEN_EXP: 'Google access token is expired or not valid.',\n  ERR_KAKAO_ACCESS_TOKEN_EXP: 'Kakao access token is expired or not valid.',\n  ERR_PASSWORD_IS_NOT_MATCHED: 'Password does not matched',\n  DATA_FOUND: 'Data found',\n  NOT_FOUND: 'No data found',\n  MSG_LEVEL_UPDATED: 'Level updated successfully',\n  MSG_PASSWORD_SENT: 'Your password has been sent to your email.',\n  EMAIL_NOT_FOUND: 'This email does not exist.',\n  TRY_AGAIN: 'Oops! Something went wrong. Please try again.',\n  ALREADY_COMPLETED: 'Already completed',\n  VERIFICATION_MAIL_SEND: 'Check your email',\n  NOT_SENDMAIL: 'Not authorized',\n  LOGIN_SUCCESS: 'Login Successful',\n  INVALID_CREDENTIAL: 'Invalid email or password',\n  WRONG_CODE: 'Invalid',\n  UPDATE_SUCCESSFULLY: 'Updated successfully',\n  DELETE_SUCCESSFULLY: 'Deleted successfully',\n  ADD_SUCCESSFULLY: 'Added successfully',\n  UPDATE_LESSON_COUNT: 'Lesson count updated successfully',\n  NOTE_SAVE: 'Just saved successfully.',\n  ALREADY_NOTE_SAVE: 'You have already saved this.',\n  SUBSCRIPTION_LESSON_COUNT: 'Subscription lesson count updated successfully.',\n  NOT_VALID_EMAIL: 'Enter valid email',\n  ERR_PASSWORD: 'Enter current password',\n  ERR_NEW_PASSWORD: 'Enter new password',\n  ERR_CONFIRM_PASSWORD: 'Enter confirm password',\n  ERR_CURRENT_PASSWORD_NOT_MATCHED: \"New password and confirm password don't match\",\n  ERR_INVALID_CURRENT_PASSWORD: 'Invalid current password',\n  MSG_CHANGED_PASSWORD: 'Passoword changed successfully',\n  NO_LESSON_FOUND: 'No lesson found',\n  ADMIN_EMAIL_ALREADY_REGISTERED:\n    'The email address you have entered is already registered.',\n  NOT_LIKED_OWN_COMMENT: \"You can't like your own comment\",\n  NOT_DISLIKED_OWN_COMMENT: \"You can't dislike your own comment\",\n  SUBSCRIPTION_FALSE: 'Your subscription has been canceled.',\n  SAVE_SUBSCRIPTION: 'Your subscription has been saved successfully.',\n  ALREADY_SAVE: \"You've already saved this.\",\n  PLEASE_DO_SUBSCRIPTION:\n    \"Hooray! You've finished all your free lessons. Please purchase a subscription for more lessons.\",\n  COMMENT_LIKED_SUCCESS: 'Liked successfully',\n  COMMENT_DISLIKED_SUCCESS: 'Disliked successfully',\n  COMMENT_REPLY_SUCCESS: 'Replied successfully',\n  ALREADY_LIKE: \"You've already liked this.\",\n  ALREADY_DISLIKE: \"You've already disliked this.\",\n  REQUEST_SENT_SUCCESSFULLY: 'Your request has been sent successfully.',\n  ADMIN_VERIFICATION_EMAIL_SENT:\n    'Verification mail sent. \\nIt may take a while to receive the email',\n  ADMIN_ALREADY_EXISTS: 'Already exists',\n  ADMIN_ACCOUNT_NOT_VERIFIED_YET: 'You account is not verified yet',\n  ADMIN_UNAUTH: 'You are unauthorized',\n  ADMIN_UPDATE_SUCCESSFULLY: 'Updated successfully',\n  ADMIN_ADD_SUCCESSFULLY: 'Added successfully',\n  ADMIN_DELETE_SUCCESSFULLY: 'Deleted successfully',\n  PLZ_CONTACT_TO_ADMIN:\n    'You are blocked by admin. Please contact admin at hi@startenglishnow.net.',\n  PLEASE_BUY_EXTRA_LESSONS: 'Please purchase extra lessons.',\n  CONTACT_US_REQUEST_SENT_SUCCESSFULLY:\n    'Thank you! Your message has been sent successfully.',\n  SUBSCRIPTION_SUCCESS: 'Subscribed successfully. Enjoy learning English!',\n  VERIFICATION_EMAIL_SENT:\n    'We’ve sent you a verification email. Please confirm that you’re real 🙂',\n  ERR_USER_NOT_VERIFIED_EMAIL:\n    'An account with this email address already exists. Please remember to verify it.',\n  ERR_LESSON_DELETED_BY_ADMIN: 'This lesson is deleted by admin.',\n  ERR_USER_NOT_VERIFIED_EMAIL_TRY_PURCHASE:\n    'In order to make an purchase, please verify your account',\n  ERR_LESSONS_NOT_FOUND: \"Today's lessons not found, Please change your level\",\n  LESSON_SAVED: 'Lesson saved successfully.',\n  ERROR_SAVED_LESSON_NOT_FOUND: 'Saved lessons not found.',\n  SAVED_LESSON_REMOVED: 'Saved lesson removed successfully.',\n  USER_CREATED: 'User Created successfully.',\n  USER_DATA: 'User Data',\n  PRODUCTS_DATA: 'Products Data',\n  PAYMENT_METHOD_ADDED: 'Payment Method Added Successfully',\n  PAYMENT_METHOD_ADDED_TO_CUSTOMER: 'Payment method Added to Customer Successfully',\n  PAYMENT_METHOD_REMOVED_FROM_CUSTOMER:\n    'Payment method removed from Customer Successfully',\n  PAYMENT_METHODS: 'Payment methods',\n  SUBSCRIPTION_ADDED: 'Subscription Added Successfully',\n  SUBSCRIPTION_DATA: 'Subscription Details',\n  LESSON_IS_ALREADY_EXIST_IN_SAVED_LESSON: 'Lesson is already saved.',\n  ALL_COUPONS: 'All coupons data.',\n  COUPON_DETAILS: 'coupons details.',\n}\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n"]}