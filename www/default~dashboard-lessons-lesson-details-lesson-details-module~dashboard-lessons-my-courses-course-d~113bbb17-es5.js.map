{"version":3,"sources":["webpack:///node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack:///node_modules/ngx-y2-player/fesm2015/ngx-y2-player.js"],"names":["MapShim","Map","getIndex","arr","key","result","some","entry","index","class_1","__entries__","Object","defineProperty","prototype","get","length","enumerable","configurable","set","value","push","entries","splice","has","clear","forEach","callback","ctx","_i","_a","call","isBrowser","window","document","global$1","global","Math","self","Function","requestAnimationFrame$1","requestAnimationFrame","bind","setTimeout","Date","now","trailingTimeout","throttle","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","REFRESH_DELAY","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","addObserver","observer","indexOf","connect_","removeObserver","observers","disconnect_","changesDetected","updateObservers_","activeObservers","filter","gatherActive","hasActive","broadcastActive","addEventListener","observe","attributes","childList","characterData","subtree","removeEventListener","disconnect","_b","propertyName","isReflowProperty","getInstance","instance_","defineConfigurable","target","props","keys","writable","getWindowOf","ownerGlobal","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","arguments","reduce","size","position","getPaddings","paddings","positions_1","getSVGContentRect","bbox","getBBox","width","height","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","horizPad","left","right","vertPad","top","bottom","boxSizing","round","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","documentElement","getContentRect","createReadOnlyRect","x","y","Constr","DOMRectReadOnly","rect","create","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","contentRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","TypeError","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","_this","observation","map","WeakMap","ResizeObserver","method","apply","Y2PlayerService","platformId","rendererFactory","isLoadApi","loadComplete","_render","createRenderer","pipe","state","elm","id","createVideoId","setAttribute","tag","createElement","firstScriptTag","selectRootElement","insertBefore","parentNode","next","len","random","toString","substr","decorators","type","args","providedIn","ctorParameters","ngInjectableDef","factory","Y2PlayerService_Factory","token","resizeObservable","cb","time","elmObserve$","obs","getIdFromYoutubeUrl","url","regExp","match","defaultRatio","NgxY2PlayerComponent","_y2","_elm","_zoun","onReady","onStateChange","onPlaybackQualityChange","onPlaybackRateChange","onError","onApiChange","initHeight","Array","videoId","v","_videoId","videoPlayer","getPlayerState","loadPlaylist","loadVideoById","cuePlaylist","cueVideoById","playerOptions","containerElm","offsetHeight","setInitStyle","loadYoutube","subscribe","resize$","unsubscribe","destroy","isAutoSize","setAutoSize","setStyle","nativeElement","thumbnail","aspectRatio","offsetWidth","loadY2Api","ready","getNowWidthAndHeight","setSize","resizeDebounceTime","undefined","option","playerVars","host","listType","YT","Player","iframeElement","getIframe","checkAddAllYTEvent","e","removeStyle","run","emit","autoplay","eventId","aspectRation","innerHeight","innerWidth","selector","template","changeDetection","OnPush","propDecorators","videoUrl","NgxY2PlayerModule","imports","declarations","exports"],"mappings":"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","file":"default~dashboard-lessons-lesson-details-lesson-details-module~dashboard-lessons-my-courses-course-d~113bbb17-es5.js","sourcesContent":["/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","import { isPlatformBrowser, isPlatformServer, CommonModule } from '@angular/common';\nimport { Injectable, Inject, PLATFORM_ID, RendererFactory2, defineInjectable, inject, EventEmitter, Component, ChangeDetectionStrategy, ElementRef, Renderer2, NgZone, Input, Output, NgModule } from '@angular/core';\nimport { BehaviorSubject, of, Observable } from 'rxjs';\nimport { filter, take, map, debounceTime, tap, finalize, switchMap, mapTo } from 'rxjs/operators';\nimport ResizeObserver from 'resize-observer-polyfill';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass Y2PlayerService {\n    /**\n     * @param {?} platformId\n     * @param {?} rendererFactory\n     */\n    constructor(platformId, rendererFactory) {\n        this.platformId = platformId;\n        this.rendererFactory = rendererFactory;\n        this.isLoadApi = false;\n        this.loadComplete = new BehaviorSubject(false);\n        this._render = this.rendererFactory.createRenderer(null, null);\n    }\n    /**\n     * @return {?}\n     */\n    ready() {\n        return this.loadComplete.pipe(filter((/**\n         * @param {?} state\n         * @return {?}\n         */\n        state => state === true)), take(1));\n    }\n    /**\n     * @param {?} elm\n     * @return {?}\n     */\n    loadY2Api(elm) {\n        return of(null).pipe(map((/**\n         * @return {?}\n         */\n        () => {\n            /** @type {?} */\n            const id = this.createVideoId();\n            this._render.setAttribute(elm, 'id', id);\n            // if this api is not load, load this api\n            if (!this.isLoadApi) {\n                this.isLoadApi = true;\n                /** @type {?} */\n                const tag = this._render.createElement('script');\n                this._render.setAttribute(tag, 'src', 'https://www.youtube.com/player_api');\n                /** @type {?} */\n                const firstScriptTag = this._render.selectRootElement('script');\n                this._render.insertBefore(firstScriptTag.parentNode, tag, firstScriptTag);\n                if (isPlatformBrowser(this.platformId)) {\n                    window['onYouTubeIframeAPIReady'] = (/**\n                     * @return {?}\n                     */\n                    () => {\n                        // console.log('api load!');\n                        this.loadComplete.next(true);\n                    });\n                }\n            }\n            return id;\n        })));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    createVideoId() {\n        /** @type {?} */\n        const len = 7;\n        return Math.random().toString(35).substr(2, len);\n    }\n}\nY2PlayerService.decorators = [\n    { type: Injectable, args: [{\n                providedIn: 'root'\n            },] }\n];\n/** @nocollapse */\nY2PlayerService.ctorParameters = () => [\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: RendererFactory2 }\n];\n/** @nocollapse */ Y2PlayerService.ngInjectableDef = defineInjectable({ factory: function Y2PlayerService_Factory() { return new Y2PlayerService(inject(PLATFORM_ID), inject(RendererFactory2)); }, token: Y2PlayerService, providedIn: \"root\" });\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * An observable creator for element resize.\n * @param {?} elm the watch element.\n * @param {?} cb when resize complete, call back function.\n * @param {?=} time resize emit time, default is 200\n * @return {?}\n */\nfunction resizeObservable(elm, cb, time = 200) {\n    /** @type {?} */\n    let elmObserve$;\n    return new Observable((/**\n     * @param {?} observer\n     * @return {?}\n     */\n    (observer) => {\n        elmObserve$ = new ResizeObserver((/**\n         * @param {?} entries\n         * @param {?} obs\n         * @return {?}\n         */\n        (entries, obs) => {\n            observer.next(elmObserve$);\n        }));\n        elmObserve$.observe(elm);\n    })).pipe(debounceTime(time), tap((/**\n     * @return {?}\n     */\n    () => cb())), finalize((/**\n     * @return {?}\n     */\n    () => {\n        elmObserve$.unobserve(elm);\n        elmObserve$.disconnect();\n    })));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n// https://stackoverflow.com/questions/3452546/how-do-i-get-the-youtube-video-id-from-a-url\n/**\n * @param {?} url\n * @return {?}\n */\nfunction getIdFromYoutubeUrl(url) {\n    /** @type {?} */\n    const regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&\\?]*).*/;\n    /** @type {?} */\n    const match = url.match(regExp);\n    return (match && match[7].length === 11) ? match[7] : '';\n}\n/** @type {?} */\nconst defaultRatio = (9 / 16);\nclass NgxY2PlayerComponent {\n    /**\n     * @param {?} _y2\n     * @param {?} _elm\n     * @param {?} _render\n     * @param {?} _zoun\n     * @param {?} platformId\n     */\n    constructor(_y2, _elm, _render, _zoun, platformId) {\n        this._y2 = _y2;\n        this._elm = _elm;\n        this._render = _render;\n        this._zoun = _zoun;\n        this.platformId = platformId;\n        this.onReady = new EventEmitter();\n        this.onStateChange = new EventEmitter();\n        this.onPlaybackQualityChange = new EventEmitter();\n        this.onPlaybackRateChange = new EventEmitter();\n        this.onError = new EventEmitter();\n        this.onApiChange = new EventEmitter();\n        this.initHeight = 0;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set videoUrl(value) {\n        if (value instanceof Array) {\n            this.videoId = value.map((/**\n             * @param {?} v\n             * @return {?}\n             */\n            v => getIdFromYoutubeUrl(v)));\n        }\n        else {\n            this.videoId = getIdFromYoutubeUrl(value);\n        }\n    }\n    /**\n     * @return {?}\n     */\n    get videoId() {\n        return this._videoId;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set videoId(value) {\n        this._videoId = value;\n        if (this.videoPlayer) {\n            if (this.videoPlayer.getPlayerState() === 1 /* PLAYING */) {\n                if (value instanceof Array) {\n                    this.videoPlayer.loadPlaylist(value);\n                }\n                else {\n                    this.videoPlayer.loadVideoById(value);\n                }\n            }\n            else {\n                if (value instanceof Array) {\n                    this.videoPlayer.cuePlaylist(value);\n                }\n                else {\n                    this.videoPlayer.cueVideoById(value);\n                }\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    get isAutoSize() { return this.playerOptions.width === 'auto' || this.playerOptions.height === 'auto'; }\n    /**\n     * @return {?}\n     */\n    ngAfterViewInit() {\n        if (this.containerElm) {\n            this.initHeight = this.containerElm.offsetHeight;\n        }\n        this.setInitStyle();\n        if (isPlatformServer(this.platformId)) {\n            return;\n        }\n        this.loadYoutube().subscribe();\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        if (isPlatformServer(this.platformId)) {\n            return;\n        }\n        if (this.resize$) {\n            this.resize$.unsubscribe();\n        }\n        if (this.videoPlayer) {\n            this.videoPlayer.destroy();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setInitStyle() {\n        if (this.isAutoSize) {\n            this.setAutoSize();\n        }\n        else {\n            this._render.setStyle(this._elm.nativeElement, 'width', `${this.playerOptions.width}px`);\n            this._render.setStyle(this._elm.nativeElement, 'height', `${this.playerOptions.height}px`);\n        }\n        this._render.setStyle(this._elm.nativeElement, 'background-size', 'cover');\n        this._render.setStyle(this._elm.nativeElement, 'background-position', 'center');\n        if (this.playerOptions.thumbnail) {\n            /** @type {?} */\n            const id = this.videoId instanceof Array ? this.videoId[0] : this.videoId;\n            this._render.setStyle(this._elm.nativeElement, 'background-image', `url('https://img.youtube.com/vi/${id}/${this.playerOptions.thumbnail}')`);\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setAutoSize() {\n        if (+this.initHeight !== 0) {\n            /** @type {?} */\n            const width = this.initHeight / (this.playerOptions.aspectRatio || defaultRatio);\n            if (!this.containerElm.offsetWidth || width < this.containerElm.offsetWidth) {\n                this._render.setStyle(this._elm.nativeElement, 'height', `${this.initHeight}px`);\n                this._render.setStyle(this._elm.nativeElement, 'width', `${width}px`);\n                return;\n            }\n        }\n        this._render.setStyle(this._elm.nativeElement, 'height', 0);\n        this._render.setStyle(this._elm.nativeElement, 'padding-bottom', `${100 * (this.playerOptions.aspectRatio || defaultRatio)}%`);\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    loadYoutube() {\n        return this._y2.loadY2Api(this._elm.nativeElement).pipe(switchMap((/**\n         * @param {?} id\n         * @return {?}\n         */\n        id => this._y2.ready().pipe(mapTo(id)))), map((/**\n         * @param {?} id\n         * @return {?}\n         */\n        id => {\n            /** @type {?} */\n            let width;\n            /** @type {?} */\n            let height;\n            if (this.isAutoSize) {\n                ({ width, height } = this.getNowWidthAndHeight());\n                this.resize$ = resizeObservable(this.containerElm, (/**\n                 * @return {?}\n                 */\n                () => {\n                    if (this.videoPlayer) {\n                        ({ width, height } = this.getNowWidthAndHeight());\n                        this.videoPlayer.setSize(width, height);\n                    }\n                }), \n                // default time is 200\n                (this.playerOptions.resizeDebounceTime !== undefined ? this.playerOptions.resizeDebounceTime : 200)).subscribe();\n            }\n            else {\n                width = this.playerOptions.width;\n                height = this.playerOptions.height;\n            }\n            return { id, width, height };\n        })), tap((/**\n         * @param {?} __0\n         * @return {?}\n         */\n        ({ id, width, height }) => {\n            /** @type {?} */\n            const option = {\n                width,\n                height,\n                playerVars: this.playerOptions.playerVars || {}\n            };\n            if (this.playerOptions.host) {\n                option.host = this.playerOptions.host;\n            }\n            if (this.videoId instanceof Array) {\n                option.playerVars.listType = 'player';\n            }\n            else {\n                option.videoId = this.videoId;\n            }\n            this.videoPlayer = new YT.Player(id, option);\n            this.iframeElement = this.videoPlayer.getIframe();\n            this._render.setStyle(this.iframeElement, 'background-size', 'cover');\n            this._render.setStyle(this.iframeElement, 'background-position', 'center');\n            this.checkAddAllYTEvent();\n        })));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    checkAddAllYTEvent() {\n        // check ready event\n        this.videoPlayer.addEventListener('onReady', (/**\n         * @param {?} e\n         * @return {?}\n         */\n        (e) => {\n            this._render.removeStyle(this.iframeElement, 'padding-bottom');\n            this._render.removeStyle(this.iframeElement, 'width');\n            this._render.removeStyle(this.iframeElement, 'height');\n            this._render.removeStyle(this.iframeElement, 'background-image');\n            this._render.removeStyle(this.iframeElement, 'background-size');\n            this._render.removeStyle(this.iframeElement, 'background-position');\n            if (this.onReady.observers.length > 0) {\n                // run in zone\n                this._zoun.run((/**\n                 * @return {?}\n                 */\n                () => this.onReady.emit(e)));\n            }\n            if (this.videoId instanceof Array) {\n                if (this.playerOptions.playerVars) {\n                    if (this.playerOptions.playerVars.autoplay) {\n                        this.videoPlayer.loadPlaylist(this.videoId);\n                    }\n                    else {\n                        this.videoPlayer.cuePlaylist(this.videoId);\n                    }\n                }\n            }\n        }));\n        // check other event\n        [\n            'onStateChange',\n            'onPlaybackQualityChange',\n            'onPlaybackRateChange',\n            'onError',\n            'onApiChange'\n        ].forEach((/**\n         * @param {?} eventId\n         * @return {?}\n         */\n        (eventId) => {\n            // check this output has bind event\n            if (this[eventId].observers.length > 0) {\n                // if true, bind event\n                this.videoPlayer.addEventListener(eventId, (/**\n                 * @param {?} e\n                 * @return {?}\n                 */\n                (e) => {\n                    // run in zone\n                    this._zoun.run((/**\n                     * @return {?}\n                     */\n                    () => this[eventId].emit(e)));\n                }));\n            }\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getNowWidthAndHeight() {\n        /** @type {?} */\n        const aspectRation = this.playerOptions.aspectRatio || defaultRatio;\n        /** @type {?} */\n        let width = this.containerElm.offsetWidth;\n        /** @type {?} */\n        let height = width * aspectRation;\n        if (this.initHeight !== 0 && height > this.initHeight) {\n            height = this.initHeight;\n            width = height / aspectRation;\n        }\n        // when height is bigger than window height\n        if (isPlatformBrowser(this.platformId) &&\n            height > window.innerHeight) {\n            height = window.innerHeight;\n            width = window.innerWidth;\n        }\n        return { width, height };\n    }\n}\nNgxY2PlayerComponent.decorators = [\n    { type: Component, args: [{\n                selector: 'ngx-y2-player',\n                template: ``,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [`:host{display:block;width:100%;background:black}`]\n            }] }\n];\n/** @nocollapse */\nNgxY2PlayerComponent.ctorParameters = () => [\n    { type: Y2PlayerService },\n    { type: ElementRef },\n    { type: Renderer2 },\n    { type: NgZone },\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] }\n];\nNgxY2PlayerComponent.propDecorators = {\n    playerOptions: [{ type: Input, args: ['playerOptions',] }],\n    containerElm: [{ type: Input, args: ['container',] }],\n    videoUrl: [{ type: Input, args: ['videoUrl',] }],\n    videoId: [{ type: Input, args: ['videoId',] }],\n    onReady: [{ type: Output, args: ['ready',] }],\n    onStateChange: [{ type: Output, args: ['stateChange',] }],\n    onPlaybackQualityChange: [{ type: Output, args: ['playbackQualityChange',] }],\n    onPlaybackRateChange: [{ type: Output, args: ['playbackRateChange',] }],\n    onError: [{ type: Output, args: ['error',] }],\n    onApiChange: [{ type: Output, args: ['apiChange',] }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NgxY2PlayerModule {\n}\nNgxY2PlayerModule.decorators = [\n    { type: NgModule, args: [{\n                imports: [CommonModule],\n                declarations: [NgxY2PlayerComponent],\n                exports: [NgxY2PlayerComponent]\n            },] }\n];\n\nexport { NgxY2PlayerComponent, NgxY2PlayerModule, Y2PlayerService, getIdFromYoutubeUrl };\n//# sourceMappingURL=ngx-y2-player.js.map\n"]}