{"version":3,"sources":["./src/app/dashboard/search-lessons/search-lessons.page.ts","./src/app/dashboard/search-lessons/search-lessons.page.scss","./src/app/dashboard/search-lessons/search-lessons.module.ts","./src/app/dashboard/search-lessons/search-lessons.page.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAsC;AACiC;AACZ;AACW;AACT;AACA;AACA;AACtB;AACvC,MAAM,EAAC,QAAQ,EAAC,GAAG,wDAAO;AAE1B,MAAM,YAAY,GAAG;IACnB,MAAM,EAAE,wCAAwC;IAChD,OAAO,EAAE,mDAAmD;IAC5D,SAAS,EAAE,mDAAmD;IAC9D,QAAQ,EAAE,oDAAoD;IAC9D,MAAM,EAAE,0CAA0C;IAClD,OAAO,EAAE,6CAA6C;CACvD;AAED,+CAA+C;AAC/C,MAAM,YAAY,GAAG;IACnB,0BAA0B,EAAE,YAAY;IACxC,0BAA0B,EAAE,UAAU;CACvC;IAOY,iBAAiB,SAAjB,iBAAiB;IAqB5B,YACU,aAA4B,EAC5B,aAA4B,EAC7B,QAAkB,EAClB,aAA4B,EAC3B,MAAc,EACf,aAA4B,EAC5B,eAAgC,EAC/B,iBAAoC;QAPpC,kBAAa,GAAb,aAAa,CAAe;QAC5B,kBAAa,GAAb,aAAa,CAAe;QAC7B,aAAQ,GAAR,QAAQ,CAAU;QAClB,kBAAa,GAAb,aAAa,CAAe;QAC3B,WAAM,GAAN,MAAM,CAAQ;QACf,kBAAa,GAAb,aAAa,CAAe;QAC5B,oBAAe,GAAf,eAAe,CAAiB;QAC/B,sBAAiB,GAAjB,iBAAiB,CAAmB;QA3B9C,yBAAoB,GAAG,EAAE;QAGzB,aAAQ,GAAG,CAAC;QACZ,YAAO,GAAG,EAAE;QACZ,eAAU,GAAG,CAAC;QAEd,aAAQ,GAAG,KAAK;QAChB,mBAAc,GAAG,KAAK;QACtB,YAAO,GAAG,KAAK;QACf,cAAS,GAAG,KAAK;QAmBf,IAAI,CAAC,QAAQ;aACV,KAAK,EAAE;aACP,IAAI,CAAC,GAAG,EAAE;YACT,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE;gBAC1D,IAAI,CAAC,SAAS,GAAG,KAAK;aACvB;iBAAM;gBACL,IAAI,CAAC,SAAS,GAAG,IAAI;aACtB;YAED,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,uBAAuB,CAAC;QACzD,CAAC,CAAC;aACD,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACf,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;QACpB,CAAC,CAAC;IACN,CAAC;IA9BD,mBAAmB,CAAC,KAAoB;QACtC,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,EAAE;YAC7D,IAAI,CAAC,UAAU,EAAE;SAClB;IACH,CAAC;IA4BD,gBAAgB;QACd,IAAI,CAAC,aAAa,GAAG,SAAS;QAC9B,IAAI,CAAC,OAAO,GAAG,KAAK;QAEpB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QAC7D,IAAI,IAAI,CAAC,KAAK,KAAK,UAAU,IAAI,IAAI,CAAC,KAAK,KAAK,QAAQ,EAAE;YACxD,IAAI,CAAC,KAAK,GAAG,SAAS;SACvB;QAED,IAAI,CAAC,cAAc,EAAE;QACrB,IAAI,CAAC,uBAAuB,EAAE;IAChC,CAAC;IAED,QAAQ,KAAI,CAAC;IAEb,cAAc;QACZ,IAAI;YACF,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,CAAC,SAAS,CAC/C,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI;gBACvB,IAAI,IAAI,CAAC,OAAO,EAAE;oBAChB,IAAI,CAAC,OAAO,CAAC,gBAAgB;wBAC3B,IAAI,CAAC,OAAO,CAAC,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe;oBAE9D,IAAI,CAAC,SAAS,GAAG,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,cAAc;iBAC1E;gBAED,+BAA+B;YACjC,CAAC,EACD,CAAC,KAAK,EAAE,EAAE,GAAE,CAAC,CACd;SACF;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;SACnB;IACH,CAAC;IAED,SAAS,CAAC,CAAC,EAAE,IAAI;QACf,OAAO,IAAI,CAAC,GAAG;IACjB,CAAC;IAED,uBAAuB;QACrB,IAAI;YACF,IAAI,CAAC,aAAa,CAAC,uBAAuB,EAAE,CAAC,SAAS,CACpD,CAAC,GAAG,EAAE,EAAE;gBACN,MAAM,oBAAoB,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,iCAC7C,EAAE,KACL,IAAI,EAAE,YAAY,CAAC,EAAE,CAAC,GAAG,CAAC,IAC1B,CAAC;gBACH,IAAI,CAAC,oBAAoB,GAAG,oBAAoB;YAClD,CAAC,EACD,CAAC,KAAK,EAAE,EAAE,GAAE,CAAC,CACd;SACF;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;SACnB;IACH,CAAC;IAEK,UAAU,CAAC,KAAM;;YACrB,IACE,IAAI,CAAC,aAAa,KAAK,SAAS;gBAChC,IAAI,CAAC,aAAa,KAAK,EAAE;gBACzB,IAAI,CAAC,SAAS,KAAK,SAAS,EAC5B;gBACA,OAAM;aACP;iBAAM,IAAI,KAAK,KAAK,SAAS,EAAE;gBAC9B,IAAI,CAAC,OAAO,GAAG,EAAE;gBACjB,IAAI,CAAC,QAAQ,GAAG,CAAC;aAClB;YAED,IAAI,KAAK,EAAE;gBACT,IAAI,CAAC,QAAQ,GAAG,KAAK;aACtB;iBAAM;gBACL,IAAI,CAAC,QAAQ,GAAG,IAAI;aACrB;YAED,MAAM,GAAG,GAAG;gBACV,UAAU,EAAE,IAAI,CAAC,SAAS;gBAC1B,GAAG,EAAE,IAAI,CAAC,KAAK;gBACf,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE;aACzC;YAED,IAAI;gBACF,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ;gBAC1B,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,SAAS,EAAE;gBAEzE,IAAI,IAAI,KAAK,CAAC,EAAE;oBACd,IAAI,CAAC,OAAO,GAAG,EAAE;iBAClB;gBAED,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;oBACvB,IAAI,CAAC,cAAc,GAAG,KAAK;oBAC3B,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAQ,EAAE,EAAE;wBAC5B,IAAI,GAAG,CAAC,UAAU,KAAK,YAAY,EAAE;4BACnC,GAAG,CAAC,UAAU,GAAG,gBAAgB;yBAClC;wBACD,GAAG,CAAC,SAAS,GAAG,6BAA6B,GAAG,GAAG,CAAC,SAAS,GAAG,gBAAgB;wBAChF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC;oBACxB,CAAC,CAAC;oBAEF,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,CAAC;oBACxB,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,KAAK;oBAE3B,IAAI,KAAK,EAAE;wBACT,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE;qBACxB;oBAED,IAAI,CAAC,QAAQ,GAAG,KAAK;iBACtB;qBAAM;oBACL,IAAI,KAAK,EAAE;wBACT,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE;qBACxB;oBAED,IAAI,CAAC,cAAc,GAAG,IAAI;oBAC1B,IAAI,CAAC,QAAQ,GAAG,KAAK;oBAErB,IAAI,KAAK,KAAK,SAAS,EAAE;wBACvB,IAAI,CAAC,OAAO,GAAG,EAAE;qBAClB;iBACF;aACF;YAAC,OAAO,KAAK,EAAE;gBACd,IAAI,KAAK,EAAE;oBACT,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE;iBACxB;gBACD,IAAI,CAAC,QAAQ,GAAG,KAAK;gBACrB,IAAI,CAAC,cAAc,GAAG,IAAI;aAC3B;QACH,CAAC;KAAA;IAED,QAAQ;QACN,IAAI,CAAC,OAAO,GAAG,KAAK;QACpB,IAAI,CAAC,aAAa,GAAG,SAAS;IAChC,CAAC;IAED,UAAU;QACR,IAAI,CAAC,OAAO,GAAG,EAAE;QACjB,IAAI,CAAC,aAAa,GAAG,SAAS;QAC9B,IAAI,CAAC,QAAQ,GAAG,CAAC;IACnB,CAAC;IAED,QAAQ,CAAC,aAAc;QACrB,IAAI,CAAC,QAAQ,GAAG,CAAC;QACjB,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE;YACjC,QAAQ,CAAC,IAAI,EAAE;SAChB;QACD,IAAI,aAAa,KAAK,SAAS,IAAI,aAAa,KAAK,EAAE,EAAE;YACvD,IAAI,CAAC,UAAU,EAAE;SAClB;aAAM;YACL,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;SACzB;IACH,CAAC;IAED,QAAQ,CAAC,KAAK;QACZ,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;QACtB,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,UAAU,EAAE;gBACpC,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI;aAC7B;QACH,CAAC,EAAE,GAAG,CAAC;IACT,CAAC;IAED,QAAQ,KAAI,CAAC;IAEb,aAAa,CAAC,OAAO;QACnB,IAAI,CAAC,aAAa,GAAG,SAAS;QAC9B,IAAI,CAAC,OAAO,GAAG,OAAO;IACxB,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,OAAO,GAAG,EAAE;QACjB,IAAI,CAAC,QAAQ,GAAG,KAAK;QACrB,IAAI,CAAC,aAAa,GAAG,SAAS;QAC9B,IAAI,CAAC,QAAQ,GAAG,CAAC;IACnB,CAAC;IAED,eAAe,CAAC,WAAW;QACzB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,SAAS,CAAC;QAC1C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;IACtE,CAAC;IAEK,cAAc;;YAClB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,SAAS,CAAC;YAC1C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC;QACzC,CAAC;KAAA;CACF;;YA/PO,sEAAa;YAHb,oEAAa;YADb,uDAAQ;YAAE,4DAAa;YADvB,sDAAM;YAIN,sEAAa;YAHY,8DAAe;YAExC,+EAAiB;;;kCAyCtB,0DAAY,SAAC,mBAAmB,EAAE,CAAC,QAAQ,CAAC;;AAdlC,iBAAiB;IAL7B,+DAAS,CAAC;QACT,QAAQ,EAAE,oBAAoB;QAC9B,sFAAyC;;KAE1C,CAAC;mFAuByB,sEAAa;QACb,oEAAa;QACnB,uDAAQ;QACH,4DAAa;QACnB,sDAAM;QACA,sEAAa;QACX,8DAAe;QACZ,+EAAiB;GA7BnC,iBAAiB,CAsO7B;AAtO6B;;;;;;;;;;;;;AC9B9B;AAAe,+FAAgC,uBAAuB,2BAA2B,GAAG,+CAA+C,iBAAiB,iBAAiB,0BAA0B,GAAG,kDAAkD,wBAAwB,sBAAsB,qBAAqB,4BAA4B,GAAG,0CAA0C,+BAA+B,sCAAsC,GAAG,wBAAwB,qBAAqB,GAAG,2BAA2B,mBAAmB,mBAAmB,GAAG,sBAAsB,sBAAsB,GAAG,8CAA8C,eAAe,iBAAiB,iBAAiB,GAAG,6CAA6C,gDAAgD,iBAAiB,KAAK,GAAG,6CAA6C,+rDAA+rD,E;;;;;;;;;;;;;;;;;;;;;;;;ACAz/E;AACT;AACvB;AACM;AACF;AACU;AAEV;AAEa;AAEvD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sEAAiB;KAC7B;CACF;IAOY,uBAAuB,SAAvB,uBAAuB;CAAG;AAA1B,uBAAuB;IALnC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,EAAE,0DAAW,EAAE,0DAAW,EAAE,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAChF,YAAY,EAAE,CAAC,sEAAiB,CAAC;QACjC,SAAS,EAAE,CAAC,+EAAiB,EAAE,sEAAa,CAAC;KAC9C,CAAC;GACW,uBAAuB,CAAG;AAAH;;;;;;;;;;;;;ACvBpC;AAAe,+2BAAgzB,qRAAqR,63BAA63B,6BAA6B,4fAA4f,oSAAoS,6BAA6B,oMAAoM,6BAA6B,0vDAA0vD,oBAAoB,oIAAoI,qBAAqB,4FAA4F,qBAAqB,2jCAA2jC,2CAA2C,iBAAiB,uhCAAuhC,E","file":"search-lessons-search-lessons-module-es2015.js","sourcesContent":["import {Router} from '@angular/router'\nimport {Platform, NavController, AlertController} from '@ionic/angular'\nimport {GlobalService} from './../../global/global.service'\nimport {OnBoardingService} from './../../services/on-boarding.service'\nimport {SharedService} from './../../services/shared.service'\nimport {SearchService} from './../../services/search.service'\nimport {Component, OnInit, HostListener} from '@angular/core'\nimport {Plugins} from '@capacitor/core'\nconst {Keyboard} = Plugins\n\nconst weeklyImages = {\n  Monday: '../../../assets/images/search/news.png',\n  Tuesday: '../../../assets/images/search/general-english.png',\n  Wednesday: '../../../assets/images/search/tv-shows-movies.png',\n  Thursday: '../../../assets/images/search/business-english.png',\n  Friday: '../../../assets/images/search/speech.png',\n  Weekend: '../../../assets/images/search/pop-songs.png',\n}\n\n// It's UGLY!!! duplicated with lessons.page.ts\nconst userLevelIds = {\n  '5b117087602e39d075e7cfcc': 'Elementary',\n  '5b117088602e39d075e7cfcd': 'Advanced',\n}\n\n@Component({\n  selector: 'app-search-lessons',\n  templateUrl: './search-lessons.page.html',\n  styleUrls: ['./search-lessons.page.scss'],\n})\nexport class SearchLessonsPage implements OnInit {\n  profile\n  suggestedCurriculums = []\n  searchKeyWord\n  today\n  nextPage = 1\n  lessons = []\n  totalPages = 0\n  userLevel\n  isSearch = false\n  searchNotFound = false\n  isFocus = false\n  isDesktop = false\n\n  @HostListener('document:keypress', ['$event'])\n  handleKeyboardEvent(event: KeyboardEvent) {\n    if (this.searchKeyWord !== undefined && event.key === 'Enter') {\n      this.getLessons()\n    }\n  }\n\n  constructor(\n    private searchService: SearchService,\n    private globalService: GlobalService,\n    public platform: Platform,\n    public navController: NavController,\n    private router: Router,\n    public sharedService: SharedService,\n    public alertController: AlertController,\n    private onBoardingService: OnBoardingService,\n  ) {\n    this.platform\n      .ready()\n      .then(() => {\n        if (this.platform.is('android') || this.platform.is('ios')) {\n          this.isDesktop = false\n        } else {\n          this.isDesktop = true\n        }\n\n        this.sharedService.gaTrackView('Search Lessons Screen')\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n\n  ionViewWillEnter() {\n    this.searchKeyWord = undefined\n    this.isFocus = false\n\n    this.today = this.globalService.weekdays[new Date().getDay()]\n    if (this.today === 'Saturday' || this.today === 'Sunday') {\n      this.today = 'Weekend'\n    }\n\n    this.getUserProfile()\n    this.getSuggestedCurriculums()\n  }\n\n  ngOnInit() {}\n\n  getUserProfile() {\n    try {\n      this.onBoardingService.getUserProfile().subscribe(\n        (res) => {\n          this.profile = res.data\n          if (this.profile) {\n            this.profile.trialLessonsLeft =\n              this.profile.trialLessonLimit - this.profile.completedLesson\n\n            this.userLevel = userLevelIds[this.profile.userLevelId] || 'Intermediate'\n          }\n\n          // console.log( this.profile );\n        },\n        (error) => {},\n      )\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  trackById(i, item) {\n    return item._id\n  }\n\n  getSuggestedCurriculums() {\n    try {\n      this.searchService.getSuggestedCurriculums().subscribe(\n        (res) => {\n          const suggestedCurriculums = res.data.map((el) => ({\n            ...el,\n            icon: weeklyImages[el.day],\n          }))\n          this.suggestedCurriculums = suggestedCurriculums\n        },\n        (error) => {},\n      )\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  async getLessons(event?) {\n    if (\n      this.searchKeyWord === undefined ||\n      this.searchKeyWord === '' ||\n      this.userLevel === undefined\n    ) {\n      return\n    } else if (event === undefined) {\n      this.lessons = []\n      this.nextPage = 1\n    }\n\n    if (event) {\n      this.isSearch = false\n    } else {\n      this.isSearch = true\n    }\n\n    const obj = {\n      videoLevel: this.userLevel,\n      day: this.today,\n      searchKeyWord: this.searchKeyWord.trim(),\n    }\n\n    try {\n      const page = this.nextPage\n      const res = await this.searchService.searchLessons(page, obj).toPromise()\n\n      if (page === 1) {\n        this.lessons = []\n      }\n\n      if (res.data.length > 0) {\n        this.searchNotFound = false\n        res.data.forEach((ele: any) => {\n          if (ele.videoLevel === 'Elementary') {\n            ele.videoLevel = 'Upper-beginner'\n          }\n          ele.thumbnail = 'https://img.youtube.com/vi/' + ele.youtubeId + '/mqdefault.jpg'\n          this.lessons.push(ele)\n        })\n\n        this.nextPage = page + 1\n        this.totalPages = res.total\n\n        if (event) {\n          event.target.complete()\n        }\n\n        this.isSearch = false\n      } else {\n        if (event) {\n          event.target.complete()\n        }\n\n        this.searchNotFound = true\n        this.isSearch = false\n\n        if (event === undefined) {\n          this.lessons = []\n        }\n      }\n    } catch (error) {\n      if (event) {\n        event.target.complete()\n      }\n      this.isSearch = false\n      this.searchNotFound = true\n    }\n  }\n\n  onCancel() {\n    this.isFocus = false\n    this.searchKeyWord = undefined\n  }\n\n  clearInput() {\n    this.lessons = []\n    this.searchKeyWord = undefined\n    this.nextPage = 1\n  }\n\n  onSearch(searchKeyWord?) {\n    this.nextPage = 1\n    if (this.platform.is('capacitor')) {\n      Keyboard.show()\n    }\n    if (searchKeyWord !== undefined || searchKeyWord !== '') {\n      this.getLessons()\n    } else {\n      this.focusOnSearch(true)\n    }\n  }\n\n  loadData(event) {\n    this.getLessons(event)\n    setTimeout(() => {\n      if (this.nextPage >= this.totalPages) {\n        event.target.disabled = true\n      }\n    }, 500)\n  }\n\n  shareNow() {}\n\n  focusOnSearch(isFocus) {\n    this.searchKeyWord = undefined\n    this.isFocus = isFocus\n  }\n\n  ionViewWillLeave() {\n    this.lessons = []\n    this.isSearch = false\n    this.searchKeyWord = undefined\n    this.nextPage = 1\n  }\n\n  onLessonDetails(subLessonId) {\n    this.navController.setDirection('forward')\n    this.router.navigate(['/lesson-details', subLessonId, false, false])\n  }\n\n  async onSubscription() {\n    this.navController.setDirection('forward')\n    this.router.navigate(['/subscription'])\n  }\n}\n","export default \"ion-content ion-list ion-item {\\n  --padding-start: 0;\\n  --inner-padding-end: 0;\\n}\\nion-content ion-list ion-item ion-thumbnail {\\n  width: 120px;\\n  height: 90px;\\n  --border-radius: 15px;\\n}\\nion-content ion-list ion-item h2.ion-text-wrap {\\n  line-height: 1.35em;\\n  max-height: 2.7em;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\nion-content ion-list ion-item ion-icon {\\n  -webkit-margin-start: 10px;\\n          margin-inline-start: 10px;\\n}\\nion-content ion-card {\\n  font-weight: 500;\\n}\\nion-content ion-spinner {\\n  display: block;\\n  margin: 0 auto;\\n}\\n.search-categories {\\n  padding: 7px 20px;\\n}\\n.search-categories .search-categories-icon {\\n  width: 40%;\\n  height: 60px;\\n  float: right;\\n}\\n@media only screen and (max-width: 414px) {\\n  .search-categories .search-categories-icon {\\n    width: 50%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NlYXJjaC1sZXNzb25zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFSTtFQUNFLGtCQUFBO0VBQ0Esc0JBQUE7QUFETjtBQUVNO0VBQ0UsWUFBQTtFQUNBLFlBQUE7RUFDQSxxQkFBQTtBQUFSO0FBRU07RUFDRSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtBQUFSO0FBRU07RUFDRSwwQkFBQTtVQUFBLHlCQUFBO0FBQVI7QUFJRTtFQUNFLGdCQUFBO0FBRko7QUFJRTtFQUNFLGNBQUE7RUFDQSxjQUFBO0FBRko7QUFLQTtFQUNFLGlCQUFBO0FBRkY7QUFHRTtFQUNFLFVBQUE7RUFFQSxZQUFBO0VBQ0EsWUFBQTtBQUZKO0FBS0E7RUFFSTtJQUNFLFVBQUE7RUFISjtBQUNGIiwiZmlsZSI6InNlYXJjaC1sZXNzb25zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcbiAgaW9uLWxpc3Qge1xuICAgIGlvbi1pdGVtIHtcbiAgICAgIC0tcGFkZGluZy1zdGFydDogMDtcbiAgICAgIC0taW5uZXItcGFkZGluZy1lbmQ6IDA7XG4gICAgICBpb24tdGh1bWJuYWlsIHtcbiAgICAgICAgd2lkdGg6IDEyMHB4O1xuICAgICAgICBoZWlnaHQ6IDkwcHg7XG4gICAgICAgIC0tYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICAgIH1cbiAgICAgIGgyLmlvbi10ZXh0LXdyYXAge1xuICAgICAgICBsaW5lLWhlaWdodDogMS4zNWVtO1xuICAgICAgICBtYXgtaGVpZ2h0OiAyLjdlbTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICB9XG4gICAgICBpb24taWNvbiB7XG4gICAgICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDEwcHg7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlvbi1jYXJkIHtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICB9XG4gIGlvbi1zcGlubmVyIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgfVxufVxuLnNlYXJjaC1jYXRlZ29yaWVzIHtcbiAgcGFkZGluZzogN3B4IDIwcHg7XG4gIC5zZWFyY2gtY2F0ZWdvcmllcy1pY29uIHtcbiAgICB3aWR0aDogNDAlO1xuICAgIC8vIHdpZHRoOiA2MHB4O1xuICAgIGhlaWdodDogNjBweDtcbiAgICBmbG9hdDogcmlnaHQ7XG4gIH1cbn1cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNDE0cHgpIHtcbiAgLnNlYXJjaC1jYXRlZ29yaWVzIHtcbiAgICAuc2VhcmNoLWNhdGVnb3JpZXMtaWNvbiB7XG4gICAgICB3aWR0aDogNTAlO1xuICAgIH1cbiAgfVxufVxuIl19 */\";","import {OnBoardingService} from './../../services/on-boarding.service'\nimport {SearchService} from './../../services/search.service'\nimport {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {FormsModule} from '@angular/forms'\nimport {Routes, RouterModule} from '@angular/router'\n\nimport {IonicModule} from '@ionic/angular'\n\nimport {SearchLessonsPage} from './search-lessons.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SearchLessonsPage,\n  },\n]\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes)],\n  declarations: [SearchLessonsPage],\n  providers: [OnBoardingService, SearchService],\n})\nexport class SearchLessonsPageModule {}\n","export default \"<ion-content>\\n  <ion-grid>\\n    <ion-row class=\\\"ion-margin-top ion-justify-content-center\\\">\\n      <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"8\\\" sizeXl=\\\"4\\\" sizeLg=\\\"6\\\" class=\\\"ion-align-self-center\\\">\\n        <ion-searchbar\\n          mode=\\\"md\\\"\\n          id=\\\"searchKeyWord\\\"\\n          name=\\\"searchKeyWord\\\"\\n          [(ngModel)]=\\\"searchKeyWord\\\"\\n          showCancelButton=\\\"focus\\\"\\n          clear-icon=\\\"close-circle\\\"\\n          (ionFocus)=\\\"focusOnSearch(true)\\\"\\n          animated\\n          placeholder=\\\"Search your lesson\\\"\\n          (ionClear)=\\\"clearInput()\\\"\\n          (ionCancel)=\\\"onCancel()\\\"\\n          (ionChange)=\\\"onSearch(searchKeyWord)\\\"\\n        >\\n        </ion-searchbar>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"!isFocus && searchKeyWord === undefined; else searchLessonsFound\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\" *ngIf=\\\"suggestedCurriculums.length\\\">\\n        <ion-row\\n          class=\\\"ion-align-items-center ion-justify-content-center\\\"\\n          *ngFor=\\\"let suggestedCurriculum of suggestedCurriculums; trackBy: trackById\\\"\\n        >\\n          <ion-col\\n            sizeXs=\\\"12\\\"\\n            sizeSm=\\\"12\\\"\\n            sizeMd=\\\"8\\\"\\n            sizeXl=\\\"4\\\"\\n            sizeLg=\\\"6\\\"\\n            class=\\\"ion-align-self-center pointer\\\"\\n            [routerLink]=\\\"[\\n              '/search-list',\\n              suggestedCurriculum.lessonTopicId,\\n              suggestedCurriculum.title,\\n              suggestedCurriculum.day\\n            ]\\\"\\n            routerLinkActive=\\\"router-link-active\\\"\\n          >\\n            <ion-card mode=\\\"ios\\\" class=\\\"card\\\">\\n              <ion-card-content class=\\\"search-categories\\\" mode=\\\"ios\\\">\\n                <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n                  <ion-col size=\\\"8\\\" class=\\\"ion-align-self-center ion-text-left\\\">\\n                    <ion-text color=\\\"dark\\\">\\n                      <strong>{{ suggestedCurriculum.title }}</strong>\\n                    </ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"4\\\">\\n                    <ion-img class=\\\"search-categories-icon\\\" [src]=\\\"suggestedCurriculum.icon\\\"></ion-img>\\n                  </ion-col>\\n                </ion-row>\\n              </ion-card-content>\\n            </ion-card>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row\\n          *ngIf=\\\"profile?.currentPackage === 'Trial' || profile?.currentPackage === 'SubscriptionExpired'; else pro\\\"\\n          class=\\\"ion-justify-content-center\\\"\\n        >\\n          <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"8\\\" sizeXl=\\\"4\\\" sizeLg=\\\"6\\\" class=\\\"ion-align-self-center\\\">\\n            <p *ngIf=\\\"profile?.trialLessonsLeft <= 1\\\" class=\\\"ion-text-center\\\">\\n              {{ profile?.trialLessonsLeft }} free lesson is left. <br />\\n              Subscribe to unlock more lessons.\\n            </p>\\n            <p *ngIf=\\\"profile?.trialLessonsLeft > 1\\\" class=\\\"ion-text-center\\\">\\n              {{ profile?.trialLessonsLeft }} free lessons are left. <br />\\n              Subscribe to unlock more lessons.\\n            </p>\\n            <ion-button mode=\\\"ios\\\" color=\\\"danger\\\" shape=\\\"round\\\" expand=\\\"block\\\" (click)=\\\"onSubscription()\\\">\\n              <strong>SUBSCRIBE NOW</strong>\\n            </ion-button>\\n          </ion-col>\\n        </ion-row>\\n        <ng-template #pro>\\n          <ion-row class=\\\"ion-justify-content-center\\\">\\n            <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"8\\\" sizeXl=\\\"4\\\" sizeLg=\\\"6\\\" class=\\\"ion-align-self-center\\\">\\n              <p class=\\\"ion-text-center\\\">Help friends improve English</p>\\n              <ion-button\\n                mode=\\\"ios\\\"\\n                color=\\\"danger\\\"\\n                shape=\\\"round\\\"\\n                expand=\\\"block\\\"\\n                [routerLink]=\\\"['/share-app']\\\"\\n                routerLinkActive=\\\"router-link-active\\\"\\n              >\\n                <strong>SHARE NOW</strong></ion-button\\n              >\\n            </ion-col>\\n          </ion-row>\\n        </ng-template>\\n      </ion-col>\\n    </ion-row>\\n    <ng-template #searchLessonsFound>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\n          <ion-row *ngIf=\\\"isSearch === false\\\" class=\\\"ion-justify-content-center\\\">\\n            <ion-col sizeXs=\\\"12\\\" sizeSm=\\\"12\\\" sizeMd=\\\"10\\\" sizeLg=\\\"9\\\" sizeXl=\\\"9\\\" class=\\\"ion-align-self-center\\\">\\n              <ion-list mode=\\\"md\\\" class=\\\"ion-no-padding\\\" list=\\\"none\\\">\\n                <ion-item\\n                  class=\\\"pointer\\\"\\n                  *ngFor=\\\"let lesson of lessons\\\"\\n                  mode=\\\"md\\\"\\n                  (click)=\\\"onLessonDetails(lesson._id)\\\"\\n                >\\n                  <ion-thumbnail slot=\\\"start\\\">\\n                    <ion-img src=\\\"{{ lesson.thumbnail }}\\\"></ion-img>\\n                  </ion-thumbnail>\\n                  <ion-label>\\n                    <h2 class=\\\"ion-text-wrap\\\">{{ lesson.lessonName }}</h2>\\n                    <p>\\n                      <ion-text>\\n                        {{ lesson.videoLevel }}\\n                      </ion-text>\\n                    </p>\\n                  </ion-label>\\n                  <ion-icon mode=\\\"ios\\\" name=\\\"chevron-forward\\\" slot=\\\"end\\\"></ion-icon>\\n                </ion-item>\\n              </ion-list>\\n            </ion-col>\\n          </ion-row>\\n\\n          <ng-container *ngIf=\\\"isSearch === true\\\">\\n            <ion-spinner></ion-spinner>\\n          </ng-container>\\n\\n          <ion-row\\n            *ngIf=\\\"isSearch === false && lessons.length === 0\\\"\\n            class=\\\"ion-text-center ion-align-items-center ion-justify-content-center ion-margin-top\\\"\\n          >\\n            <ion-col\\n              *ngIf=\\\"searchKeyWord !== undefined && searchNotFound\\\"\\n              sizeXs=\\\"12\\\"\\n              sizeSm=\\\"12\\\"\\n              sizeMd=\\\"6\\\"\\n              sizeXl=\\\"4\\\"\\n              sizeLg=\\\"4\\\"\\n              class=\\\"ion-align-self-center\\\"\\n            >\\n              <img class=\\\"ion-margin-bottom\\\" src=\\\"../../../assets/images/search-lessons-not-found.png\\\" width=\\\"30%\\\" />\\n              <h3 style=\\\"font-weight: 400;\\\">\\n                No results for <b>\\\"{{ searchKeyWord }}\\\"</b><br />\\n                Try again using different spelling or keywords\\n              </h3>\\n            </ion-col>\\n            <ion-col\\n              *ngIf=\\\"searchKeyWord === undefined\\\"\\n              sizeXs=\\\"12\\\"\\n              sizeSm=\\\"12\\\"\\n              sizeMd=\\\"6\\\"\\n              sizeXl=\\\"4\\\"\\n              sizeLg=\\\"4\\\"\\n              class=\\\"ion-align-self-center\\\"\\n            >\\n              <img class=\\\"ion-margin-bottom\\\" src=\\\"../../../assets/images/search-lessons.png\\\" width=\\\"30%\\\" />\\n              <h3>\\n                Explore the lessons\\n              </h3>\\n              <ion-text>\\n                Search for keywords, accents, topics, and genres.\\n              </ion-text>\\n            </ion-col>\\n          </ion-row>\\n        </ion-col>\\n      </ion-row>\\n    </ng-template>\\n  </ion-grid>\\n  <ion-infinite-scroll *ngIf=\\\"searchKeyWord\\\" threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n    <ion-infinite-scroll-content> </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}