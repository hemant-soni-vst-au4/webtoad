{"version":3,"sources":["webpack:///src/app/on-boarding/on-boarding-level/on-boarding-level.page.html","webpack:///src/app/on-boarding/on-boarding-level/on-boarding-level.page.scss","webpack:///src/app/on-boarding/on-boarding-level/on-boarding-level.module.ts","webpack:///src/app/on-boarding/on-boarding-level/on-boarding-level.page.ts"],"names":["routes","path","component","OnBoardingLevelPageModule","imports","forChild","declarations","providers","schemas","OnBoardingLevelPage","onBoardingService","router","alertController","navController","platform","sharedService","isDesktop","playerOptions","playerVars","autohide","autoplay","controls","disablekb","enablejsapi","modestbranding","playsinline","rel","showinfo","levels","getDeviceInfo","then","info","gaTrackView","userGuid","levelList","language","subscribe","res","youtubeId","data","youTubeId","error","console","log","create","subHeader","message","cssClass","buttons","alert","present","event","currentLevel","findLevel","find","level","id","gaTrackEvent","name","video","videoPlayer","pauseVideo","changeLevel","setDirection","navigate","target","selector","template"],"mappings":"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","file":"on-boarding-on-boarding-level-on-boarding-level-module-es5.js","sourcesContent":["export default \"<ion-content>\\n  <ion-grid class=\\\"ion-margin-top\\\">\\n    <ion-row *ngIf=\\\"isDesktop === true\\\" class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n      <ion-col size-md=\\\"1\\\" size-xl=\\\"1\\\" class=\\\"ion-align-self-center\\\">\\n        <img src=\\\"../../../assets/images/logo.png\\\" alt=\\\"start english now\\\" />\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"10\\\" size-xl=\\\"8\\\" size-lg=\\\"8\\\" class=\\\"ion-align-self-center\\\">\\n        <h5 [ngClass]=\\\"{'ion-text-center': isDesktop === true}\\\" class=\\\"\\\">\\n          I have\\n          <strong>3 questions</strong>\\n          for you to personalize your learning.\\n        </h5>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"on-boarding-level ion-align-items-center ion-justify-content-center\\\" #container>\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"10\\\" size-xl=\\\"8\\\" size-lg=\\\"8\\\" class=\\\"ion-align-self-center\\\">\\n        <h3 class=\\\"ion-text-center ion-margin-bottom\\\">\\n          1 ) How much you can understand from the below?\\n        </h3>\\n        <ion-row class=\\\"lesson ion-align-items-center ion-justify-content-center\\\">\\n          <ion-col\\n            sizeXs=\\\"12\\\"\\n            sizeSm=\\\"12\\\"\\n            sizeMd=\\\"10\\\"\\n            sizeLg=\\\"8\\\"\\n            sizeXl=\\\"8\\\"\\n            class=\\\"ion-align-self-center ion-no-padding youtube-container\\\"\\n          >\\n            <ngx-y2-player\\n              *ngIf=\\\"youTubeId !== undefined; else noYouTubeId\\\"\\n              #video\\n              [videoId]=\\\"youTubeId\\\"\\n              [playerOptions]=\\\"playerOptions\\\"\\n              [container]=\\\"container\\\"\\n              (ready)=\\\"onReady($event)\\\"\\n              (stateChange)=\\\"onStateChange($event)\\\"\\n              style=\\\"pointer-events: all;\\\"\\n            >\\n            </ngx-y2-player>\\n            <ng-template #noYouTubeId>\\n              <!-- <ion-spinner></ion-spinner> -->\\n            </ng-template>\\n          </ion-col>\\n        </ion-row>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row class=\\\"ion-align-items-center ion-justify-content-center ion-margin-top\\\">\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"6\\\" size-xl=\\\"4\\\" size-lg=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n        <ion-radio-group [(ngModel)]=\\\"selectedLevel\\\" (ionChange)=\\\"selectLevel(selectedLevel)\\\">\\n          <ion-item lines=\\\"none\\\" *ngFor=\\\"let level of levels\\\">\\n            <ion-label *ngIf=\\\"level.name === 'Elementary'\\\">Not much (0-40%)</ion-label>\\n            <ion-label *ngIf=\\\"level.name === 'Intermediate'\\\">About half (40-70%)</ion-label>\\n            <ion-label *ngIf=\\\"level.name === 'Advanced'\\\">Quite a lot (70% or more)</ion-label>\\n            <ion-radio color=\\\"danger\\\" mode=\\\"md\\\" slot=\\\"end\\\" [value]=\\\"level._id\\\"> </ion-radio>\\n          </ion-item>\\n        </ion-radio-group>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row\\n      class=\\\"ion-align-items-center ion-justify-content-center ion-margin-top\\\"\\n      *ngIf=\\\"currentLevel !== undefined && currentLevel?.name !== undefined\\\"\\n    >\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"6\\\" size-xl=\\\"4\\\" size-lg=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n        <ion-card class=\\\"ion-no-margin\\\" mode=\\\"ios\\\">\\n          <ion-card-content>\\n            Cool, we'll recommend\\n            <ion-text color=\\\"danger\\\"> {{ currentLevel.name | lowercase }} lessons </ion-text>\\n            for you. You can always change your level in settings.\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row\\n      class=\\\"ion-align-items-center ion-justify-content-center ion-margin-top\\\"\\n      *ngIf=\\\"currentLevel !== undefined && currentLevel?.name !== undefined\\\"\\n    >\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"6\\\" size-xl=\\\"4\\\" size-lg=\\\"4\\\" class=\\\"ion-align-self-center\\\">\\n        <ion-button mode=\\\"ios\\\" color=\\\"danger\\\" shape=\\\"round\\\" expand=\\\"block\\\" (click)=\\\"nextQuestion()\\\">\\n          <strong>OKAY, NEXT QUESTION</strong>\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";","export default \"ion-content h3 {\\n  font-weight: 400;\\n}\\nion-content ion-spinner {\\n  display: block;\\n  margin: 0 auto;\\n  height: 170px;\\n}\\nion-content ion-card {\\n  border: 1.2px solid #d8d8d8;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL29uLWJvYXJkaW5nLWxldmVsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLGdCQUFBO0FBQUo7QUFFRTtFQUNFLGNBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtBQUFKO0FBRUU7RUFDRSwyQkFBQTtBQUFKIiwiZmlsZSI6Im9uLWJvYXJkaW5nLWxldmVsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcbiAgaDMge1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIH1cbiAgaW9uLXNwaW5uZXIge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIGhlaWdodDogMTcwcHg7XG4gIH1cbiAgaW9uLWNhcmQge1xuICAgIGJvcmRlcjogMS4ycHggc29saWQgI2Q4ZDhkODtcbiAgfVxufVxuIl19 */\";","import {NgxY2PlayerModule} from 'ngx-y2-player'\nimport {OnBoardingService} from './../../services/on-boarding.service'\nimport {NgModule, CUSTOM_ELEMENTS_SCHEMA} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {FormsModule} from '@angular/forms'\nimport {Routes, RouterModule} from '@angular/router'\n\nimport {IonicModule} from '@ionic/angular'\n\nimport {OnBoardingLevelPage} from './on-boarding-level.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OnBoardingLevelPage,\n  },\n]\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    NgxY2PlayerModule,\n  ],\n  declarations: [OnBoardingLevelPage],\n  providers: [OnBoardingService],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n})\nexport class OnBoardingLevelPageModule {}\n","import {NavController, Platform} from '@ionic/angular'\nimport {Router} from '@angular/router'\nimport {SharedService} from './../../services/shared.service'\nimport {OnBoardingService} from './../../services/on-boarding.service'\nimport {Component, OnInit, ViewChild} from '@angular/core'\nimport {AlertController} from '@ionic/angular'\nimport {NgxY2PlayerOptions, NgxY2PlayerComponent} from 'ngx-y2-player'\n\n@Component({\n  selector: 'app-on-boarding-level',\n  templateUrl: './on-boarding-level.page.html',\n  styleUrls: ['./on-boarding-level.page.scss'],\n})\nexport class OnBoardingLevelPage implements OnInit {\n  @ViewChild('video', {static: false}) video: NgxY2PlayerComponent\n  isDesktop = false\n\n  playerOptions: NgxY2PlayerOptions = {\n    playerVars: {\n      autohide: 1,\n      autoplay: 0,\n      controls: 0,\n      disablekb: 1,\n      enablejsapi: 1,\n      modestbranding: 1,\n      playsinline: 1,\n      rel: 0,\n      showinfo: 0,\n      // origin: 'https://www.youtube.com',\n    },\n  }\n\n  youTubeId\n  levels = []\n  currentLevel: any\n  selectedLevel\n\n  constructor(\n    public onBoardingService: OnBoardingService,\n    public router: Router,\n    public alertController: AlertController,\n    public navController: NavController,\n    public platform: Platform,\n    public sharedService: SharedService,\n  ) {\n    sharedService.getDeviceInfo().then((info) => {\n      this.isDesktop = info.isDesktop\n    })\n    this.sharedService.gaTrackView('On-Boarding Select Level Screen')\n  }\n\n  ngOnInit() {}\n\n  ionViewWillEnter() {\n    this.userGuid()\n    this.levelList()\n  }\n\n  userGuid() {\n    try {\n      this.onBoardingService.userGuid({language: 'eng'}).subscribe(\n        (res) => {\n          const {youtubeId} = res.data\n\n          this.youTubeId = youtubeId\n        },\n        (error) => {\n          // this.sharedService.presentToast( error );\n        },\n      )\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  levelList() {\n    try {\n      this.onBoardingService.levelList().subscribe(\n        async (res) => {\n          // console.log( res );\n\n          this.levels = res.data\n          // this.currentLevel = res.levelId;\n          // this.selectedLevel = this.currentLevel.userLevelId;\n\n          const alert = await this.alertController.create({\n            subHeader: 'Welcome! Your account has been successfully created.',\n            message:\n              \"<div><strong>Notes:</strong><div><div>1) We've have given you 5 free trial lessons.</div><div>2) Check your email to verify that you're real.</div>\",\n            cssClass: 'on-boarding-alert',\n            buttons: ['OK'],\n          })\n\n          await alert.present()\n        },\n        (error) => {\n          console.log(error)\n        },\n      )\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  selectLevel(event) {\n    if (event) {\n      this.currentLevel = {}\n      this.currentLevel['userLevelId'] = event\n\n      const findLevel = this.levels.find(\n        (level) => level.id === this.currentLevel['userLevelId'],\n      )\n\n      this.sharedService.gaTrackEvent('SelectedLevel', findLevel.name)\n\n      if (findLevel.name === 'Elementary') {\n        this.currentLevel['name'] = 'Upper-beginner'\n      } else {\n        this.currentLevel['name'] = findLevel.name\n      }\n    }\n  }\n\n  onChangeLevel(level) {\n    if (level.name === 'Elementary') {\n      this.currentLevel['name'] = 'Upper-beginner'\n    } else {\n      this.currentLevel['name'] = level.name\n    }\n  }\n\n  nextQuestion() {\n    this.video.videoPlayer.pauseVideo()\n\n    try {\n      this.onBoardingService.changeLevel(this.currentLevel).subscribe(\n        async (res) => {\n          this.navController.setDirection('forward')\n          this.router.navigate(['/on-boarding-language'])\n          this.sharedService.gaTrackEvent(\n            'LevelNextQuestion',\n            '{\"Screen\":\"Select Level Screen\",\"selection\":\"Next\"}',\n          )\n        },\n        (error) => {\n          console.log(error)\n        },\n      )\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  onReady(event) {\n    if (event.target) {\n      // event.target.playVideo();\n    }\n  }\n\n  onStateChange(event) {\n    // console.log( event );\n  }\n}\n"]}